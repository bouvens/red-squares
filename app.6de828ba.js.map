{"version":3,"sources":["webpack:///app.6de828ba.js","webpack:///./src/managers/traveller.js","webpack:///./src/components/StateControl/controls/Check/Check.jsx","webpack:///./src/components/StateControl/controls/Input/Input.jsx","webpack:///./src/constants/actionTypes.js","webpack:///./src/game-logic/threats.js","webpack:///./src/reducers/game.js","webpack:///./src/components/StateControl/controls/SettersBlock/SettersBlock.jsx","webpack:///./src/managers/stable.js","webpack:///./src/managers/scared.js","webpack:///./src/components/StateControl/controls/Connector/Connector.jsx","webpack:///./src/game-logic/game.js","webpack:///./src/components/Sidebar.jsx","webpack:///./src/reducers/threats.js","webpack:///./src/constants/hero.js","webpack:///./src/managers/still.js","webpack:///./src/reducers/hero.js","webpack:///./src/actions/params.js","webpack:///./src/constants/game.js","webpack:///./src/components/RedSquares.jsx","webpack:///./src/actions/game.js","webpack:///./src/managers/common.js","webpack:///./src/game-logic/hero.js","webpack:///./src/components/StateControl/common/controlled.jsx","webpack:///./src/index.js","webpack:///./src/utils/InputCatcher.js","webpack:///./src/managers/manual.js","webpack:///./src/components/StateControl/controls/Radio/Radio.jsx","webpack:///./src/components/CanvasField.jsx","webpack:///./src/components/StateControl/common/utils.js","webpack:///./src/App.jsx","webpack:///./src/managers/random.js","webpack:///./src/components/RedSquares.less","webpack:///./src/utils/funcs.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","1+5B","__webpack_exports__","getClearest","safe","fieldWidth","fieldHeight","threats","clearest","xBest","yBest","getMinDistance","setupMinDistance","x","y","distance","__WEBPACK_IMPORTED_MODULE_0__common__","_ref","Math","min","i","_ref2","game","hero","newThreats","map","threat","speed","size","nearest","variant","reduce","best","current","2ICE","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_class","_temp","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1__common_controlled__","__WEBPACK_IMPORTED_MODULE_2__common_utils__","__WEBPACK_IMPORTED_MODULE_3__Check_css__","Check","_React$PureComponent","this","apply","arguments","render","a","createElement","className","id","props","type","ref","refHandler","checked","readOnly","onChange","onClick","onFocus","htmlFor","label","PureComponent","defaultProps","multiLine","2RiJ","__WEBPACK_IMPORTED_MODULE_3__Input_css__","Input","Inner","4HHy","d","INIT","SET_STATE","7lKn","controlThreats","state","_state$game","frame","frameLength","__WEBPACK_IMPORTED_MODULE_2__constants_game__","_extends","beat","removeProbability","oldThreatsNum","length","filter","isAroundField","outs","beats","isGoingOut","isOut","added","limit","lastTime","addTimeout","push","newThreat","index","maxSpeed","newState","__WEBPACK_IMPORTED_MODULE_0_lodash___default","merge","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1__utils_funcs__","assign","target","source","key","hasOwnProperty","processSpeed","canFlyAway","axis","lean","abs","random","processThreat","leftBorder","rightBorder","topBorder","bottomBorder","round","ceil","9IwA","9jEl","__WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__","__WEBPACK_IMPORTED_MODULE_2__managers__","__WEBPACK_IMPORTED_MODULE_3__constants_game__","initialState","redSquares","inputController","manager","findKey","f","status","stop","autoRestart","highestBeats","frameTime","normalSpeed","error","undefined","action","extend","data","Aaru","__WEBPACK_IMPORTED_MODULE_1__common_utils__","Setter","text","tabIndex","setters","setState","tabIndexOffset","setter","params","BCOr","__WEBPACK_IMPORTED_MODULE_0__game__","__WEBPACK_IMPORTED_MODULE_1__params__","CfS3","__WEBPACK_IMPORTED_MODULE_2__common__","scaryEdges","extendedThreats","nearestThreat","_getNearest","ChGC","defineProperty","__WEBPACK_IMPORTED_MODULE_1__hero__","__WEBPACK_IMPORTED_MODULE_2__threats__","DBoO","EACi","_objectWithoutProperties","obj","keys","indexOf","Connector","children","passedProps","Children","child","EBfR","spacePress","play","statusUpdate","pause","__WEBPACK_IMPORTED_MODULE_3__utils_funcs__","reactToKeys","oldState","_state$game$inputCont","space","callManager","__WEBPACK_IMPORTED_MODULE_1__managers__","isNaN","gameStateUpdater","nextPlayFrame","__WEBPACK_IMPORTED_MODULE_4__hero__","__WEBPACK_IMPORTED_MODULE_5__threats__","J2UN","QCNp","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_redux__","__WEBPACK_IMPORTED_MODULE_3_lodash__","__WEBPACK_IMPORTED_MODULE_3_lodash___default","__WEBPACK_IMPORTED_MODULE_4__actions__","__WEBPACK_IMPORTED_MODULE_5__managers__","__WEBPACK_IMPORTED_MODULE_6__constants_game__","__WEBPACK_IMPORTED_MODULE_7__StateControl__","__WEBPACK_IMPORTED_MODULE_8__RedSquares_less__","__WEBPACK_IMPORTED_MODULE_8__RedSquares_less___default","Sidebar","_dec","threatsLength","mapValues","get","dispatch","processSpacePress","clearHighest","_React$Component","_this","_ret","_len","args","Array","_key","concat","getS","name","num","changeHandler","_this2","side","style","width","sideWidth","invert","defaultNum","values","heroSize","heroSpeed","threatSize","threatSpeed","threatLimit","threatAddTimeout","threatRemoveProbability","Component","WNaE","YhS/","HERO_STATUSES","normal","trouble","Z3B0","ZB46","__WEBPACK_IMPORTED_MODULE_0__manual__","__WEBPACK_IMPORTED_MODULE_1__still__","__WEBPACK_IMPORTED_MODULE_2__random__","__WEBPACK_IMPORTED_MODULE_3__scared__","__WEBPACK_IMPORTED_MODULE_4__stable__","__WEBPACK_IMPORTED_MODULE_5__traveller__","ZJmM","__WEBPACK_IMPORTED_MODULE_3__constants_hero__","__WEBPACK_IMPORTED_MODULE_4__utils_funcs__","shadowPeriod","shadowQuantity","shadows","ZvXP","set","bHK7","HIGHEST_BEATS","DEFAULTS","GAME_STATUS","BUTTON_NAMES","IDS","KEY_CODES","_BUTTON_NAMES","cilB","gIL8","__WEBPACK_IMPORTED_MODULE_1_redux__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3__actions__","__WEBPACK_IMPORTED_MODULE_4__constants_game__","__WEBPACK_IMPORTED_MODULE_5__RedSquares_less__","__WEBPACK_IMPORTED_MODULE_5__RedSquares_less___default","__WEBPACK_IMPORTED_MODULE_6__CanvasField__","__WEBPACK_IMPORTED_MODULE_7__Sidebar__","RedSquares","init","getFieldSize","fieldRect","field","left","offsetLeft","top","offsetTop","right","clientWidth","bottom","clientHeight","handleRefField","elem","componentDidMount","wrapper","hB/+","getState","__WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__","__WEBPACK_IMPORTED_MODULE_3__game_logic__","updateFrame","initState","isPreviouslyPlayed","__WEBPACK_IMPORTED_MODULE_1__constants_game__","localStorage","setItem","max","performance","now","setTimeout","getWaitTime","removeItem","__WEBPACK_IMPORTED_MODULE_2__utils_InputCatcher__","parseInt","hReJ","getScaryEdges","height","edges","getVariants","variants","angle","PI","VARIANTS_QUANTITY","cos","sin","getNearest","getSafeInterval","SCARY_INTERVAL","getDistance","A","B","sqrt","pow","Infinity","iMa0","getMove","xDelta","yDelta","xMove","yMove","normalization","getShadows","pop","unshift","moveHero","_getMove","getHeroStatus","__WEBPACK_IMPORTED_MODULE_2__constants_hero__","safeLength","some","kQSo","__WEBPACK_IMPORTED_MODULE_1__utils__","_typeof","Symbol","iterator","controlled","Child","_class2","path","_props","getId","getPath","getValue","event","valueForReturn","control","lVK7","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_3__index_css__","document","querySelector","liqn","InputCatcher","_initialiseProps","keymap","initialKeymap","onmousemove","saveMousePos","window","onkeydown","process","mousePos","keyPressed","e","pageX","pageY","keyCode","preventDefault","saveKeyPressed","forEach","mfQ3","__WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__","fieldSize","oSbc","oW9P","q8+6","__WEBPACK_IMPORTED_MODULE_3__Radio_css__","Radio","currentValue","variantId","qaGz","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_4__RedSquares_less__","__WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default","CanvasField","_heroStyle","heroStyle","heroStatus","heroPos","canvas","handleRefCanvas","drawSquare","ctx","pos","color","fillStyle","fillRect","paint","getContext","clearRect","shadow","fieldWrapper","qrPN","noOperation","sMfP","__WEBPACK_IMPORTED_MODULE_2_redux_thunk__","__WEBPACK_IMPORTED_MODULE_2_redux_thunk___default","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4__reducers__","__WEBPACK_IMPORTED_MODULE_5__components_RedSquares__","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","App","svHd","getRandomCoordinate","range","t9xF","__WEBPACK_IMPORTED_MODULE_1__controls_Connector_Connector__","__WEBPACK_IMPORTED_MODULE_2__controls_Input_Input__","__WEBPACK_IMPORTED_MODULE_3__controls_Radio_Radio__","__WEBPACK_IMPORTED_MODULE_4__controls_Check_Check__","tNBi","vlrw","combineProcessors","processors","result","processor","sign","__WEBPACK_IMPORTED_MODULE_0__constants_game__","defaultHeroPosition"],"mappings":"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","file":"app.6de828ba.js","sourcesContent":["webpackJsonp([1,2],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+prg\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"1+5B\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common__ = __webpack_require__(\"hReJ\");\n\n\nvar setupMinDistance = function setupMinDistance(fieldWidth, fieldHeight, safe) {\n    return function (_ref, threats) {\n        var x = _ref.x,\n            y = _ref.y;\n        return Math.min(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__common__[\"a\" /* getNearest */])({ x: x, y: y }, threats).distance, x + safe, fieldWidth + safe - x, y + safe, fieldHeight + safe - y);\n    };\n};\n\nfunction getClearest(safe, fieldWidth, fieldHeight, threats) {\n    var clearest = 0;\n    var xBest = void 0;\n    var yBest = void 0;\n    var getMinDistance = setupMinDistance(fieldWidth, fieldHeight, safe);\n\n    for (var x = safe; x < fieldWidth - safe; x += safe) {\n        for (var y = safe; y < fieldHeight - safe; y += safe) {\n            var distance = getMinDistance({ x: x, y: y }, threats);\n\n            if (distance > clearest) {\n                clearest = distance;\n                xBest = x;\n                yBest = y;\n            }\n        }\n    }\n\n    return {\n        x: xBest,\n        y: yBest\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (_ref2) {\n    var game = _ref2.game,\n        hero = _ref2.hero,\n        threats = _ref2.threats;\n\n    var newThreats = threats.threats.map(function (threat) {\n        return {\n            x: threat.x + threat.speed.x,\n            y: threat.y + threat.speed.y\n        };\n    });\n\n    var safe = hero.size + threats.size;\n    var getMinDistance = setupMinDistance(game.fieldWidth, game.fieldHeight, safe);\n    var nearest = getMinDistance(hero, newThreats);\n\n    if (nearest > __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__common__[\"b\" /* getSafeInterval */])(hero, threats)) {\n        return getClearest(safe, game.fieldWidth, game.fieldHeight, newThreats);\n    }\n\n    var variant = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__common__[\"c\" /* getVariants */])(hero).reduce(function (best, current) {\n        var distance = getMinDistance(current, newThreats);\n\n        if (distance > best.distance) {\n            return {\n                x: current.x,\n                y: current.y,\n                distance: distance\n            };\n        }\n\n        return best;\n    }, {\n        x: hero.x,\n        y: hero.y,\n        distance: nearest\n    });\n\n    return {\n        x: variant.x,\n        y: variant.y\n    };\n};\n\n/***/ }),\n\n/***/ \"2ICE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_controlled__ = __webpack_require__(\"kQSo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_utils__ = __webpack_require__(\"qrPN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Check_css__ = __webpack_require__(\"oW9P\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Check_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__Check_css__);\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar Check = (_temp = _class = function (_React$PureComponent) {\n    _inherits(Check, _React$PureComponent);\n\n    function Check() {\n        _classCallCheck(this, Check);\n\n        return _possibleConstructorReturn(this, _React$PureComponent.apply(this, arguments));\n    }\n\n    Check.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'labeled-check' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                id: this.props.id,\n                type: 'checkbox',\n                ref: this.props.refHandler(this),\n                checked: this.props.value,\n                readOnly: this.props.readOnly,\n                onChange: this.props.onChange,\n                onClick: this.props.onClick(this),\n                onFocus: this.props.onFocus(this)\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: this.props.id },\n                this.props.label\n            )\n        );\n    };\n\n    return Check;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent), _class.defaultProps = {\n    id: '',\n    value: false,\n    label: '',\n    readOnly: false,\n    onChange: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    onClick: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    onFocus: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    multiLine: false,\n    refHandler: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */]\n}, _temp);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__common_controlled__[\"a\" /* default */])(Check);\n\n/***/ }),\n\n/***/ \"2RiJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_controlled__ = __webpack_require__(\"kQSo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_utils__ = __webpack_require__(\"qrPN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Input_css__ = __webpack_require__(\"oSbc\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Input_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__Input_css__);\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar Input = (_temp = _class = function (_React$PureComponent) {\n    _inherits(Input, _React$PureComponent);\n\n    function Input() {\n        _classCallCheck(this, Input);\n\n        return _possibleConstructorReturn(this, _React$PureComponent.apply(this, arguments));\n    }\n\n    Input.prototype.render = function render() {\n        var Inner = this.props.multiLine ? 'textarea' : 'input';\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'labeled-input' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: this.props.id },\n                this.props.label\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Inner, {\n                id: this.props.id,\n                ref: this.props.refHandler(this),\n                value: this.props.value,\n                readOnly: this.props.readOnly,\n                onChange: this.props.onChange,\n                onClick: this.props.onClick(this),\n                onFocus: this.props.onFocus(this)\n            })\n        );\n    };\n\n    return Input;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent), _class.defaultProps = {\n    id: '',\n    value: '',\n    label: '',\n    readOnly: false,\n    onChange: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    onClick: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    onFocus: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    multiLine: false,\n    refHandler: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */]\n}, _temp);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__common_controlled__[\"a\" /* default */])(Input);\n\n/***/ }),\n\n/***/ \"4HHy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return INIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SET_STATE; });\nvar INIT = 'INIT';\nvar SET_STATE = 'SET_STATE';\n\n/***/ }),\n\n/***/ \"7lKn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = controlThreats;\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\nvar processSpeed = function processSpeed(newThreat, size, canFlyAway) {\n    return function (axis, lean) {\n        newThreat.isGoingOut = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"b\" /* sign */])(lean) === __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"b\" /* sign */])(newThreat.speed[axis]);\n\n        if (!newThreat.isOut) {\n            if (canFlyAway && newThreat.isGoingOut) {\n                newThreat.isOut = true;\n            } else {\n                newThreat.speed[axis] = (newThreat.isGoingOut ? -1 : 1) * (newThreat.speed[axis] || 1);\n            }\n        }\n        if (Math.abs(lean) > size * 3) {\n            newThreat.isAroundField = false;\n        }\n\n        return newThreat;\n    };\n};\n\nvar beat = function beat(removeProbability, size, fieldWidth, fieldHeight) {\n    return function (threat) {\n        var newThreat = _extends({}, threat);\n        var canFlyAway = Math.random() < 1 / removeProbability;\n        var processThreat = processSpeed(newThreat, size, canFlyAway);\n\n        var leftBorder = size;\n        if (newThreat.x < leftBorder) {\n            newThreat = processThreat('x', newThreat.x - leftBorder);\n        }\n        var rightBorder = fieldWidth - size;\n        if (newThreat.x > rightBorder) {\n            newThreat = processThreat('x', newThreat.x - rightBorder);\n        }\n\n        var topBorder = size;\n        if (newThreat.y < topBorder) {\n            newThreat = processThreat('y', newThreat.y - topBorder);\n        }\n        var bottomBorder = fieldHeight - size;\n        if (newThreat.y > bottomBorder) {\n            newThreat = processThreat('y', newThreat.y - bottomBorder);\n        }\n\n        return newThreat;\n    };\n};\n\nvar newThreat = function newThreat(size, index, fieldWidth, fieldHeight, maxSpeed) {\n    var lean = size * 2;\n    var x = Math.round(Math.random() * (fieldWidth - lean));\n    var y = 0 - lean;\n    var speed = {\n        x: Math.round((Math.random() * 2 - 1) * maxSpeed),\n        y: Math.ceil(Math.random() * maxSpeed)\n    };\n\n    if (Math.random() < 0.5) {\n        x = 0 - lean;\n        y = Math.round(Math.random() * (fieldHeight - lean));\n        speed = {\n            x: Math.ceil(Math.random() * maxSpeed),\n            y: Math.round((Math.random() * 2 - 1) * maxSpeed)\n        };\n\n        if (Math.random() < 0.5) {\n            x = fieldWidth;\n            speed.x *= -1;\n        }\n    } else if (Math.random() < 0.5) {\n        y = fieldHeight;\n        speed.y *= -1;\n    }\n    return {\n        id: index,\n        x: x,\n        y: y,\n        speed: speed,\n        isOut: false,\n        isAroundField: true\n    };\n};\n\nfunction controlThreats(state) {\n    var threats = state.threats;\n    var _state$game = state.game,\n        frame = _state$game.frame,\n        fieldWidth = _state$game.fieldWidth,\n        fieldHeight = _state$game.fieldHeight;\n    var frameLength = __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].frameLength;\n\n\n    var newThreats = threats.threats.map(function (threat) {\n        return _extends({}, threat, {\n            x: threat.x + threat.speed.x,\n            y: threat.y + threat.speed.y\n        });\n    }).map(beat(threats.removeProbability, threats.size, fieldWidth, fieldHeight));\n    var oldThreatsNum = newThreats.length;\n    newThreats = newThreats.filter(function (threat) {\n        return threat.isAroundField;\n    });\n    var outs = oldThreatsNum - newThreats.length;\n\n    var beats = 0;\n\n    newThreats = newThreats.map(function (threat) {\n        if (threat.isGoingOut && !threat.isOut) {\n            beats += 1;\n            delete threat.isGoingOut;\n        }\n        return threat;\n    }, 0);\n\n    var added = 0;\n    if (newThreats.length < threats.limit && frame >= threats.lastTime + threats.addTimeout / frameLength) {\n        newThreats.push(newThreat(threats.size, threats.index, fieldWidth, fieldHeight, threats.maxSpeed));\n        added = 1;\n    }\n\n    var newState = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.merge({}, state, {\n        game: {\n            beats: state.game.beats + beats,\n            outs: state.game.outs + outs\n        },\n        threats: {\n            lastTime: added ? frame : threats.lastTime,\n            index: threats.index + added\n        }\n    });\n\n    newState.threats.threats = newThreats;\n\n    return newState;\n}\n\n/***/ }),\n\n/***/ \"9IwA\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"9jEl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__managers__ = __webpack_require__(\"ZB46\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_game__ = __webpack_require__(\"bHK7\");\n\n\n\n\n\nvar initialState = {\n    redSquares: null,\n    inputController: null,\n    manager: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.findKey(__WEBPACK_IMPORTED_MODULE_2__managers__, function (f) {\n        return f === __WEBPACK_IMPORTED_MODULE_2__managers__[\"Stable\"];\n    }),\n    status: __WEBPACK_IMPORTED_MODULE_3__constants_game__[\"d\" /* GAME_STATUS */].stop,\n    autoRestart: true,\n    beats: 0,\n    highestBeats: 0,\n    outs: 0,\n    frame: 0,\n    frameTime: 0,\n    normalSpeed: false,\n    fieldWidth: __WEBPACK_IMPORTED_MODULE_3__constants_game__[\"a\" /* DEFAULTS */].fieldWidth,\n    fieldHeight: __WEBPACK_IMPORTED_MODULE_3__constants_game__[\"a\" /* DEFAULTS */].fieldHeight,\n    error: ''\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"b\" /* INIT */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data);\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data.game);\n        default:\n            return state;\n    }\n};\n\n/***/ }),\n\n/***/ \"Aaru\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_utils__ = __webpack_require__(\"qrPN\");\n/* unused harmony export SettersBlock */\n\n\n\nvar Setter = function Setter(_ref) {\n    var text = _ref.text,\n        tabIndex = _ref.tabIndex,\n        onClick = _ref.onClick;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { className: 'setter' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'a',\n            { onClick: onClick, tabIndex: tabIndex },\n            text\n        )\n    );\n};\n\nSetter.defaultProps = {\n    text: '',\n    tabIndex: -1,\n    onClick: __WEBPACK_IMPORTED_MODULE_1__common_utils__[\"a\" /* noOperation */]\n};\n\nvar SettersBlock = function SettersBlock(_ref2) {\n    var setters = _ref2.setters,\n        setState = _ref2.setState,\n        tabIndexOffset = _ref2.tabIndexOffset;\n\n    var index = 0;\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { className: 'setters-block' },\n        setters.map(function (setter) {\n            index += 1;\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Setter, {\n                onClick: function onClick() {\n                    return setState(setter.params);\n                },\n                key: index,\n                tabIndex: index + tabIndexOffset,\n                text: setter.text\n            });\n        })\n    );\n};\n\nSettersBlock.defaultProps = {\n    tabIndexOffset: 1\n};\n\n/***/ }),\n\n/***/ \"BCOr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(\"hB/+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__params__ = __webpack_require__(\"ZvXP\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__; });\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__params__; });\n\n\n\n\n\n/***/ }),\n\n/***/ \"CfS3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common__ = __webpack_require__(\"hReJ\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (_ref) {\n    var game = _ref.game,\n        hero = _ref.hero,\n        threats = _ref.threats;\n\n    var scaryEdges = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"d\" /* getScaryEdges */])(hero, 2 * threats.size, game.fieldWidth, game.fieldHeight);\n    var newThreats = threats.threats.map(function (threat) {\n        return {\n            x: threat.x + threat.speed.x,\n            y: threat.y + threat.speed.y\n        };\n    });\n    var extendedThreats = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(scaryEdges, newThreats);\n\n    var nearestThreat = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* getNearest */])(hero, extendedThreats);\n\n    if (!nearestThreat.threat || nearestThreat.distance > __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"b\" /* getSafeInterval */])(hero, threats)) {\n        return __WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"a\" /* defaultHeroPosition */];\n    }\n\n    var variant = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"c\" /* getVariants */])(hero).reduce(function (best, current) {\n        var _getNearest = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* getNearest */])(current, extendedThreats),\n            distance = _getNearest.distance;\n\n        if (distance > best.distance) {\n            return {\n                x: current.x,\n                y: current.y,\n                distance: distance\n            };\n        }\n\n        return best;\n    }, {\n        x: hero.x,\n        y: hero.y,\n        distance: nearestThreat.distance\n    });\n\n    return {\n        x: variant.x,\n        y: variant.y\n    };\n};\n\n/***/ }),\n\n/***/ \"ChGC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(\"9jEl\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"game\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__hero__ = __webpack_require__(\"ZJmM\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"hero\", function() { return __WEBPACK_IMPORTED_MODULE_1__hero__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__threats__ = __webpack_require__(\"WNaE\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"threats\", function() { return __WEBPACK_IMPORTED_MODULE_2__threats__[\"a\"]; });\n\n\n\n\n/***/ }),\n\n/***/ \"DBoO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common__ = __webpack_require__(\"hReJ\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (_ref) {\n    var game = _ref.game,\n        hero = _ref.hero,\n        threats = _ref.threats;\n\n    var scaryEdges = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"d\" /* getScaryEdges */])(hero, 2 * threats.size, game.fieldWidth, game.fieldHeight);\n\n    var nearestThreat = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* getNearest */])(hero, __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(scaryEdges, threats.threats));\n\n    if (!nearestThreat.threat || nearestThreat.distance > __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"b\" /* getSafeInterval */])(hero, threats) * 2) {\n        return __WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"a\" /* defaultHeroPosition */];\n    }\n\n    var distance = {\n        x: hero.x - nearestThreat.threat.x,\n        y: hero.y - nearestThreat.threat.y\n    };\n\n    return {\n        x: hero.x + distance.x,\n        y: hero.y + distance.y\n    };\n};\n\n/***/ }),\n\n/***/ \"EACi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Connector; });\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\nvar Connector = function Connector(props) {\n    var children = props.children,\n        passedProps = _objectWithoutProperties(props, ['children']);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { className: 'controlled-connector' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.Children.map(children, function (child) {\n            return typeof child.type === 'function' ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(child.type, _extends({}, passedProps, child.props)) : child;\n        })\n    );\n};\n\n\n\n/***/ }),\n\n/***/ \"EBfR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__managers__ = __webpack_require__(\"ZB46\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__hero__ = __webpack_require__(\"iMa0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__threats__ = __webpack_require__(\"7lKn\");\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = spacePress;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = gameStateUpdater;\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n\nvar statusUpdate = function statusUpdate(state, status) {\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.merge({}, state, {\n        game: {\n            status: status\n        }\n    });\n};\n\nfunction spacePress(state) {\n    switch (state.game.status) {\n        case __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].play:\n            return statusUpdate(state, __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].pause);\n        case __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].pause:\n            return statusUpdate(state, __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].play);\n        case __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].stop:\n        default:\n            return _extends({}, state, {\n                game: _extends({}, state.game, {\n                    status: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].play,\n                    beats: 0,\n                    outs: 0,\n                    frame: 0,\n                    error: ''\n                }),\n                hero: _extends({}, state.hero, __WEBPACK_IMPORTED_MODULE_3__utils_funcs__[\"a\" /* defaultHeroPosition */]),\n                threats: _extends({}, state.threats, {\n                    threats: [],\n                    lastTime: 0 - state.threats.addTimeout / __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].frameLength\n                })\n            });\n    }\n}\n\nfunction reactToKeys(oldState) {\n    var state = _extends({}, oldState);\n\n    if (state.game.autoRestart && state.game.status === __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].stop) {\n        state = spacePress(state);\n    } else {\n        var _state$game$inputCont;\n\n        state.game.inputController.reactToKeys((_state$game$inputCont = {}, _state$game$inputCont[__WEBPACK_IMPORTED_MODULE_2__constants_game__[\"f\" /* KEY_CODES */].space] = function () {\n            state = spacePress(state);\n        }, _state$game$inputCont));\n    }\n\n    return state;\n}\n\nfunction callManager(oldState) {\n    var state = _extends({}, oldState, {\n        target: __WEBPACK_IMPORTED_MODULE_1__managers__[oldState.game.manager](oldState)\n    });\n    if (isNaN(state.target.x) || isNaN(state.target.y)) {\n        state.game.error = 'Bad target';\n        state.target = {\n            x: state.hero.x,\n            y: state.hero.y\n        };\n    }\n\n    return state;\n}\n\nvar nextPlayFrame = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__utils_funcs__[\"c\" /* combineProcessors */])(callManager, __WEBPACK_IMPORTED_MODULE_5__threats__[\"a\" /* controlThreats */], __WEBPACK_IMPORTED_MODULE_4__hero__[\"a\" /* moveHero */]);\n\nfunction gameStateUpdater(oldState) {\n    var state = reactToKeys(oldState);\n\n    if (state.game.status === __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"d\" /* GAME_STATUS */].play) {\n        state = nextPlayFrame(state);\n        state.game.frame += 1;\n    }\n\n    return state;\n}\n\n/***/ }),\n\n/***/ \"J2UN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(\"EBfR\");\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__hero__ = __webpack_require__(\"iMa0\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__threats__ = __webpack_require__(\"7lKn\");\n/* unused harmony namespace reexport */\n\n\n\n\n/***/ }),\n\n/***/ \"QCNp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions__ = __webpack_require__(\"BCOr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__managers__ = __webpack_require__(\"ZB46\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__StateControl__ = __webpack_require__(\"t9xF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__RedSquares_less__ = __webpack_require__(\"tNBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__RedSquares_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__RedSquares_less__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Sidebar; });\nvar _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\nvar Sidebar = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(function (state) {\n    return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.extend({\n        status: state.game.status,\n        beats: state.game.beats,\n        highestBeats: state.game.highestBeats,\n        outs: state.game.outs,\n        threatsLength: state.threats.threats.length,\n        manager: state.game.manager\n    }, __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.mapValues(__WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */], function (id) {\n        return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(state, id);\n    }));\n}, function (dispatch) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux__[\"e\" /* bindActionCreators */])({\n        processSpacePress: __WEBPACK_IMPORTED_MODULE_4__actions__[\"a\" /* game */].processSpacePress,\n        setState: __WEBPACK_IMPORTED_MODULE_4__actions__[\"b\" /* params */].setState,\n        clearHighest: __WEBPACK_IMPORTED_MODULE_4__actions__[\"a\" /* game */].clearHighest\n    }, dispatch);\n}), _dec(_class = function (_React$Component) {\n    _inherits(Sidebar, _React$Component);\n\n    function Sidebar() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Sidebar);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getS = function (name, num) {\n            return (num || 'No') + ' ' + name + (num !== 1 ? 's' : '');\n        }, _this.changeHandler = _this.props.setState, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Sidebar.prototype.render = function render() {\n        var _this2 = this;\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: __WEBPACK_IMPORTED_MODULE_8__RedSquares_less___default.a.side, style: { width: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"a\" /* DEFAULTS */].sideWidth + 'px' } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { onClick: this.props.processSpacePress },\n                __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"c\" /* BUTTON_NAMES */][this.props.status]\n            ),\n            ' (Press Space)',\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'h2',\n                null,\n                this.getS('beat', this.props.beats)\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                'Highest beats: ',\n                this.props.highestBeats\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                this.getS('out', this.props.outs)\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                this.getS('threat', this.props.threatsLength),\n                ' on field'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_7__StateControl__[\"a\" /* Connector */],\n                {\n                    state: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.mapValues(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.invert(__WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */]), function (id) {\n                        return _this2.props[id];\n                    }),\n                    onChange: this.changeHandler,\n                    defaultNum: 1\n                },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"b\" /* Check */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].autoRestart,\n                    label: 'Auto restart'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"b\" /* Check */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].normalSpeed,\n                    label: 'Normal speed'\n                }),\n                'Control',\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Radio */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].manager,\n                    values: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.keys(__WEBPACK_IMPORTED_MODULE_5__managers__)\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].heroSize,\n                    label: 'Hero size (px)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].heroSpeed,\n                    label: 'Hero max speed (px/s)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatSize,\n                    label: 'Threat size (px)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatSpeed,\n                    label: 'Threat max speed (px/s)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatLimit,\n                    label: 'Threat limit'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatAddTimeout,\n                    label: 'Threat add timeout (ms)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"d\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatRemoveProbability,\n                    label: 'Threat remove probability (1/x)'\n                })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { onClick: this.props.clearHighest },\n                'Clear highest'\n            )\n        );\n    };\n\n    return Sidebar;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)) || _class);\n\n\n/***/ }),\n\n/***/ \"WNaE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n\n\n\n\nvar initialState = {\n    threats: [],\n    size: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatSize,\n    maxSpeed: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatSpeed,\n    lastTime: 0,\n    addTimeout: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatAddTimeout,\n    index: 0,\n    limit: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatLimit,\n    removeProbability: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatRemoveProbability\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data.threats);\n        default:\n            return state;\n    }\n};\n\n/***/ }),\n\n/***/ \"YhS/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HERO_STATUSES; });\nvar HERO_STATUSES = {\n    normal: 'normal',\n    trouble: 'trouble'\n};\n\n/***/ }),\n\n/***/ \"Z3B0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = function (state) {\n    return state.hero ? {\n        x: state.hero.x,\n        y: state.hero.y\n    } : {\n        x: 0,\n        y: 0\n    };\n};\n\n/***/ }),\n\n/***/ \"ZB46\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__manual__ = __webpack_require__(\"mfQ3\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Mouse\", function() { return __WEBPACK_IMPORTED_MODULE_0__manual__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__still__ = __webpack_require__(\"Z3B0\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Still\", function() { return __WEBPACK_IMPORTED_MODULE_1__still__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__random__ = __webpack_require__(\"svHd\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Random\", function() { return __WEBPACK_IMPORTED_MODULE_2__random__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__scared__ = __webpack_require__(\"DBoO\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Scared\", function() { return __WEBPACK_IMPORTED_MODULE_3__scared__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__stable__ = __webpack_require__(\"CfS3\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Stable\", function() { return __WEBPACK_IMPORTED_MODULE_4__stable__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__traveller__ = __webpack_require__(\"1+5B\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Traveller\", function() { return __WEBPACK_IMPORTED_MODULE_5__traveller__[\"a\"]; });\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"ZJmM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_hero__ = __webpack_require__(\"YhS/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_funcs__ = __webpack_require__(\"vlrw\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\nvar initialState = _extends({}, __WEBPACK_IMPORTED_MODULE_4__utils_funcs__[\"a\" /* defaultHeroPosition */], {\n    maxSpeed: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].heroSpeed,\n    status: __WEBPACK_IMPORTED_MODULE_3__constants_hero__[\"a\" /* HERO_STATUSES */].normal,\n    size: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].heroSize,\n    shadowPeriod: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].shadowPeriod,\n    shadowQuantity: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].shadowQuantity,\n    shadows: []\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data.hero);\n        default:\n            return state;\n    }\n};\n\n/***/ }),\n\n/***/ \"ZvXP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony export (immutable) */ __webpack_exports__[\"setState\"] = setState;\n\n\n\nfunction setState(name, value) {\n    return function (dispatch) {\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */],\n            data: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.set({}, name, value)\n        });\n    };\n}\n\n/***/ }),\n\n/***/ \"bHK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return HIGHEST_BEATS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DEFAULTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return GAME_STATUS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return BUTTON_NAMES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return IDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return KEY_CODES; });\nvar _BUTTON_NAMES;\n\nvar HIGHEST_BEATS = 'highestBeats';\n\nvar DEFAULTS = {\n    frameLength: 20,\n    heroSize: 25,\n    heroSpeed: 10,\n    threatSize: 15,\n    threatSpeed: 4,\n    threatLimit: 20,\n    threatAddTimeout: 1000,\n    threatRemoveProbability: 5,\n    fieldWidth: 800,\n    fieldHeight: 600,\n    sideWidth: 200,\n    shadowPeriod: 1,\n    shadowQuantity: 50\n};\n\nvar GAME_STATUS = {\n    play: 'play',\n    pause: 'pause',\n    stop: 'stop'\n};\n\nvar BUTTON_NAMES = (_BUTTON_NAMES = {}, _BUTTON_NAMES[GAME_STATUS.play] = 'Pause', _BUTTON_NAMES[GAME_STATUS.pause] = 'Resume', _BUTTON_NAMES[GAME_STATUS.stop] = 'Start', _BUTTON_NAMES);\n\nvar IDS = {\n    autoRestart: 'game.autoRestart',\n    normalSpeed: 'game.normalSpeed',\n    manager: 'game.manager',\n    heroSize: 'hero.size',\n    heroSpeed: 'hero.maxSpeed',\n    threatSize: 'threats.size',\n    threatSpeed: 'threats.maxSpeed',\n    threatLimit: 'threats.limit',\n    threatAddTimeout: 'threats.addTimeout',\n    threatRemoveProbability: 'threats.removeProbability'\n};\n\nvar KEY_CODES = {\n    space: 32\n};\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"gIL8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions__ = __webpack_require__(\"BCOr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RedSquares_less__ = __webpack_require__(\"tNBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RedSquares_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__RedSquares_less__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__CanvasField__ = __webpack_require__(\"qaGz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Sidebar__ = __webpack_require__(\"QCNp\");\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RedSquares; });\nvar _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nvar RedSquares = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(function (state) {\n    return {\n        fieldWidth: state.game.fieldWidth\n    };\n}, function (dispatch) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"e\" /* bindActionCreators */])({\n        init: __WEBPACK_IMPORTED_MODULE_3__actions__[\"a\" /* game */].init\n    }, dispatch);\n}), _dec(_class = function (_React$Component) {\n    _inherits(RedSquares, _React$Component);\n\n    function RedSquares() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, RedSquares);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getFieldSize = function () {\n            var fieldRect = _this.field;\n\n            return {\n                left: fieldRect.offsetLeft,\n                top: fieldRect.offsetTop,\n                right: fieldRect.offsetLeft + fieldRect.clientWidth,\n                bottom: fieldRect.offsetTop + fieldRect.clientHeight\n            };\n        }, _this.handleRefField = function (elem) {\n            _this.field = elem;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    RedSquares.prototype.componentDidMount = function componentDidMount() {\n        this.props.init(this);\n    };\n\n    RedSquares.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: __WEBPACK_IMPORTED_MODULE_5__RedSquares_less___default.a.wrapper, style: { width: this.props.fieldWidth + __WEBPACK_IMPORTED_MODULE_4__constants_game__[\"a\" /* DEFAULTS */].sideWidth + 'px' } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__CanvasField__[\"a\" /* default */], { refHandler: this.handleRefField }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__Sidebar__[\"a\" /* default */], null)\n        );\n    };\n\n    return RedSquares;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)) || _class);\n\n\n/***/ }),\n\n/***/ \"hB/+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_InputCatcher__ = __webpack_require__(\"liqn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__game_logic__ = __webpack_require__(\"J2UN\");\n/* harmony export (immutable) */ __webpack_exports__[\"processSpacePress\"] = processSpacePress;\n/* harmony export (immutable) */ __webpack_exports__[\"clearHighest\"] = clearHighest;\n/* harmony export (immutable) */ __webpack_exports__[\"init\"] = init;\n\n\n\n\n\nfunction processSpacePress() {\n    return function (dispatch, getState) {\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"a\" /* SET_STATE */],\n            data: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__game_logic__[\"a\" /* spacePress */])(getState())\n        });\n    };\n}\n\nvar getWaitTime = function getWaitTime(state) {\n    return Math.max(state.game.frameTime + __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"a\" /* DEFAULTS */].frameLength - performance.now(), 0);\n};\n\nfunction updateFrame(dispatch, getState) {\n    return function () {\n        var initState = getState();\n        var state = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__game_logic__[\"b\" /* gameStateUpdater */])(initState);\n\n        var isPreviouslyPlayed = initState.game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"d\" /* GAME_STATUS */].play;\n\n        if (state.game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"d\" /* GAME_STATUS */].stop && isPreviouslyPlayed) {\n            localStorage.setItem(__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* HIGHEST_BEATS */], state.game.highestBeats = Math.max(state.game.beats, state.game.highestBeats));\n        }\n\n        if (state.game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"d\" /* GAME_STATUS */].play || isPreviouslyPlayed) {\n            dispatch({\n                type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"a\" /* SET_STATE */],\n                data: state\n            });\n        }\n\n        if (state.game.normalSpeed) {\n            state.game.frameTime = performance.now();\n            setTimeout(updateFrame(dispatch, getState), getWaitTime(state));\n        } else {\n            setTimeout(updateFrame(dispatch, getState), 0);\n        }\n    };\n}\n\nfunction clearHighest() {\n    return function (dispatch) {\n        localStorage.removeItem(__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* HIGHEST_BEATS */]);\n\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"b\" /* INIT */],\n            data: {\n                highestBeats: 0\n            }\n        });\n    };\n}\n\nfunction init(redSquares) {\n    return function (dispatch, getState) {\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"b\" /* INIT */],\n            data: {\n                redSquares: redSquares,\n                inputController: new __WEBPACK_IMPORTED_MODULE_2__utils_InputCatcher__[\"a\" /* default */](),\n                highestBeats: localStorage[__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* HIGHEST_BEATS */]] ? parseInt(localStorage[__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* HIGHEST_BEATS */]], 10) : 0\n            }\n        });\n\n        updateFrame(dispatch, getState)();\n    };\n}\n\n/***/ }),\n\n/***/ \"hReJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export SCARY_INTERVAL */\n/* unused harmony export VARIANTS_QUANTITY */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getNearest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getSafeInterval; });\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getScaryEdges;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getVariants;\nvar SCARY_INTERVAL = 4 / 3;\nvar VARIANTS_QUANTITY = 24;\n\nvar getDistance = function getDistance(A, B) {\n    return Math.sqrt(Math.pow(A.x - B.x, 2) + Math.pow(A.y - B.y, 2));\n};\n\nvar getNearest = function getNearest(_ref, threats) {\n    var x = _ref.x,\n        y = _ref.y;\n    return threats.reduce(function (nearest, threat) {\n        var distance = getDistance({ x: x, y: y }, threat);\n        if (!nearest.threat || nearest.distance > distance) {\n            return {\n                threat: threat,\n                distance: distance\n            };\n        }\n\n        return nearest;\n    }, {\n        threat: null,\n        distance: Infinity\n    });\n};\n\nvar getSafeInterval = function getSafeInterval(hero, threats) {\n    return (hero.size + threats.size + hero.maxSpeed + threats.maxSpeed) * SCARY_INTERVAL;\n};\n\nfunction getScaryEdges(hero, size, width, height) {\n    var edges = [];\n    var x = hero.x,\n        y = hero.y;\n\n\n    edges.push({\n        x: x,\n        y: -size * 1.1\n    });\n    edges.push({\n        x: x,\n        y: height + size * 1.1\n    });\n\n    edges.push({\n        x: -size * 1.1,\n        y: y\n    });\n    edges.push({\n        x: width + size * 1.1,\n        y: y\n    });\n\n    return edges;\n}\n\nfunction getVariants(hero) {\n    var variants = [];\n    for (var angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / VARIANTS_QUANTITY) {\n        variants.push({\n            x: hero.x + Math.cos(angle) * hero.maxSpeed,\n            y: hero.y + Math.sin(angle) * hero.maxSpeed\n        });\n    }\n\n    return variants;\n}\n\n/***/ }),\n\n/***/ \"iMa0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_hero__ = __webpack_require__(\"YhS/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = moveHero;\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\nvar getHeroStatus = function getHeroStatus(x, y, heroSize, threatSize, threats) {\n    var safeLength = heroSize + threatSize;\n\n    if (threats.some(function (threat) {\n        return Math.abs(threat.x - x) < safeLength && Math.abs(threat.y - y) < safeLength;\n    })) {\n\n        return __WEBPACK_IMPORTED_MODULE_2__constants_hero__[\"a\" /* HERO_STATUSES */].trouble;\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_2__constants_hero__[\"a\" /* HERO_STATUSES */].normal;\n};\n\nfunction getMove(hero, target) {\n    var xDelta = target.x - hero.x;\n    var yDelta = target.y - hero.y;\n    var distance = Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2));\n\n    if (distance <= hero.maxSpeed) {\n        return {\n            xMove: xDelta,\n            yMove: yDelta\n        };\n    }\n\n    var normalization = distance / hero.maxSpeed;\n\n    return {\n        xMove: xDelta / normalization,\n        yMove: yDelta / normalization\n    };\n}\n\nfunction getShadows(_ref) {\n    var game = _ref.game,\n        hero = _ref.hero;\n    var shadows = hero.shadows;\n\n    var id = 0;\n\n    if (!(game.frame % hero.shadowPeriod)) {\n        if (shadows.length === hero.shadowQuantity) {\n            shadows.pop();\n        }\n        if (shadows.length) {\n            id = shadows[0].id + 1;\n        }\n        shadows.unshift({\n            x: hero.x,\n            y: hero.y,\n            id: id\n        });\n    }\n\n    return shadows;\n}\n\nfunction moveHero(state) {\n    var game = state.game,\n        hero = state.hero,\n        target = state.target;\n    var threats = state.threats.threats;\n\n    var threatSize = state.threats.size;\n\n    var _getMove = getMove(hero, target),\n        xMove = _getMove.xMove,\n        yMove = _getMove.yMove;\n\n    var x = hero.x + xMove;\n    x = Math.max(x, hero.size);\n    x = Math.min(x, game.fieldWidth - hero.size);\n\n    var y = hero.y + yMove;\n    y = Math.max(y, hero.size);\n    y = Math.min(y, game.fieldHeight - hero.size);\n\n    var status = getHeroStatus(x, y, hero.size, threatSize, threats);\n\n    return _extends({}, state, {\n        game: _extends({}, state.game, {\n            status: status === __WEBPACK_IMPORTED_MODULE_2__constants_hero__[\"a\" /* HERO_STATUSES */].normal ? __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"d\" /* GAME_STATUS */].play : __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"d\" /* GAME_STATUS */].stop\n        }),\n        hero: _extends({}, state.hero, {\n            x: x,\n            y: y,\n            status: status,\n            shadows: getShadows(state)\n        })\n    });\n}\n\n/***/ }),\n\n/***/ \"kQSo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(\"qrPN\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar controlled = function controlled(Child) {\n    return function (_React$Component) {\n        _inherits(_class2, _React$Component);\n\n        function _class2() {\n            var _temp, _this2, _ret;\n\n            _classCallCheck(this, _class2);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this2), _this2.defaultProps = {\n                children: null,\n                state: {},\n                path: '',\n                value: '',\n                values: [],\n                readOnly: false,\n                label: '',\n                defaultNum: 0,\n                onChange: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n                onClick: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n                onFocus: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n                multiLine: false\n            }, _temp), _possibleConstructorReturn(_this2, _ret);\n        }\n\n        _class2.prototype.render = function render() {\n            var _props = this.props,\n                id = _props.id,\n                state = _props.state,\n                path = _props.path,\n                value = _props.value,\n                defaultNum = _props.defaultNum,\n                onChange = _props.onChange,\n                passedProps = _objectWithoutProperties(_props, ['id', 'state', 'path', 'value', 'defaultNum', 'onChange']);\n\n            var getId = function getId() {\n                return 'labeled-control-' + id;\n            };\n            var getPath = function getPath() {\n                return path || id;\n            };\n            var getValue = function getValue() {\n                return value || state && state[getPath()];\n            };\n            var changeHandler = function changeHandler(event) {\n                var valueForReturn = event.target.value;\n                var checked = event.target.checked;\n\n\n                switch (_typeof(getValue())) {\n                    case 'number':\n                        valueForReturn = parseInt(valueForReturn, 10) || defaultNum;\n                        break;\n                    case 'boolean':\n                        valueForReturn = checked;\n                        break;\n                    case 'string':\n                    default:\n                        valueForReturn = valueForReturn || '';\n                        break;\n                }\n\n                onChange(getPath(), valueForReturn);\n            };\n            var refHandler = function refHandler(_this) {\n                return function (control) {\n                    _this.control = control;\n                };\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Child, _extends({}, passedProps, {\n                id: getId(),\n                value: getValue(),\n                onChange: changeHandler,\n                refHandler: refHandler\n            }));\n        };\n\n        return _class2;\n    }(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = controlled;\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(\"sMfP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__index_css__);\n\n\n\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"render\"])(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */], null), document.querySelector('#app'));\n\n/***/ }),\n\n/***/ \"liqn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return InputCatcher; });\nvar _class, _temp, _initialiseProps;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar InputCatcher = (_temp = _class = function InputCatcher(keymap) {\n    _classCallCheck(this, InputCatcher);\n\n    _initialiseProps.call(this);\n\n    this.initialKeymap = keymap;\n\n    if (InputCatcher.instance) {\n        return InputCatcher.instance;\n    }\n    InputCatcher.instance = this;\n\n    document.onmousemove = this.saveMousePos;\n    window.document.onkeydown = this.process;\n}, _class.mousePos = {}, _class.keyPressed = [], _initialiseProps = function _initialiseProps() {\n    var _this = this;\n\n    this.initialKeymap = {};\n\n    this.saveMousePos = function (e) {\n        InputCatcher.mousePos = {\n            x: e.pageX,\n            y: e.pageY\n        };\n    };\n\n    this.process = function (e) {\n        if (e.keyCode === 32) {\n            e.preventDefault();\n        }\n        _this.saveKeyPressed(e);\n    };\n\n    this.saveKeyPressed = function (_ref) {\n        var keyCode = _ref.keyCode;\n        return InputCatcher.keyPressed.push(keyCode);\n    };\n\n    this.reactToKeys = function () {\n        var keymap = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.initialKeymap;\n\n        InputCatcher.keyPressed.forEach(function (key) {\n            return keymap[key] && keymap[key]();\n        });\n        InputCatcher.keyPressed = [];\n    };\n}, _temp);\n\n\n/***/ }),\n\n/***/ \"mfQ3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__ = __webpack_require__(\"liqn\");\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (data) {\n    var fieldSize = data.game.redSquares.getFieldSize();\n\n    return {\n        x: __WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__[\"a\" /* default */].mousePos.x - fieldSize.left,\n        y: __WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__[\"a\" /* default */].mousePos.y - fieldSize.top\n    };\n};\n\n/***/ }),\n\n/***/ \"oSbc\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"oW9P\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"q8+6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_controlled__ = __webpack_require__(\"kQSo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_utils__ = __webpack_require__(\"qrPN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Radio_css__ = __webpack_require__(\"9IwA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Radio_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__Radio_css__);\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar Radio = (_temp = _class = function (_React$PureComponent) {\n    _inherits(Radio, _React$PureComponent);\n\n    function Radio() {\n        _classCallCheck(this, Radio);\n\n        return _possibleConstructorReturn(this, _React$PureComponent.apply(this, arguments));\n    }\n\n    Radio.prototype.render = function render() {\n        var _this2 = this;\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'group', id: this.props.id },\n            this.props.values.map(function (currentValue) {\n                var variantId = currentValue.id || currentValue;\n\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: variantId },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                        id: variantId,\n                        name: _this2.props.id,\n                        type: 'radio',\n                        ref: _this2.props.refHandler(_this2),\n                        value: variantId,\n                        checked: _this2.props.value === variantId,\n                        readOnly: _this2.props.readOnly,\n                        onChange: _this2.props.onChange,\n                        onClick: _this2.props.onClick(_this2),\n                        onFocus: _this2.props.onFocus(_this2)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { htmlFor: variantId },\n                        currentValue.label || currentValue\n                    )\n                );\n            })\n        );\n    };\n\n    return Radio;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent), _class.defaultProps = {\n    id: '',\n    value: '',\n    values: [],\n    readOnly: false,\n    onChange: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    onClick: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    onFocus: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */],\n    refHandler: __WEBPACK_IMPORTED_MODULE_2__common_utils__[\"a\" /* noOperation */]\n}, _temp);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__common_controlled__[\"a\" /* default */])(Radio);\n\n/***/ }),\n\n/***/ \"qaGz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_hero__ = __webpack_require__(\"YhS/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RedSquares_less__ = __webpack_require__(\"tNBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__RedSquares_less__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CanvasField; });\nvar _heroStyle, _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar heroStyle = (_heroStyle = {}, _heroStyle[__WEBPACK_IMPORTED_MODULE_3__constants_hero__[\"a\" /* HERO_STATUSES */].normal] = 'rgb(50, 205, 50)', _heroStyle[__WEBPACK_IMPORTED_MODULE_3__constants_hero__[\"a\" /* HERO_STATUSES */].trouble] = 'rgb(237, 20, 61)', _heroStyle);\n\nvar CanvasField = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(function (state) {\n    return {\n        fieldWidth: state.game.fieldWidth,\n        fieldHeight: state.game.fieldHeight,\n        heroStatus: state.hero.status,\n        heroSize: state.hero.size,\n        heroPos: {\n            x: state.hero.x,\n            y: state.hero.y\n        },\n        threatSize: state.threats.size,\n        threats: state.threats.threats,\n        shadows: state.hero.shadows,\n        error: state.game.error\n    };\n}), _dec(_class = function (_React$Component) {\n    _inherits(CanvasField, _React$Component);\n\n    function CanvasField() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, CanvasField);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.canvas = null, _this.handleRefCanvas = function (elem) {\n            _this.canvas = elem;\n            _this.props.refHandler(elem);\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    CanvasField.drawSquare = function drawSquare(_ref) {\n        var ctx = _ref.ctx,\n            pos = _ref.pos,\n            size = _ref.size,\n            color = _ref.color;\n\n        ctx.fillStyle = color;\n        ctx.fillRect(Math.round(pos.x - size), Math.round(pos.y - size), size * 2, size * 2);\n    };\n\n    CanvasField.prototype.paint = function paint() {\n        var _this2 = this;\n\n        if (!this.canvas) {\n            return;\n        }\n        var ctx = this.canvas.getContext('2d');\n\n        ctx.clearRect(0, 0, this.props.fieldWidth, this.props.fieldHeight);\n\n        this.props.shadows.forEach(function (shadow, index) {\n            return CanvasField.drawSquare({\n                ctx: ctx,\n                pos: _this2.props.shadows[index],\n                size: _this2.props.heroSize,\n                color: 'rgba(237, 20, 61, ' + (_this2.props.shadows.length - index - 1) / _this2.props.shadows.length * 0.3 + ')'\n            });\n        });\n        CanvasField.drawSquare({\n            ctx: ctx,\n            pos: this.props.heroPos,\n            size: this.props.heroSize,\n            color: heroStyle[this.props.heroStatus]\n        });\n        this.props.threats.forEach(function (threat) {\n            return CanvasField.drawSquare({\n                ctx: ctx,\n                pos: threat,\n                size: _this2.props.threatSize,\n                color: 'rgb(100, 149, 237)'\n            });\n        });\n    };\n\n    CanvasField.prototype.render = function render() {\n        this.paint();\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: __WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default.a.fieldWrapper },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'canvas',\n                {\n                    className: __WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default.a.field,\n                    ref: this.handleRefCanvas,\n                    width: this.props.fieldWidth,\n                    height: this.props.fieldHeight\n                },\n                'You are using an outdated browser.'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: __WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default.a.error },\n                this.props.error\n            )\n        );\n    };\n\n    return CanvasField;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)) || _class);\n\n\n/***/ }),\n\n/***/ \"qrPN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return noOperation; });\nvar noOperation = function noOperation() {};\n\n/***/ }),\n\n/***/ \"sMfP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_thunk__ = __webpack_require__(\"4ufr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_thunk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_redux_thunk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__reducers__ = __webpack_require__(\"ChGC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_RedSquares__ = __webpack_require__(\"gIL8\");\n\n\n\n\n\n\n\nvar composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ // eslint-disable-line no-underscore-dangle\n|| __WEBPACK_IMPORTED_MODULE_1_redux__[\"a\" /* compose */];\nvar store = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"b\" /* createStore */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"c\" /* combineReducers */])(__WEBPACK_IMPORTED_MODULE_4__reducers__), composeEnhancers(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"d\" /* applyMiddleware */])(__WEBPACK_IMPORTED_MODULE_2_redux_thunk___default.a)));\n\nvar App = function App() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_react_redux__[\"a\" /* Provider */],\n        { store: store },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__components_RedSquares__[\"a\" /* default */], null)\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = App;\n\n/***/ }),\n\n/***/ \"svHd\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction getRandomCoordinate(range, size) {\n    return Math.random() * (range - size * 2) + size;\n}\n\nvar target = void 0;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (state) {\n    if (!target || state.hero.x === target.x && state.hero.y === target.y) {\n        target = {\n            x: getRandomCoordinate(state.game.fieldWidth, state.hero.size),\n            y: getRandomCoordinate(state.game.fieldHeight, state.hero.size)\n        };\n    }\n\n    return target;\n};\n\n/***/ }),\n\n/***/ \"t9xF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__controls_SettersBlock_SettersBlock__ = __webpack_require__(\"Aaru\");\n/* unused harmony reexport SettersBlock */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__controls_Connector_Connector__ = __webpack_require__(\"EACi\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_1__controls_Connector_Connector__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__controls_Input_Input__ = __webpack_require__(\"2RiJ\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_2__controls_Input_Input__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__controls_Radio_Radio__ = __webpack_require__(\"q8+6\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_3__controls_Radio_Radio__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__controls_Check_Check__ = __webpack_require__(\"2ICE\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_4__controls_Check_Check__[\"a\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"tNBi\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"wrapper\":\"RedSquares__wrapper__n469N\",\"fieldWrapper\":\"RedSquares__fieldWrapper__3xRFe\",\"field\":\"RedSquares__field__3S_U-\",\"error\":\"RedSquares__error__32Ynw\",\"side\":\"RedSquares__side__1Qama\"};\n\n/***/ }),\n\n/***/ \"vlrw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = combineProcessors;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = sign;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return defaultHeroPosition; });\n\n\nfunction combineProcessors() {\n    for (var _len = arguments.length, processors = Array(_len), _key = 0; _key < _len; _key++) {\n        processors[_key] = arguments[_key];\n    }\n\n    return function (state) {\n        return processors.reduce(function (result, processor) {\n            return processor(result);\n        }, state);\n    };\n}\n\nfunction sign(num) {\n    if (num === 0 || isNaN(num)) {\n        return num;\n    }\n\n    return num > 0 ? 1 : -1;\n}\n\nvar defaultHeroPosition = {\n    x: (__WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].fieldWidth - __WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].heroSize) / 2,\n    y: (__WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].fieldHeight - __WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].heroSize) / 2\n};\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.6de828ba.js","import { getNearest, getVariants, getSafeInterval } from './common'\r\n\r\nconst setupMinDistance = (fieldWidth, fieldHeight, safe) => ({ x, y }, threats) => Math.min(\r\n    getNearest({ x, y }, threats).distance,\r\n    x + safe,\r\n    fieldWidth + safe - x,\r\n    y + safe,\r\n    fieldHeight + safe - y,\r\n)\r\n\r\nfunction getClearest (safe, fieldWidth, fieldHeight, threats) {\r\n    let clearest = 0\r\n    let xBest\r\n    let yBest\r\n    const getMinDistance = setupMinDistance(fieldWidth, fieldHeight, safe)\r\n\r\n    for (let x = safe; x < fieldWidth - safe; x += safe) {\r\n        for (let y = safe; y < fieldHeight - safe; y += safe) {\r\n            const distance = getMinDistance({ x, y }, threats)\r\n\r\n            if (distance > clearest) {\r\n                clearest = distance\r\n                xBest = x\r\n                yBest = y\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        x: xBest,\r\n        y: yBest,\r\n    }\r\n}\r\n\r\nexport default function ({ game, hero, threats }) {\r\n    const newThreats = threats.threats.map((threat) => (\r\n        {\r\n            x: threat.x + threat.speed.x,\r\n            y: threat.y + threat.speed.y,\r\n        }\r\n    ))\r\n\r\n    const safe = hero.size + threats.size\r\n    const getMinDistance = setupMinDistance(game.fieldWidth, game.fieldHeight, safe)\r\n    const nearest = getMinDistance(hero, newThreats)\r\n\r\n    if (nearest > getSafeInterval(hero, threats)) {\r\n        return getClearest(safe, game.fieldWidth, game.fieldHeight, newThreats)\r\n    }\r\n\r\n    const variant = getVariants(hero).reduce((best, current) => {\r\n        const distance = getMinDistance(current, newThreats)\r\n\r\n        if (distance > best.distance) {\r\n            return {\r\n                x: current.x,\r\n                y: current.y,\r\n                distance,\r\n            }\r\n        }\r\n\r\n        return best\r\n    }, {\r\n        x: hero.x,\r\n        y: hero.y,\r\n        distance: nearest,\r\n    })\r\n\r\n    return {\r\n        x: variant.x,\r\n        y: variant.y,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/traveller.js","import React, { PropTypes } from 'react'\r\nimport controlled from '../../common/controlled'\r\nimport { noOperation } from '../../common/utils'\r\nimport './Check.css'\r\n\r\nclass Check extends React.PureComponent {\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.bool,\r\n        label: PropTypes.string,\r\n        readOnly: PropTypes.bool,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        refHandler: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        id: '',\r\n        value: false,\r\n        label: '',\r\n        readOnly: false,\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        multiLine: false,\r\n        refHandler: noOperation,\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"labeled-check\">\r\n                <input\r\n                    id={this.props.id}\r\n                    type=\"checkbox\"\r\n                    ref={this.props.refHandler(this)}\r\n                    checked={this.props.value}\r\n                    readOnly={this.props.readOnly}\r\n                    onChange={this.props.onChange}\r\n                    onClick={this.props.onClick(this)}\r\n                    onFocus={this.props.onFocus(this)}\r\n                />\r\n                <label htmlFor={this.props.id}>{this.props.label}</label>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default controlled(Check)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/controls/Check/Check.jsx","import React, { PropTypes } from 'react'\r\nimport controlled from '../../common/controlled'\r\nimport { noOperation } from '../../common/utils'\r\nimport './Input.css'\r\n\r\nclass Input extends React.PureComponent {\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        label: PropTypes.string,\r\n        readOnly: PropTypes.bool,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        multiLine: PropTypes.bool,\r\n        refHandler: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        id: '',\r\n        value: '',\r\n        label: '',\r\n        readOnly: false,\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        multiLine: false,\r\n        refHandler: noOperation,\r\n    }\r\n\r\n    render () {\r\n        const Inner = this.props.multiLine ? 'textarea' : 'input'\r\n\r\n        return (\r\n            <div className=\"labeled-input\">\r\n                <label htmlFor={this.props.id}>{this.props.label}</label>\r\n                <Inner\r\n                    id={this.props.id}\r\n                    ref={this.props.refHandler(this)}\r\n                    value={this.props.value}\r\n                    readOnly={this.props.readOnly}\r\n                    onChange={this.props.onChange}\r\n                    onClick={this.props.onClick(this)}\r\n                    onFocus={this.props.onFocus(this)}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default controlled(Input)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/controls/Input/Input.jsx","export const INIT = 'INIT'\r\nexport const SET_STATE = 'SET_STATE'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.js","import _ from 'lodash'\r\nimport { sign } from '../utils/funcs'\r\nimport { DEFAULTS } from '../constants/game'\r\n\r\nconst processSpeed = (newThreat, size, canFlyAway) => (axis, lean) => {\r\n    newThreat.isGoingOut = sign(lean) === sign(newThreat.speed[axis])\r\n\r\n    if (!newThreat.isOut) {\r\n        if (canFlyAway && newThreat.isGoingOut) {\r\n            newThreat.isOut = true\r\n        } else {\r\n            newThreat.speed[axis] = (newThreat.isGoingOut ? -1 : 1) * (newThreat.speed[axis] || 1)\r\n        }\r\n    }\r\n    if (Math.abs(lean) > size * 3) {\r\n        newThreat.isAroundField = false\r\n    }\r\n\r\n    return newThreat\r\n}\r\n\r\nconst beat = (removeProbability,\r\n              size,\r\n              fieldWidth,\r\n              fieldHeight) =>\r\n    (threat) => {\r\n        let newThreat = { ...threat }\r\n        const canFlyAway = Math.random() < 1 / removeProbability\r\n        const processThreat = processSpeed(newThreat, size, canFlyAway)\r\n\r\n        const leftBorder = size\r\n        if (newThreat.x < leftBorder) {\r\n            newThreat = processThreat('x', newThreat.x - leftBorder)\r\n        }\r\n        const rightBorder = fieldWidth - size\r\n        if (newThreat.x > rightBorder) {\r\n            newThreat = processThreat('x', newThreat.x - rightBorder)\r\n        }\r\n\r\n        const topBorder = size\r\n        if (newThreat.y < topBorder) {\r\n            newThreat = processThreat('y', newThreat.y - topBorder)\r\n        }\r\n        const bottomBorder = fieldHeight - size\r\n        if (newThreat.y > bottomBorder) {\r\n            newThreat = processThreat('y', newThreat.y - bottomBorder)\r\n        }\r\n\r\n        return newThreat\r\n    }\r\n\r\nconst newThreat = (size, index, fieldWidth, fieldHeight, maxSpeed) => {\r\n    const lean = size * 2\r\n    let x = Math.round(Math.random() * (fieldWidth - lean))\r\n    let y = 0 - lean\r\n    let speed = {\r\n        x: Math.round((Math.random() * 2 - 1) * maxSpeed),\r\n        y: Math.ceil(Math.random() * maxSpeed),\r\n    }\r\n\r\n    if (Math.random() < 0.5) {\r\n        x = 0 - lean\r\n        y = Math.round(Math.random() * (fieldHeight - lean))\r\n        speed = {\r\n            x: Math.ceil(Math.random() * maxSpeed),\r\n            y: Math.round((Math.random() * 2 - 1) * maxSpeed),\r\n        }\r\n\r\n        if (Math.random() < 0.5) {\r\n            x = fieldWidth\r\n            speed.x *= -1\r\n        }\r\n    } else if (Math.random() < 0.5) {\r\n        y = fieldHeight\r\n        speed.y *= -1\r\n    }\r\n    return {\r\n        id: index,\r\n        x,\r\n        y,\r\n        speed,\r\n        isOut: false,\r\n        isAroundField: true,\r\n    }\r\n}\r\n\r\nexport function controlThreats (state) {\r\n    const { threats } = state\r\n    const { frame, fieldWidth, fieldHeight } = state.game\r\n    const { frameLength } = DEFAULTS\r\n\r\n    let newThreats = threats.threats\r\n        .map((threat) => (\r\n            {\r\n                ...threat,\r\n                x: threat.x + threat.speed.x,\r\n                y: threat.y + threat.speed.y,\r\n            }\r\n        ))\r\n        .map(beat(\r\n            threats.removeProbability,\r\n            threats.size,\r\n            fieldWidth,\r\n            fieldHeight,\r\n        ))\r\n    const oldThreatsNum = newThreats.length\r\n    newThreats = newThreats.filter((threat) => threat.isAroundField)\r\n    const outs = oldThreatsNum - newThreats.length\r\n\r\n    let beats = 0\r\n\r\n    newThreats = newThreats.map((threat) => {\r\n        if (threat.isGoingOut && !threat.isOut) {\r\n            beats += 1\r\n            delete threat.isGoingOut\r\n        }\r\n        return threat\r\n    }, 0)\r\n\r\n    let added = 0\r\n    if (newThreats.length < threats.limit && frame >= threats.lastTime + (threats.addTimeout / frameLength)) {\r\n        newThreats.push(newThreat(\r\n            threats.size,\r\n            threats.index,\r\n            fieldWidth,\r\n            fieldHeight,\r\n            threats.maxSpeed,\r\n        ))\r\n        added = 1\r\n    }\r\n\r\n    const newState = _.merge({}, state, {\r\n        game: {\r\n            beats: state.game.beats + beats,\r\n            outs: state.game.outs + outs,\r\n        },\r\n        threats: {\r\n            lastTime: added ? frame : threats.lastTime,\r\n            index: threats.index + added,\r\n        },\r\n    })\r\n\r\n    newState.threats.threats = newThreats\r\n\r\n    return newState\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/threats.js","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\nimport * as managers from '../managers'\r\nimport { DEFAULTS, GAME_STATUS } from '../constants/game'\r\n\r\nconst initialState = {\r\n    redSquares: null,\r\n    inputController: null,\r\n    manager: _.findKey(managers, (f) => f === managers.Stable),\r\n    status: GAME_STATUS.stop,\r\n    autoRestart: true,\r\n    beats: 0,\r\n    highestBeats: 0,\r\n    outs: 0,\r\n    frame: 0,\r\n    frameTime: 0,\r\n    normalSpeed: false,\r\n    fieldWidth: DEFAULTS.fieldWidth,\r\n    fieldHeight: DEFAULTS.fieldHeight,\r\n    error: '',\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.INIT:\r\n            return _.extend({}, state, action.data)\r\n        case types.SET_STATE:\r\n            return _.extend({}, state, action.data.game)\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/game.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from '../../common/utils'\r\n\r\nconst Setter = ({ text, tabIndex, onClick }) => (\r\n    <div className=\"setter\">\r\n        <a onClick={onClick} tabIndex={tabIndex}>{text}</a>\r\n    </div>\r\n)\r\n\r\nSetter.propTypes = {\r\n    text: PropTypes.string,\r\n    tabIndex: PropTypes.number,\r\n    onClick: PropTypes.func,\r\n}\r\n\r\nSetter.defaultProps = {\r\n    text: '',\r\n    tabIndex: -1,\r\n    onClick: noOperation,\r\n}\r\n\r\nexport const SettersBlock = ({ setters, setState, tabIndexOffset }) => {\r\n    let index = 0\r\n\r\n    return (<div className=\"setters-block\">\r\n        {setters.map((setter) => {\r\n            index += 1\r\n\r\n            return (<Setter\r\n                onClick={() => setState(setter.params)}\r\n                key={index}\r\n                tabIndex={index + tabIndexOffset}\r\n                text={setter.text}\r\n            />)\r\n        })}\r\n    </div>)\r\n}\r\n\r\nSettersBlock.propTypes = {\r\n    setters: PropTypes.array.isRequired,\r\n    setState: PropTypes.func.isRequired,\r\n    tabIndexOffset: PropTypes.number,\r\n}\r\n\r\nSettersBlock.defaultProps = {\r\n    tabIndexOffset: 1,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/controls/SettersBlock/SettersBlock.jsx","import _ from 'lodash'\r\nimport { defaultHeroPosition } from '../utils/funcs'\r\nimport { getNearest, getSafeInterval, getScaryEdges, getVariants } from './common'\r\n\r\nexport default function ({ game, hero, threats }) {\r\n    const scaryEdges = getScaryEdges(hero, 2 * threats.size, game.fieldWidth, game.fieldHeight)\r\n    const newThreats = threats.threats.map((threat) => (\r\n        {\r\n            x: threat.x + threat.speed.x,\r\n            y: threat.y + threat.speed.y,\r\n        }\r\n    ))\r\n    const extendedThreats = _.extend(scaryEdges, newThreats)\r\n\r\n    const nearestThreat = getNearest(hero, extendedThreats)\r\n\r\n    if (!nearestThreat.threat || nearestThreat.distance > getSafeInterval(hero, threats)) {\r\n        return defaultHeroPosition\r\n    }\r\n\r\n    const variant = getVariants(hero).reduce((best, current) => {\r\n        const { distance } = getNearest(current, extendedThreats)\r\n\r\n        if (distance > best.distance) {\r\n            return {\r\n                x: current.x,\r\n                y: current.y,\r\n                distance,\r\n            }\r\n        }\r\n\r\n        return best\r\n    }, {\r\n        x: hero.x,\r\n        y: hero.y,\r\n        distance: nearestThreat.distance,\r\n    })\r\n\r\n    return {\r\n        x: variant.x,\r\n        y: variant.y,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/stable.js","import _ from 'lodash'\r\nimport { defaultHeroPosition } from '../utils/funcs'\r\nimport { getSafeInterval, getNearest, getScaryEdges } from './common'\r\n\r\nexport default function ({ game, hero, threats }) {\r\n    const scaryEdges = getScaryEdges(hero, 2 * threats.size, game.fieldWidth, game.fieldHeight)\r\n\r\n    const nearestThreat = getNearest(hero, _.extend(scaryEdges, threats.threats))\r\n\r\n    if (!nearestThreat.threat || nearestThreat.distance > getSafeInterval(hero, threats) * 2) {\r\n        return defaultHeroPosition\r\n    }\r\n\r\n    const distance = {\r\n        x: hero.x - nearestThreat.threat.x,\r\n        y: hero.y - nearestThreat.threat.y,\r\n    }\r\n\r\n    return {\r\n        x: hero.x + distance.x,\r\n        y: hero.y + distance.y,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/scared.js","import React, { PropTypes } from 'react'\r\n\r\nexport const Connector = (props) => {\r\n    const { children, ...passedProps } = props\r\n\r\n    return (\r\n        <div className=\"controlled-connector\">\r\n            {React.Children.map(\r\n                children,\r\n                (child) => (\r\n                    typeof child.type === 'function' ?\r\n                        <child.type\r\n                            {...passedProps}\r\n                            {...child.props}\r\n                        /> :\r\n                        child\r\n                )\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nConnector.propTypes = {\r\n    children: PropTypes.array.isRequired,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/controls/Connector/Connector.jsx","import _ from 'lodash'\r\nimport * as managers from '../managers'\r\nimport { DEFAULTS, GAME_STATUS, KEY_CODES } from '../constants/game'\r\nimport { combineProcessors, defaultHeroPosition } from '../utils/funcs'\r\nimport { moveHero } from './hero'\r\nimport { controlThreats } from './threats'\r\n\r\nconst statusUpdate = (state, status) => _.merge({}, state, {\r\n    game: {\r\n        status,\r\n    }\r\n})\r\n\r\nexport function spacePress (state) {\r\n    switch (state.game.status) {\r\n        case GAME_STATUS.play:\r\n            return statusUpdate(state, GAME_STATUS.pause)\r\n        case GAME_STATUS.pause:\r\n            return statusUpdate(state, GAME_STATUS.play)\r\n        case GAME_STATUS.stop:\r\n        default:\r\n            return { // we use spread because of need to rewrite (not merge) threats\r\n                ...state,\r\n                game: {\r\n                    ...state.game,\r\n                    status: GAME_STATUS.play,\r\n                    beats: 0,\r\n                    outs: 0,\r\n                    frame: 0,\r\n                    error: '',\r\n                },\r\n                hero: {\r\n                    ...state.hero,\r\n                    ...defaultHeroPosition,\r\n                },\r\n                threats: {\r\n                    ...state.threats,\r\n                    threats: [],\r\n                    lastTime: 0 - state.threats.addTimeout / DEFAULTS.frameLength,\r\n                },\r\n            }\r\n    }\r\n}\r\n\r\nfunction reactToKeys (oldState) {\r\n    let state = { ...oldState }\r\n\r\n    if (state.game.autoRestart && state.game.status === GAME_STATUS.stop) {\r\n        state = spacePress(state)\r\n    } else {\r\n        state.game.inputController.reactToKeys({\r\n            [KEY_CODES.space]: () => {\r\n                state = spacePress(state)\r\n            },\r\n        })\r\n    }\r\n\r\n    return state\r\n}\r\n\r\nfunction callManager (oldState) {\r\n    const state = {\r\n        ...oldState,\r\n        target: managers[oldState.game.manager](oldState),\r\n    }\r\n    if (isNaN(state.target.x) || isNaN(state.target.y)) {\r\n        state.game.error = 'Bad target'\r\n        state.target = {\r\n            x: state.hero.x,\r\n            y: state.hero.y,\r\n        }\r\n    }\r\n\r\n    return state\r\n}\r\n\r\nconst nextPlayFrame = combineProcessors(callManager, controlThreats, moveHero)\r\n\r\nexport function gameStateUpdater (oldState) {\r\n    let state = reactToKeys(oldState)\r\n\r\n    if (state.game.status === GAME_STATUS.play) {\r\n        state = nextPlayFrame(state)\r\n        state.game.frame += 1\r\n    }\r\n\r\n    return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/game.js","import React, { PropTypes } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport _ from 'lodash'\r\nimport * as actions from '../actions'\r\nimport * as managers from '../managers'\r\nimport { BUTTON_NAMES, DEFAULTS, GAME_STATUS, IDS } from '../constants/game'\r\nimport { Connector, Input, Radio, Check } from './StateControl'\r\nimport style from './RedSquares.less'\r\n\r\n@connect(\r\n    (state) => _.extend({\r\n        status: state.game.status,\r\n        beats: state.game.beats,\r\n        highestBeats: state.game.highestBeats,\r\n        outs: state.game.outs,\r\n        threatsLength: state.threats.threats.length,\r\n        manager: state.game.manager,\r\n    }, _.mapValues(IDS, (id) => _.get(state, id))),\r\n    (dispatch) => bindActionCreators({\r\n        processSpacePress: actions.game.processSpacePress,\r\n        setState: actions.params.setState,\r\n        clearHighest: actions.game.clearHighest,\r\n    }, dispatch)\r\n)\r\nexport default class Sidebar extends React.Component {\r\n    static propTypes = {\r\n        status: PropTypes.oneOf(_.values(GAME_STATUS)),\r\n        beats: PropTypes.number,\r\n        highestBeats: PropTypes.number,\r\n        outs: PropTypes.number,\r\n        threatsLength: PropTypes.number,\r\n        processSpacePress: PropTypes.func,\r\n        setState: PropTypes.func,\r\n        clearHighest: PropTypes.func,\r\n    }\r\n\r\n    getS = (name, num) => `${num || 'No'} ${name}${num !== 1 ? 's' : ''}`\r\n\r\n    changeHandler = this.props.setState\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.side} style={{ width: `${DEFAULTS.sideWidth}px` }}>\r\n                <button onClick={this.props.processSpacePress}>{BUTTON_NAMES[this.props.status]}</button>\r\n                {' (Press Space)'}\r\n                <h2>{this.getS('beat', this.props.beats)}</h2>\r\n                <p>Highest beats: {this.props.highestBeats}</p>\r\n                <p>{this.getS('out', this.props.outs)}</p>\r\n                <p>{this.getS('threat', this.props.threatsLength)} on field</p>\r\n\r\n                <Connector\r\n                    state={_.mapValues(_.invert(IDS), (id) => this.props[id])}\r\n                    onChange={this.changeHandler}\r\n                    defaultNum={1}\r\n                >\r\n                    <Check\r\n                        id={IDS.autoRestart}\r\n                        label=\"Auto restart\"\r\n                    />\r\n                    <Check\r\n                        id={IDS.normalSpeed}\r\n                        label=\"Normal speed\"\r\n                    />\r\n                    {'Control'}\r\n                    <Radio\r\n                        id={IDS.manager}\r\n                        values={_.keys(managers)}\r\n                    />\r\n                    <Input\r\n                        id={IDS.heroSize}\r\n                        label=\"Hero size (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.heroSpeed}\r\n                        label=\"Hero max speed (px/s)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatSize}\r\n                        label=\"Threat size (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatSpeed}\r\n                        label=\"Threat max speed (px/s)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatLimit}\r\n                        label=\"Threat limit\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatAddTimeout}\r\n                        label=\"Threat add timeout (ms)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatRemoveProbability}\r\n                        label=\"Threat remove probability (1/x)\"\r\n                    />\r\n                </Connector>\r\n                <button onClick={this.props.clearHighest}>Clear highest</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Sidebar.jsx","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\nimport { DEFAULTS } from '../constants/game'\r\n\r\nconst initialState = {\r\n    threats: [],\r\n    size: DEFAULTS.threatSize,\r\n    maxSpeed: DEFAULTS.threatSpeed,\r\n    lastTime: 0,\r\n    addTimeout: DEFAULTS.threatAddTimeout,\r\n    index: 0,\r\n    limit: DEFAULTS.threatLimit,\r\n    removeProbability: DEFAULTS.threatRemoveProbability,\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.SET_STATE:\r\n            return _.extend({}, state, action.data.threats)\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/threats.js","export const HERO_STATUSES = {\r\n    normal: 'normal',\r\n    trouble: 'trouble',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/hero.js","export default function (state) {\r\n    return state.hero\r\n        ? {\r\n            x: state.hero.x,\r\n            y: state.hero.y,\r\n        }\r\n        : {\r\n            x: 0,\r\n            y: 0,\r\n        }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/still.js","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\nimport { DEFAULTS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport { defaultHeroPosition } from '../utils/funcs'\r\n\r\nconst initialState = {\r\n    ...defaultHeroPosition,\r\n    maxSpeed: DEFAULTS.heroSpeed,\r\n    status: HERO_STATUSES.normal,\r\n    size: DEFAULTS.heroSize,\r\n    shadowPeriod: DEFAULTS.shadowPeriod,\r\n    shadowQuantity: DEFAULTS.shadowQuantity,\r\n    shadows: [],\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.SET_STATE:\r\n            return _.extend({}, state, action.data.hero)\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/hero.js","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\n\r\nexport function setState (name, value) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: types.SET_STATE,\r\n            data: _.set({}, name, value)\r\n        })\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/params.js","export const HIGHEST_BEATS = 'highestBeats'\r\n\r\nexport const DEFAULTS = {\r\n    frameLength: 20,\r\n    heroSize: 25,\r\n    heroSpeed: 10,\r\n    threatSize: 15,\r\n    threatSpeed: 4,\r\n    threatLimit: 20,\r\n    threatAddTimeout: 1000,\r\n    threatRemoveProbability: 5,\r\n    fieldWidth: 800,\r\n    fieldHeight: 600,\r\n    sideWidth: 200,\r\n    shadowPeriod: 1,\r\n    shadowQuantity: 50,\r\n}\r\n\r\nexport const GAME_STATUS = {\r\n    play: 'play',\r\n    pause: 'pause',\r\n    stop: 'stop',\r\n}\r\n\r\nexport const BUTTON_NAMES = {\r\n    [GAME_STATUS.play]: 'Pause',\r\n    [GAME_STATUS.pause]: 'Resume',\r\n    [GAME_STATUS.stop]: 'Start',\r\n}\r\n\r\nexport const IDS = {\r\n    autoRestart: 'game.autoRestart',\r\n    normalSpeed: 'game.normalSpeed',\r\n    manager: 'game.manager',\r\n    heroSize: 'hero.size',\r\n    heroSpeed: 'hero.maxSpeed',\r\n    threatSize: 'threats.size',\r\n    threatSpeed: 'threats.maxSpeed',\r\n    threatLimit: 'threats.limit',\r\n    threatAddTimeout: 'threats.addTimeout',\r\n    threatRemoveProbability: 'threats.removeProbability',\r\n}\r\n\r\nexport const KEY_CODES = {\r\n    space: 32,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/game.js","import React, { PropTypes } from 'react'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport { DEFAULTS } from '../constants/game'\r\nimport style from './RedSquares.less'\r\nimport CanvasField from './CanvasField'\r\nimport Sidebar from './Sidebar'\r\n\r\n@connect(\r\n    (state) => ({\r\n        fieldWidth: state.game.fieldWidth,\r\n    }),\r\n    (dispatch) => bindActionCreators({\r\n        init: actions.game.init,\r\n    }, dispatch)\r\n)\r\nexport default class RedSquares extends React.Component {\r\n    static propTypes = {\r\n        fieldWidth: PropTypes.number,\r\n        init: PropTypes.func,\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.init(this)\r\n    }\r\n\r\n    getFieldSize = () => {\r\n        const fieldRect = this.field\r\n\r\n        return {\r\n            left: fieldRect.offsetLeft,\r\n            top: fieldRect.offsetTop,\r\n            right: fieldRect.offsetLeft + fieldRect.clientWidth,\r\n            bottom: fieldRect.offsetTop + fieldRect.clientHeight,\r\n        }\r\n    }\r\n\r\n    handleRefField = (elem) => { this.field = elem }\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.wrapper} style={{ width: `${this.props.fieldWidth + DEFAULTS.sideWidth}px` }}>\r\n                <CanvasField refHandler={this.handleRefField} />\r\n                <Sidebar />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/RedSquares.jsx","import * as types from '../constants/actionTypes'\r\nimport { DEFAULTS, GAME_STATUS, HIGHEST_BEATS } from '../constants/game'\r\nimport InputCatcher from '../utils/InputCatcher'\r\nimport { gameStateUpdater, spacePress } from '../game-logic'\r\n\r\nexport function processSpacePress () {\r\n    return (dispatch, getState) => {\r\n        dispatch({\r\n            type: types.SET_STATE,\r\n            data: spacePress(getState()),\r\n        })\r\n    }\r\n}\r\n\r\nconst getWaitTime = (state) => Math.max(\r\n    state.game.frameTime + DEFAULTS.frameLength - performance.now(),\r\n    0\r\n)\r\n\r\nfunction updateFrame (dispatch, getState) {\r\n    return () => {\r\n        const initState = getState()\r\n        const state = gameStateUpdater(initState)\r\n\r\n        const isPreviouslyPlayed = initState.game.status === GAME_STATUS.play\r\n\r\n        if (state.game.status === GAME_STATUS.stop && isPreviouslyPlayed) {\r\n            localStorage.setItem(\r\n                HIGHEST_BEATS,\r\n                state.game.highestBeats = Math.max(state.game.beats, state.game.highestBeats)\r\n            )\r\n        }\r\n\r\n        if (state.game.status === GAME_STATUS.play || isPreviouslyPlayed) {\r\n            dispatch({\r\n                type: types.SET_STATE,\r\n                data: state,\r\n            })\r\n        }\r\n\r\n        if (state.game.normalSpeed) {\r\n            state.game.frameTime = performance.now()\r\n            setTimeout(\r\n                updateFrame(dispatch, getState),\r\n                getWaitTime(state)\r\n            )\r\n        } else {\r\n            setTimeout(\r\n                updateFrame(dispatch, getState),\r\n                0\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport function clearHighest () {\r\n    return (dispatch) => {\r\n        localStorage.removeItem(HIGHEST_BEATS)\r\n\r\n        dispatch({\r\n            type: types.INIT,\r\n            data: {\r\n                highestBeats: 0,\r\n            },\r\n        })\r\n    }\r\n}\r\n\r\nexport function init (redSquares) {\r\n    return (dispatch, getState) => {\r\n        dispatch({\r\n            type: types.INIT,\r\n            data: {\r\n                redSquares,\r\n                inputController: new InputCatcher(),\r\n                highestBeats: localStorage[HIGHEST_BEATS] ? parseInt(localStorage[HIGHEST_BEATS], 10) : 0,\r\n            },\r\n        })\r\n\r\n        updateFrame(dispatch, getState)()\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/game.js","export const SCARY_INTERVAL = 4 / 3\r\nexport const VARIANTS_QUANTITY = 24\r\n\r\nconst getDistance = (A, B) => Math.sqrt((A.x - B.x) ** 2 + (A.y - B.y) ** 2)\r\n\r\nexport const getNearest = ({ x, y }, threats) => threats.reduce((nearest, threat) => {\r\n    const distance = getDistance({ x, y }, threat)\r\n    if (!nearest.threat || nearest.distance > distance) {\r\n        return {\r\n            threat,\r\n            distance,\r\n        }\r\n    }\r\n\r\n    return nearest\r\n}, {\r\n    threat: null,\r\n    distance: Infinity,\r\n})\r\n\r\nexport const getSafeInterval = (hero, threats) =>\r\n    (hero.size + threats.size + hero.maxSpeed + threats.maxSpeed) * SCARY_INTERVAL\r\n\r\nexport function getScaryEdges (hero, size, width, height) {\r\n    const edges = []\r\n    const { x, y } = hero\r\n\r\n    edges.push({\r\n        x,\r\n        y: -size * 1.1,\r\n    })\r\n    edges.push({\r\n        x,\r\n        y: height + size * 1.1,\r\n    })\r\n\r\n    edges.push({\r\n        x: -size * 1.1,\r\n        y,\r\n    })\r\n    edges.push({\r\n        x: width + size * 1.1,\r\n        y,\r\n    })\r\n\r\n    return edges\r\n}\r\n\r\nexport function getVariants (hero) {\r\n    const variants = []\r\n    for (let angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / VARIANTS_QUANTITY) {\r\n        variants.push({\r\n            x: hero.x + Math.cos(angle) * hero.maxSpeed,\r\n            y: hero.y + Math.sin(angle) * hero.maxSpeed,\r\n        })\r\n    }\r\n\r\n    return variants\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/common.js","import _ from 'lodash'\r\nimport { GAME_STATUS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport { sign } from '../utils/funcs'\r\n\r\nconst getHeroStatus = (x, y, heroSize, threatSize, threats) => {\r\n    const safeLength = heroSize + threatSize\r\n\r\n    if (threats.some((threat) =>\r\n            Math.abs(threat.x - x) < safeLength && Math.abs(threat.y - y) < safeLength\r\n        )) {\r\n\r\n        return HERO_STATUSES.trouble\r\n    }\r\n\r\n    return HERO_STATUSES.normal\r\n}\r\n\r\nfunction getMove (hero, target) {\r\n    const xDelta = target.x - hero.x\r\n    const yDelta = target.y - hero.y\r\n    const distance = Math.sqrt(xDelta ** 2 + yDelta ** 2)\r\n\r\n    if (distance <= hero.maxSpeed) {\r\n        return {\r\n            xMove: xDelta,\r\n            yMove: yDelta,\r\n        }\r\n    }\r\n\r\n    const normalization = distance / hero.maxSpeed\r\n\r\n    return {\r\n        xMove: xDelta / normalization,\r\n        yMove: yDelta / normalization,\r\n    }\r\n}\r\n\r\nfunction getShadows ({ game, hero }) {\r\n    const { shadows } = hero\r\n    let id = 0\r\n\r\n    if (!(game.frame % hero.shadowPeriod)) {\r\n        if (shadows.length === hero.shadowQuantity) {\r\n            shadows.pop()\r\n        }\r\n        if (shadows.length) {\r\n            id = shadows[0].id + 1\r\n        }\r\n        shadows.unshift({\r\n            x: hero.x,\r\n            y: hero.y,\r\n            id,\r\n        })\r\n    }\r\n\r\n    return shadows\r\n}\r\n\r\nexport function moveHero (state) {\r\n    const { game, hero, target } = state\r\n    const { threats } = state.threats\r\n    const threatSize = state.threats.size\r\n\r\n    const { xMove, yMove } = getMove(hero, target)\r\n\r\n    let x = hero.x + xMove\r\n    x = Math.max(x, hero.size)\r\n    x = Math.min(x, game.fieldWidth - hero.size)\r\n\r\n    let y = hero.y + yMove\r\n    y = Math.max(y, hero.size)\r\n    y = Math.min(y, game.fieldHeight - hero.size)\r\n\r\n    const status = getHeroStatus(x, y, hero.size, threatSize, threats)\r\n\r\n    return {\r\n        ...state,\r\n        game: {\r\n            ...state.game,\r\n            status: status === HERO_STATUSES.normal ? GAME_STATUS.play : GAME_STATUS.stop,\r\n        },\r\n        hero: {\r\n            ...state.hero,\r\n            x,\r\n            y,\r\n            status,\r\n            shadows: getShadows(state),\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/hero.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from './utils'\r\n\r\nconst controlled = (Child) => class extends React.Component {\r\n    static propTypes = {\r\n        children: PropTypes.node,\r\n        id: PropTypes.string.isRequired,\r\n        state: PropTypes.object,\r\n        path: PropTypes.string,\r\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        values: PropTypes.array,\r\n        readOnly: PropTypes.bool,\r\n        label: PropTypes.string,\r\n        defaultNum: PropTypes.number,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        multiLine: PropTypes.bool,\r\n    }\r\n\r\n    defaultProps = {\r\n        children: null,\r\n        state: {},\r\n        path: '',\r\n        value: '',\r\n        values: [],\r\n        readOnly: false,\r\n        label: '',\r\n        defaultNum: 0,\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        multiLine: false,\r\n    }\r\n\r\n    render () {\r\n        const { id, state, path, value, defaultNum, onChange, ...passedProps } = this.props\r\n\r\n        const getId = () => `labeled-control-${id}`\r\n        const getPath = () => path || id\r\n        const getValue = () => value || (state && state[getPath()])\r\n        const changeHandler = (event) => {\r\n            let valueForReturn = event.target.value\r\n            const { checked } = event.target\r\n\r\n            switch (typeof getValue()) {\r\n                case 'number':\r\n                    valueForReturn = parseInt(valueForReturn, 10) || defaultNum\r\n                    break\r\n                case 'boolean':\r\n                    valueForReturn = checked\r\n                    break\r\n                case 'string':\r\n                default:\r\n                    valueForReturn = valueForReturn || ''\r\n                    break\r\n            }\r\n\r\n            onChange(getPath(), valueForReturn)\r\n        }\r\n        const refHandler = (_this) => (control) => {\r\n            _this.control = control\r\n        }\r\n\r\n        return (\r\n            <Child\r\n                {...passedProps}\r\n                id={getId()}\r\n                value={getValue()}\r\n                onChange={changeHandler}\r\n                refHandler={refHandler}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default controlled\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/common/controlled.jsx","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nrender(<App />, document.querySelector('#app'))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default class InputCatcher {\r\n    static instance\r\n    static mousePos = {}\r\n    static keyPressed = []\r\n    initialKeymap = {}\r\n\r\n    constructor (keymap) {\r\n        this.initialKeymap = keymap\r\n\r\n        if (InputCatcher.instance) {\r\n            return InputCatcher.instance\r\n        }\r\n        InputCatcher.instance = this\r\n\r\n        document.onmousemove = this.saveMousePos\r\n        window.document.onkeydown = this.process\r\n    }\r\n\r\n    saveMousePos = (e) => {\r\n        InputCatcher.mousePos = {\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n        }\r\n    }\r\n\r\n    process = (e) => {\r\n        if (e.keyCode === 32) {\r\n            e.preventDefault()\r\n        }\r\n        this.saveKeyPressed(e)\r\n    }\r\n\r\n    saveKeyPressed = ({ keyCode }) => InputCatcher.keyPressed.push(keyCode)\r\n\r\n    reactToKeys = (keymap = this.initialKeymap) => {\r\n        InputCatcher.keyPressed.forEach((key) => keymap[key] && keymap[key]())\r\n        InputCatcher.keyPressed = []\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/InputCatcher.js","import InputCatcher from '../utils/InputCatcher'\r\n\r\nexport default function (data) {\r\n    const fieldSize = data.game.redSquares.getFieldSize()\r\n\r\n    return {\r\n        x: InputCatcher.mousePos.x - fieldSize.left,\r\n        y: InputCatcher.mousePos.y - fieldSize.top,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/manual.js","import React, { PropTypes } from 'react'\r\nimport controlled from '../../common/controlled'\r\nimport { noOperation } from '../../common/utils'\r\nimport './Radio.css'\r\n\r\nclass Radio extends React.PureComponent {\r\n    static propTypes = {\r\n        id: PropTypes.string,\r\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        values: PropTypes.array,\r\n        readOnly: PropTypes.bool,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        refHandler: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        id: '',\r\n        value: '',\r\n        values: [],\r\n        readOnly: false,\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        refHandler: noOperation,\r\n    }\r\n\r\n    render () {\r\n        return (<div className=\"group\" id={this.props.id}>\r\n            {this.props.values.map((currentValue) => {\r\n                const variantId = currentValue.id || currentValue\r\n\r\n                return (\r\n                    <div key={variantId}>\r\n                        <input\r\n                            id={variantId}\r\n                            name={this.props.id}\r\n                            type=\"radio\"\r\n                            ref={this.props.refHandler(this)}\r\n                            value={variantId}\r\n                            checked={this.props.value === variantId}\r\n                            readOnly={this.props.readOnly}\r\n                            onChange={this.props.onChange}\r\n                            onClick={this.props.onClick(this)}\r\n                            onFocus={this.props.onFocus(this)}\r\n                        />\r\n                        <label htmlFor={variantId}>{currentValue.label || currentValue}</label>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default controlled(Radio)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/controls/Radio/Radio.jsx","import React, { PropTypes } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport _ from 'lodash'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport style from './RedSquares.less'\r\n\r\nconst heroStyle = {\r\n    [HERO_STATUSES.normal]: 'rgb(50, 205, 50)',\r\n    [HERO_STATUSES.trouble]: 'rgb(237, 20, 61)',\r\n}\r\n\r\n@connect(\r\n    (state) => ({\r\n        fieldWidth: state.game.fieldWidth,\r\n        fieldHeight: state.game.fieldHeight,\r\n        heroStatus: state.hero.status,\r\n        heroSize: state.hero.size,\r\n        heroPos: {\r\n            x: state.hero.x,\r\n            y: state.hero.y,\r\n        },\r\n        threatSize: state.threats.size,\r\n        threats: state.threats.threats,\r\n        shadows: state.hero.shadows,\r\n        error: state.game.error,\r\n    })\r\n)\r\nexport default class CanvasField extends React.Component {\r\n    static propTypes = {\r\n        fieldWidth: PropTypes.number,\r\n        fieldHeight: PropTypes.number,\r\n        heroStatus: PropTypes.oneOf(_.values(HERO_STATUSES)),\r\n        heroSize: PropTypes.number,\r\n        heroPos: PropTypes.shape({\r\n            x: PropTypes.number,\r\n            y: PropTypes.number,\r\n        }),\r\n        threatSize: PropTypes.number,\r\n        threats: PropTypes.array,\r\n        shadows: PropTypes.array,\r\n        refHandler: PropTypes.func,\r\n    }\r\n\r\n    static drawSquare ({ ctx, pos, size, color }) {\r\n        ctx.fillStyle = color\r\n        ctx.fillRect(\r\n            Math.round(pos.x - size),\r\n            Math.round(pos.y - size),\r\n            size * 2,\r\n            size * 2\r\n        )\r\n    }\r\n\r\n    paint () {\r\n        if (!this.canvas) {\r\n            return\r\n        }\r\n        const ctx = this.canvas.getContext('2d')\r\n\r\n        ctx.clearRect(0, 0, this.props.fieldWidth, this.props.fieldHeight)\r\n\r\n        this.props.shadows.forEach((shadow, index) => CanvasField.drawSquare({\r\n            ctx,\r\n            pos: this.props.shadows[index],\r\n            size: this.props.heroSize,\r\n            color: `rgba(237, 20, 61, ${(this.props.shadows.length - index - 1) / this.props.shadows.length * 0.3})`,\r\n        }))\r\n        CanvasField.drawSquare({\r\n            ctx,\r\n            pos: this.props.heroPos,\r\n            size: this.props.heroSize,\r\n            color: heroStyle[this.props.heroStatus],\r\n        })\r\n        this.props.threats.forEach((threat) => (\r\n            CanvasField.drawSquare({\r\n                ctx,\r\n                pos: threat,\r\n                size: this.props.threatSize,\r\n                color: 'rgb(100, 149, 237)',\r\n            })\r\n        ))\r\n    }\r\n\r\n    canvas = null\r\n\r\n    handleRefCanvas = (elem) => {\r\n        this.canvas = elem\r\n        this.props.refHandler(elem)\r\n    }\r\n\r\n    render () {\r\n        this.paint()\r\n\r\n        return (\r\n            <div className={style.fieldWrapper}>\r\n                <canvas\r\n                    className={style.field}\r\n                    ref={this.handleRefCanvas}\r\n                    width={this.props.fieldWidth}\r\n                    height={this.props.fieldHeight}\r\n                >\r\n                    {'You are using an outdated browser.'}\r\n                </canvas>\r\n                <div className={style.error}>{this.props.error}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CanvasField.jsx","export const noOperation = () => {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/common/utils.js","import React from 'react'\r\nimport { combineReducers, applyMiddleware, createStore, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { Provider } from 'react-redux'\r\nimport * as reducers from './reducers'\r\nimport RedSquares from './components/RedSquares'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ // eslint-disable-line no-underscore-dangle\r\n    || compose\r\nconst store = createStore(combineReducers(reducers), composeEnhancers(applyMiddleware(thunk)))\r\n\r\nconst App = () => (\r\n    <Provider store={store}>\r\n        <RedSquares />\r\n    </Provider>\r\n)\r\n\r\nexport default App\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx","function getRandomCoordinate (range, size) {\r\n    return Math.random() * (range - size * 2) + size\r\n}\r\n\r\nlet target\r\n\r\nexport default function (state) {\r\n    if (!target || (state.hero.x === target.x && state.hero.y === target.y)) {\r\n        target = {\r\n            x: getRandomCoordinate(state.game.fieldWidth, state.hero.size),\r\n            y: getRandomCoordinate(state.game.fieldHeight, state.hero.size),\r\n        }\r\n    }\r\n\r\n    return target\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/random.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"wrapper\":\"RedSquares__wrapper__n469N\",\"fieldWrapper\":\"RedSquares__fieldWrapper__3xRFe\",\"field\":\"RedSquares__field__3S_U-\",\"error\":\"RedSquares__error__32Ynw\",\"side\":\"RedSquares__side__1Qama\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RedSquares.less\n// module id = tNBi\n// module chunks = 1","import { DEFAULTS } from '../constants/game'\r\n\r\nexport function combineProcessors (...processors) {\r\n    return (state) => processors.reduce((result, processor) => processor(result), state)\r\n}\r\n\r\nexport function sign (num) {\r\n    if (num === 0 || isNaN(num)) {\r\n        return num\r\n    }\r\n\r\n    return num > 0 ? 1 : -1\r\n}\r\n\r\nexport const defaultHeroPosition = {\r\n    x: (DEFAULTS.fieldWidth - DEFAULTS.heroSize) / 2,\r\n    y: (DEFAULTS.fieldHeight - DEFAULTS.heroSize) / 2,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/funcs.js"],"sourceRoot":""}