{"version":3,"sources":["webpack:///app.b652654c.js","webpack:///./src/components/StateControl/Radio.less","webpack:///./src/constants/actionTypes.js","webpack:///./src/components/StateControl/Input.jsx","webpack:///./src/game-logic/threats.js","webpack:///./src/reducers/game.js","webpack:///./src/managers/scared.js","webpack:///./src/game-logic/game.js","webpack:///./src/components/StateControl/utils.js","webpack:///./src/components/Sidebar.jsx","webpack:///./src/reducers/threats.js","webpack:///./src/components/StateControl/Connector.jsx","webpack:///./src/constants/hero.js","webpack:///./src/managers/still.js","webpack:///./src/reducers/hero.js","webpack:///./src/actions/params.js","webpack:///./src/constants/game.js","webpack:///./src/components/RedSquares.jsx","webpack:///./src/actions/game.js","webpack:///./src/managers/common.js","webpack:///./src/game-logic/hero.js","webpack:///./src/index.js","webpack:///./src/utils/InputCatcher.js","webpack:///./src/managers/manual.js","webpack:///./src/components/StateControl/Radio.jsx","webpack:///./src/components/CanvasField.jsx","webpack:///./src/managers/agile.js","webpack:///./src/App.jsx","webpack:///./src/managers/random.js","webpack:///./src/components/RedSquares.less","webpack:///./src/components/StateControl/SettersBlock.jsx","webpack:///./src/utils/funcs.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","2tf8","group","4HHy","__webpack_exports__","d","INIT","SET_STATE","6e+x","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1__utils__","__WEBPACK_IMPORTED_MODULE_2__Input_css__","Input","_class","_temp2","_React$Component","_temp","_this","_ret","this","_len","arguments","length","args","Array","_key","apply","concat","inner","props","multiLine","getId","id","getPath","path","getValue","state","refHandler","control","render","a","createElement","className","htmlFor","label","ref","readOnly","onChange","onClick","onFocus","Component","defaultProps","7lKn","controlThreats","threats","_state$game","game","frame","fieldWidth","fieldHeight","frameLength","__WEBPACK_IMPORTED_MODULE_2__constants_game__","newThreats","map","threat","_extends","x","speed","y","beat","removeProbability","size","oldThreatsNum","filter","isAroundField","outs","beats","isGoingOut","isOut","added","limit","lastTime","addTimeout","push","newThreat","index","maxSpeed","newState","__WEBPACK_IMPORTED_MODULE_0_lodash___default","merge","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1__utils_funcs__","assign","target","i","source","key","hasOwnProperty","processSpeed","canFlyAway","axis","lean","Math","abs","random","processThreat","leftBorder","rightBorder","topBorder","bottomBorder","round","ceil","9jEl","__WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__","__WEBPACK_IMPORTED_MODULE_2__managers__","__WEBPACK_IMPORTED_MODULE_3__constants_game__","initialState","redSquares","inputController","manager","findKey","f","status","stop","highestBeats","startTime","undefined","action","type","extend","data","BCOr","__WEBPACK_IMPORTED_MODULE_0__game__","__WEBPACK_IMPORTED_MODULE_1__params__","ChGC","defineProperty","__WEBPACK_IMPORTED_MODULE_1__hero__","__WEBPACK_IMPORTED_MODULE_2__threats__","DBoO","__WEBPACK_IMPORTED_MODULE_2__common__","_ref","hero","scaryEdges","nearestThreat","distance","EBfR","spacePress","__WEBPACK_IMPORTED_MODULE_1__constants_game__","play","statusUpdate","pause","__WEBPACK_IMPORTED_MODULE_2__utils_funcs__","gameDataUpdater","oldData","nextPlayFrame","__WEBPACK_IMPORTED_MODULE_3__hero__","__WEBPACK_IMPORTED_MODULE_4__threats__","J2UN","JglD","noOperation","QCNp","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_redux__","__WEBPACK_IMPORTED_MODULE_3_lodash__","__WEBPACK_IMPORTED_MODULE_3_lodash___default","__WEBPACK_IMPORTED_MODULE_4__actions__","__WEBPACK_IMPORTED_MODULE_5__managers__","__WEBPACK_IMPORTED_MODULE_6__constants_game__","__WEBPACK_IMPORTED_MODULE_7__StateControl__","__WEBPACK_IMPORTED_MODULE_8__RedSquares_less__","__WEBPACK_IMPORTED_MODULE_8__RedSquares_less___default","Sidebar","_dec","threatsLength","mapValues","get","dispatch","processSpacePress","setState","clearHighest","getS","name","num","changeHandler","event","parseInt","_this2","side","style","width","sideWidth","invert","values","keys","heroSize","heroSpeed","threatSize","threatSpeed","threatLimit","threatAddTimeout","threatRemoveProbability","WNaE","WS4u","Connector","children","Children","child","isValidElement","cloneElement","WwO4","YhS/","HERO_STATUSES","normal","trouble","Z3B0","ZB46","__WEBPACK_IMPORTED_MODULE_0__manual__","__WEBPACK_IMPORTED_MODULE_1__still__","__WEBPACK_IMPORTED_MODULE_2__random__","__WEBPACK_IMPORTED_MODULE_3__scared__","__WEBPACK_IMPORTED_MODULE_4__agile__","ZJmM","__WEBPACK_IMPORTED_MODULE_3__constants_hero__","__WEBPACK_IMPORTED_MODULE_4__utils_funcs__","shadowPeriod","shadowQuantity","shadows","ZvXP","set","bHK7","HIGHEST_BEATS","DEFAULTS","GAME_STATUS","BUTTON_NAMES","IDS","KEY_CODES","_BUTTON_NAMES","space","cilB","gIL8","__WEBPACK_IMPORTED_MODULE_1_redux__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3__actions__","__WEBPACK_IMPORTED_MODULE_4__constants_game__","__WEBPACK_IMPORTED_MODULE_5__RedSquares_less__","__WEBPACK_IMPORTED_MODULE_5__RedSquares_less___default","__WEBPACK_IMPORTED_MODULE_6__CanvasField__","__WEBPACK_IMPORTED_MODULE_7__Sidebar__","RedSquares","init","getFieldSize","fieldRect","field","left","offsetLeft","top","offsetTop","right","clientWidth","bottom","clientHeight","handleRefField","elem","componentDidMount","wrapper","hB/+","getState","__WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__","spacePressAtStart","updateFrame","_data$game$inputContr","reactToKeys","__WEBPACK_IMPORTED_MODULE_3__managers__","__WEBPACK_IMPORTED_MODULE_4__game_logic__","waitTime","performance","now","floor","localStorage","setItem","max","setTimeout","removeItem","__WEBPACK_IMPORTED_MODULE_2__utils_InputCatcher__","hReJ","SCARY_INTERVAL","VARIANTS_QUANTITY","getNearest","getScaryEdges","getDistance","A","B","sqrt","pow","reduce","nearest","Infinity","height","edges","iMa0","getMove","xDelta","yDelta","xMove","yMove","__WEBPACK_IMPORTED_MODULE_3__utils_funcs__","moveHero","_getMove","min","getHeroStatus","pop","unshift","__WEBPACK_IMPORTED_MODULE_2__constants_hero__","safeLength","some","lVK7","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_3__index_css__","document","querySelector","liqn","InputCatcher","_initialiseProps","keymap","initialKeymap","onmousemove","saveMousePos","window","onkeydown","process","mousePos","keyPressed","e","pageX","pageY","keyCode","preventDefault","saveKeyPressed","forEach","mfQ3","__WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__","fieldSize","pyjo","__WEBPACK_IMPORTED_MODULE_2__Radio_less__","__WEBPACK_IMPORTED_MODULE_2__Radio_less___default","Radio","checked","qaGz","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_4__RedSquares_less__","__WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default","CanvasField","_heroStyle","heroStyle","heroStatus","heroPos","canvas","handleRefCanvas","drawSquare","ctx","pos","color","fillStyle","fillRect","paint","getContext","clearRect","shadow","rHI1","getVariants","variants","angle","PI","cos","sin","extendedThreats","variant","best","current","_getNearest","sMfP","__WEBPACK_IMPORTED_MODULE_2_redux_thunk__","__WEBPACK_IMPORTED_MODULE_2_redux_thunk___default","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4__reducers__","__WEBPACK_IMPORTED_MODULE_5__components_RedSquares__","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","App","svHd","getRandomCoordinate","range","t9xF","__WEBPACK_IMPORTED_MODULE_0__Input__","__WEBPACK_IMPORTED_MODULE_1__Radio__","__WEBPACK_IMPORTED_MODULE_2__Connector__","tNBi","tozq","Setter","text","tabIndex","_ref2","setters","tabIndexOffset","setter","params","vlrw","combineProcessors","processors","result","processor","sign","isNaN","__WEBPACK_IMPORTED_MODULE_0__constants_game__","defaultHeroPosition"],"mappings":"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","file":"app.b652654c.js","sourcesContent":["webpackJsonp([1,2],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+prg\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"2tf8\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"group\":\"Radio__group__1C6a0\"};\n\n/***/ }),\n\n/***/ \"4HHy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return INIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SET_STATE; });\nvar INIT = 'INIT';\nvar SET_STATE = 'SET_STATE';\n\n/***/ }),\n\n/***/ \"6e+x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(\"JglD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Input_css__ = __webpack_require__(\"WwO4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Input_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__Input_css__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Input; });\nvar _class, _temp2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar Input = (_temp2 = _class = function (_React$Component) {\n    _inherits(Input, _React$Component);\n\n    function Input() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Input);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.inner = _this.props.multiLine ? 'textarea' : 'input', _this.getId = function () {\n            return 'labeled-control-' + _this.props.id;\n        }, _this.getPath = function () {\n            return _this.props.path || _this.props.id;\n        }, _this.getValue = function () {\n            return _this.props.value || _this.props.state && _this.props.state[_this.getPath()];\n        }, _this.refHandler = function (control) {\n            _this.control = control;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Input.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'labeled-input' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: this.getId() },\n                this.props.label\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(this.inner, {\n                id: this.getId(),\n                ref: this.refHandler,\n                value: this.getValue(),\n                readOnly: this.props.readOnly,\n                onChange: this.props.onChange(this.getPath()),\n                onClick: this.props.onClick(this),\n                onFocus: this.props.onFocus(this)\n            })\n        );\n    };\n\n    return Input;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component), _class.defaultProps = {\n    value: '',\n    onChange: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    onClick: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    onFocus: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    multiLine: false\n}, _temp2);\n\n/***/ }),\n\n/***/ \"7lKn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = controlThreats;\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\nvar processSpeed = function processSpeed(newThreat, size, canFlyAway) {\n    return function (axis, lean) {\n        newThreat.isGoingOut = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"b\" /* sign */])(lean) === __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"b\" /* sign */])(newThreat.speed[axis]);\n\n        if (!newThreat.isOut) {\n            if (canFlyAway && newThreat.isGoingOut) {\n                newThreat.isOut = true;\n            } else {\n                newThreat.speed[axis] = (newThreat.isGoingOut ? -1 : 1) * (newThreat.speed[axis] || 1);\n            }\n        }\n        if (Math.abs(lean) > size * 3) {\n            newThreat.isAroundField = false;\n        }\n\n        return newThreat;\n    };\n};\n\nvar beat = function beat(removeProbability, size, fieldWidth, fieldHeight) {\n    return function (threat) {\n        var newThreat = _extends({}, threat);\n        var canFlyAway = Math.random() < 1 / removeProbability;\n        var processThreat = processSpeed(newThreat, size, canFlyAway);\n\n        var leftBorder = size;\n        if (newThreat.x < leftBorder) {\n            newThreat = processThreat('x', newThreat.x - leftBorder);\n        }\n        var rightBorder = fieldWidth - size;\n        if (newThreat.x > rightBorder) {\n            newThreat = processThreat('x', newThreat.x - rightBorder);\n        }\n\n        var topBorder = size;\n        if (newThreat.y < topBorder) {\n            newThreat = processThreat('y', newThreat.y - topBorder);\n        }\n        var bottomBorder = fieldHeight - size;\n        if (newThreat.y > bottomBorder) {\n            newThreat = processThreat('y', newThreat.y - bottomBorder);\n        }\n\n        return newThreat;\n    };\n};\n\nvar newThreat = function newThreat(size, index, fieldWidth, fieldHeight, maxSpeed) {\n    var lean = size * 2;\n    var x = Math.round(Math.random() * (fieldWidth - lean));\n    var y = 0 - lean;\n    var speed = {\n        x: Math.round((Math.random() * 2 - 1) * maxSpeed),\n        y: Math.ceil(Math.random() * maxSpeed)\n    };\n\n    if (Math.random() < 0.5) {\n        x = 0 - lean;\n        y = Math.round(Math.random() * (fieldHeight - lean));\n        speed = {\n            x: Math.ceil(Math.random() * maxSpeed),\n            y: Math.round((Math.random() * 2 - 1) * maxSpeed)\n        };\n\n        if (Math.random() < 0.5) {\n            x = fieldWidth;\n            speed.x *= -1;\n        }\n    } else if (Math.random() < 0.5) {\n        y = fieldHeight;\n        speed.y *= -1;\n    }\n    return {\n        id: index,\n        x: x,\n        y: y,\n        speed: speed,\n        isOut: false,\n        isAroundField: true\n    };\n};\n\nfunction controlThreats(state) {\n    var threats = state.threats;\n    var _state$game = state.game,\n        frame = _state$game.frame,\n        fieldWidth = _state$game.fieldWidth,\n        fieldHeight = _state$game.fieldHeight;\n    var frameLength = __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].frameLength;\n\n\n    var newThreats = threats.threats.map(function (threat) {\n        return _extends({}, threat, {\n            x: threat.x + threat.speed.x,\n            y: threat.y + threat.speed.y\n        });\n    }).map(beat(threats.removeProbability, threats.size, fieldWidth, fieldHeight));\n    var oldThreatsNum = newThreats.length;\n    newThreats = newThreats.filter(function (threat) {\n        return threat.isAroundField;\n    });\n    var outs = oldThreatsNum - newThreats.length;\n\n    var beats = 0;\n\n    newThreats = newThreats.map(function (threat) {\n        if (threat.isGoingOut && !threat.isOut) {\n            beats += 1;\n            delete threat.isGoingOut;\n        }\n        return threat;\n    }, 0);\n\n    var added = 0;\n    if (newThreats.length < threats.limit && frame >= threats.lastTime + threats.addTimeout / frameLength) {\n        newThreats.push(newThreat(threats.size, threats.index, fieldWidth, fieldHeight, threats.maxSpeed));\n        added = 1;\n    }\n\n    var newState = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.merge({}, state, {\n        game: {\n            beats: state.game.beats + beats,\n            outs: state.game.outs + outs\n        },\n        threats: {\n            lastTime: added ? frame : threats.lastTime,\n            index: threats.index + added\n        }\n    });\n\n    newState.threats.threats = newThreats;\n\n    return newState;\n}\n\n/***/ }),\n\n/***/ \"9jEl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__managers__ = __webpack_require__(\"ZB46\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_game__ = __webpack_require__(\"bHK7\");\n\n\n\n\n\nvar initialState = {\n    redSquares: null,\n    inputController: null,\n    manager: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.findKey(__WEBPACK_IMPORTED_MODULE_2__managers__, function (f) {\n        return f === __WEBPACK_IMPORTED_MODULE_2__managers__[\"Agile\"];\n    }),\n    status: __WEBPACK_IMPORTED_MODULE_3__constants_game__[\"e\" /* GAME_STATUS */].stop,\n    beats: 0,\n    highestBeats: 0,\n    outs: 0,\n    frame: 0,\n    startTime: 0,\n    fieldWidth: __WEBPACK_IMPORTED_MODULE_3__constants_game__[\"a\" /* DEFAULTS */].fieldWidth,\n    fieldHeight: __WEBPACK_IMPORTED_MODULE_3__constants_game__[\"a\" /* DEFAULTS */].fieldHeight\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"b\" /* INIT */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data);\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data.game);\n        default:\n            return state;\n    }\n};\n\n/***/ }),\n\n/***/ \"BCOr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(\"hB/+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__params__ = __webpack_require__(\"ZvXP\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__; });\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__params__; });\n\n\n\n\n\n/***/ }),\n\n/***/ \"ChGC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(\"9jEl\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"game\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__hero__ = __webpack_require__(\"ZJmM\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"hero\", function() { return __WEBPACK_IMPORTED_MODULE_1__hero__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__threats__ = __webpack_require__(\"WNaE\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"threats\", function() { return __WEBPACK_IMPORTED_MODULE_2__threats__[\"a\"]; });\n\n\n\n\n/***/ }),\n\n/***/ \"DBoO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common__ = __webpack_require__(\"hReJ\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (_ref) {\n    var game = _ref.game,\n        hero = _ref.hero,\n        threats = _ref.threats;\n\n    var scaryEdges = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"b\" /* getScaryEdges */])(2 * threats.size, game.fieldWidth, game.fieldHeight);\n\n    var nearestThreat = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"c\" /* getNearest */])(hero, __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(scaryEdges, threats.threats));\n\n    if (!nearestThreat.threat || nearestThreat.distance > __WEBPACK_IMPORTED_MODULE_2__common__[\"d\" /* SCARY_INTERVAL */] * hero.size) {\n        return __WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"a\" /* defaultHeroPosition */];\n    }\n\n    var distance = {\n        x: hero.x - nearestThreat.threat.x,\n        y: hero.y - nearestThreat.threat.y\n    };\n\n    return {\n        x: hero.x + distance.x,\n        y: hero.y + distance.y\n    };\n};\n\n/***/ }),\n\n/***/ \"EBfR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hero__ = __webpack_require__(\"iMa0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__threats__ = __webpack_require__(\"7lKn\");\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = spacePress;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = gameDataUpdater;\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\nvar statusUpdate = function statusUpdate(state, status) {\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.merge({}, state, {\n        game: {\n            status: status\n        }\n    });\n};\n\nfunction spacePress(state, startTime) {\n    switch (state.game.status) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play:\n            return statusUpdate(state, __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].pause);\n        case __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].pause:\n            return statusUpdate(state, __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play);\n        case __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].stop:\n        default:\n            return _extends({}, state, {\n                game: _extends({}, state.game, {\n                    status: __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play,\n                    beats: 0,\n                    outs: 0,\n                    frame: 0,\n                    startTime: startTime\n                }),\n                hero: _extends({}, state.hero, __WEBPACK_IMPORTED_MODULE_2__utils_funcs__[\"a\" /* defaultHeroPosition */]),\n                threats: _extends({}, state.threats, {\n                    threats: [],\n                    lastTime: 0 - state.threats.addTimeout / __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"a\" /* DEFAULTS */].frameLength\n                })\n            });\n    }\n}\n\nvar nextPlayFrame = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils_funcs__[\"c\" /* combineProcessors */])(__WEBPACK_IMPORTED_MODULE_4__threats__[\"a\" /* controlThreats */], __WEBPACK_IMPORTED_MODULE_3__hero__[\"a\" /* moveHero */]);\n\nfunction gameDataUpdater(oldData) {\n    var data = _extends({}, oldData);\n\n    if (data.game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play) {\n        data = nextPlayFrame(data);\n    }\n\n    return data;\n}\n\n/***/ }),\n\n/***/ \"J2UN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(\"EBfR\");\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__game__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__hero__ = __webpack_require__(\"iMa0\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__threats__ = __webpack_require__(\"7lKn\");\n/* unused harmony namespace reexport */\n\n\n\n\n/***/ }),\n\n/***/ \"JglD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return noOperation; });\nvar noOperation = function noOperation() {};\n\n/***/ }),\n\n/***/ \"QCNp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions__ = __webpack_require__(\"BCOr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__managers__ = __webpack_require__(\"ZB46\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__StateControl__ = __webpack_require__(\"t9xF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__RedSquares_less__ = __webpack_require__(\"tNBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__RedSquares_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__RedSquares_less__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Sidebar; });\nvar _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\nvar Sidebar = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(function (state) {\n    return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.extend({\n        status: state.game.status,\n        beats: state.game.beats,\n        highestBeats: state.game.highestBeats,\n        outs: state.game.outs,\n        threatsLength: state.threats.threats.length,\n        manager: state.game.manager\n    }, __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.mapValues(__WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */], function (id) {\n        return __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.get(state, id);\n    }));\n}, function (dispatch) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_redux__[\"e\" /* bindActionCreators */])({\n        processSpacePress: __WEBPACK_IMPORTED_MODULE_4__actions__[\"a\" /* game */].processSpacePress,\n        setState: __WEBPACK_IMPORTED_MODULE_4__actions__[\"b\" /* params */].setState,\n        clearHighest: __WEBPACK_IMPORTED_MODULE_4__actions__[\"a\" /* game */].clearHighest\n    }, dispatch);\n}), _dec(_class = function (_React$Component) {\n    _inherits(Sidebar, _React$Component);\n\n    function Sidebar() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Sidebar);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getS = function (name, num) {\n            return (num || 'No') + ' ' + name + (num !== 1 ? 's' : '');\n        }, _this.changeHandler = function (path) {\n            return function (event) {\n                var value = event.target.value;\n\n\n                switch (path) {\n                    case __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].manager:\n                        break;\n                    default:\n                        value = parseInt(value, 10) || 1;\n                }\n\n                _this.props.setState(path, value);\n            };\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Sidebar.prototype.render = function render() {\n        var _this2 = this;\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: __WEBPACK_IMPORTED_MODULE_8__RedSquares_less___default.a.side, style: { width: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"a\" /* DEFAULTS */].sideWidth + 'px' } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { onClick: this.props.processSpacePress },\n                __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"c\" /* BUTTON_NAMES */][this.props.status]\n            ),\n            ' (Press Space)',\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'h2',\n                null,\n                this.getS('beat', this.props.beats)\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                'Highest beats: ',\n                this.props.highestBeats\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                this.getS('out', this.props.outs)\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                this.getS('threat', this.props.threatsLength),\n                ' on field'\n            ),\n            'Control',\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"a\" /* Radio */], {\n                id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].manager,\n                state: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.mapValues(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.invert(__WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */]), function (id) {\n                    return _this2.props[id];\n                }),\n                values: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.keys(__WEBPACK_IMPORTED_MODULE_5__managers__),\n                onChange: this.changeHandler\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_7__StateControl__[\"b\" /* Connector */],\n                {\n                    state: __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.mapValues(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.invert(__WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */]), function (id) {\n                        return _this2.props[id];\n                    }),\n                    onChange: this.changeHandler\n                },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].heroSize,\n                    label: 'Hero size (px)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].heroSpeed,\n                    label: 'Hero max speed (px/s)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatSize,\n                    label: 'Threat size (px)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatSpeed,\n                    label: 'Threat max speed (px/s)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatLimit,\n                    label: 'Threat limit'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatAddTimeout,\n                    label: 'Threat add timeout (ms)'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__StateControl__[\"c\" /* Input */], {\n                    id: __WEBPACK_IMPORTED_MODULE_6__constants_game__[\"b\" /* IDS */].threatRemoveProbability,\n                    label: 'Threat remove probability (1/x)'\n                })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { onClick: this.props.clearHighest },\n                'Clear highest'\n            )\n        );\n    };\n\n    return Sidebar;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)) || _class);\n\n\n/***/ }),\n\n/***/ \"WNaE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n\n\n\n\nvar initialState = {\n    threats: [],\n    size: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatSize,\n    maxSpeed: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatSpeed,\n    lastTime: 0,\n    addTimeout: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatAddTimeout,\n    index: 0,\n    limit: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatLimit,\n    removeProbability: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].threatRemoveProbability\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data.threats);\n        default:\n            return state;\n    }\n};\n\n/***/ }),\n\n/***/ \"WS4u\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(\"JglD\");\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Connector; });\n\n\n\nvar Connector = function Connector(_ref) {\n    var children = _ref.children,\n        state = _ref.state,\n        onChange = _ref.onChange,\n        onClick = _ref.onClick,\n        onFocus = _ref.onFocus;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.Children.map(children, function (child) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.isValidElement(child) ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.cloneElement(child, {\n                state: state,\n                onChange: onChange,\n                onClick: onClick,\n                onFocus: onFocus\n            }) : child;\n        })\n    );\n};\n\nConnector.defaultProps = {\n    state: {},\n    onChange: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    onClick: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    onFocus: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */]\n};\n\n/***/ }),\n\n/***/ \"WwO4\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YhS/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HERO_STATUSES; });\nvar HERO_STATUSES = {\n    normal: 'normal',\n    trouble: 'trouble'\n};\n\n/***/ }),\n\n/***/ \"Z3B0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = function (state) {\n    return state.hero ? {\n        x: state.hero.x,\n        y: state.hero.y\n    } : {\n        x: 0,\n        y: 0\n    };\n};\n\n/***/ }),\n\n/***/ \"ZB46\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__manual__ = __webpack_require__(\"mfQ3\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Mouse\", function() { return __WEBPACK_IMPORTED_MODULE_0__manual__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__still__ = __webpack_require__(\"Z3B0\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Still\", function() { return __WEBPACK_IMPORTED_MODULE_1__still__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__random__ = __webpack_require__(\"svHd\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Random\", function() { return __WEBPACK_IMPORTED_MODULE_2__random__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__scared__ = __webpack_require__(\"DBoO\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Scared\", function() { return __WEBPACK_IMPORTED_MODULE_3__scared__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__agile__ = __webpack_require__(\"rHI1\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Agile\", function() { return __WEBPACK_IMPORTED_MODULE_4__agile__[\"a\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"ZJmM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_hero__ = __webpack_require__(\"YhS/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_funcs__ = __webpack_require__(\"vlrw\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\nvar initialState = _extends({}, __WEBPACK_IMPORTED_MODULE_4__utils_funcs__[\"a\" /* defaultHeroPosition */], {\n    maxSpeed: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].heroSpeed,\n    status: __WEBPACK_IMPORTED_MODULE_3__constants_hero__[\"a\" /* HERO_STATUSES */].normal,\n    size: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].heroSize,\n    shadowPeriod: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].shadowPeriod,\n    shadowQuantity: __WEBPACK_IMPORTED_MODULE_2__constants_game__[\"a\" /* DEFAULTS */].shadowQuantity,\n    shadows: []\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */]:\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, state, action.data.hero);\n        default:\n            return state;\n    }\n};\n\n/***/ }),\n\n/***/ \"ZvXP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony export (immutable) */ __webpack_exports__[\"setState\"] = setState;\n\n\n\nfunction setState(name, value) {\n    return function (dispatch) {\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_1__constants_actionTypes__[\"a\" /* SET_STATE */],\n            data: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.set({}, name, value)\n        });\n    };\n}\n\n/***/ }),\n\n/***/ \"bHK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return HIGHEST_BEATS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DEFAULTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return GAME_STATUS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return BUTTON_NAMES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return IDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return KEY_CODES; });\nvar _BUTTON_NAMES;\n\nvar HIGHEST_BEATS = 'highestBeats';\n\nvar DEFAULTS = {\n    frameLength: 20,\n    heroSize: 25,\n    heroSpeed: 10,\n    threatSize: 15,\n    threatSpeed: 4,\n    threatLimit: 20,\n    threatAddTimeout: 1000,\n    threatRemoveProbability: 5,\n    fieldWidth: 800,\n    fieldHeight: 600,\n    sideWidth: 200,\n    shadowPeriod: 1,\n    shadowQuantity: 50\n};\n\nvar GAME_STATUS = {\n    play: 'play',\n    pause: 'pause',\n    stop: 'stop'\n};\n\nvar BUTTON_NAMES = (_BUTTON_NAMES = {}, _BUTTON_NAMES[GAME_STATUS.play] = 'Pause', _BUTTON_NAMES[GAME_STATUS.pause] = 'Resume', _BUTTON_NAMES[GAME_STATUS.stop] = 'Start', _BUTTON_NAMES);\n\nvar IDS = {\n    manager: 'game.manager',\n    heroSize: 'hero.size',\n    heroSpeed: 'hero.maxSpeed',\n    threatSize: 'threats.size',\n    threatSpeed: 'threats.maxSpeed',\n    threatLimit: 'threats.limit',\n    threatAddTimeout: 'threats.addTimeout',\n    threatRemoveProbability: 'threats.removeProbability'\n};\n\nvar KEY_CODES = {\n    space: 32\n};\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"gIL8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions__ = __webpack_require__(\"BCOr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RedSquares_less__ = __webpack_require__(\"tNBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RedSquares_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__RedSquares_less__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__CanvasField__ = __webpack_require__(\"qaGz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Sidebar__ = __webpack_require__(\"QCNp\");\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RedSquares; });\nvar _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nvar RedSquares = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(function (state) {\n    return {\n        fieldWidth: state.game.fieldWidth\n    };\n}, function (dispatch) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"e\" /* bindActionCreators */])({\n        init: __WEBPACK_IMPORTED_MODULE_3__actions__[\"a\" /* game */].init\n    }, dispatch);\n}), _dec(_class = function (_React$Component) {\n    _inherits(RedSquares, _React$Component);\n\n    function RedSquares() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, RedSquares);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getFieldSize = function () {\n            var fieldRect = _this.field;\n\n            return {\n                left: fieldRect.offsetLeft,\n                top: fieldRect.offsetTop,\n                right: fieldRect.offsetLeft + fieldRect.clientWidth,\n                bottom: fieldRect.offsetTop + fieldRect.clientHeight\n            };\n        }, _this.handleRefField = function (elem) {\n            _this.field = elem;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    RedSquares.prototype.componentDidMount = function componentDidMount() {\n        this.props.init(this);\n    };\n\n    RedSquares.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: __WEBPACK_IMPORTED_MODULE_5__RedSquares_less___default.a.wrapper, style: { width: this.props.fieldWidth + __WEBPACK_IMPORTED_MODULE_4__constants_game__[\"a\" /* DEFAULTS */].sideWidth + 'px' } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__CanvasField__[\"a\" /* default */], { refHandler: this.handleRefField }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__Sidebar__[\"a\" /* default */], null)\n        );\n    };\n\n    return RedSquares;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)) || _class);\n\n\n/***/ }),\n\n/***/ \"hB/+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__ = __webpack_require__(\"4HHy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_InputCatcher__ = __webpack_require__(\"liqn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__managers__ = __webpack_require__(\"ZB46\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__game_logic__ = __webpack_require__(\"J2UN\");\n/* harmony export (immutable) */ __webpack_exports__[\"processSpacePress\"] = processSpacePress;\n/* harmony export (immutable) */ __webpack_exports__[\"clearHighest\"] = clearHighest;\n/* harmony export (immutable) */ __webpack_exports__[\"init\"] = init;\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\nvar spacePressAtStart = function spacePressAtStart(state) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__game_logic__[\"a\" /* spacePress */])(state, performance.now());\n};\n\nfunction processSpacePress() {\n    return function (dispatch, getState) {\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"a\" /* SET_STATE */],\n            data: spacePressAtStart(getState())\n        });\n    };\n}\n\nfunction updateFrame(dispatch, getState) {\n    return function () {\n        var _data$game$inputContr;\n\n        var data = getState();\n\n        data.game.inputController.reactToKeys((_data$game$inputContr = {}, _data$game$inputContr[__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"d\" /* KEY_CODES */].space] = function () {\n            data = spacePressAtStart(data);\n        }, _data$game$inputContr));\n\n        data = _extends({}, data, {\n            target: __WEBPACK_IMPORTED_MODULE_3__managers__[data.game.manager](data)\n        });\n\n        data.game.frame += 1;\n        data = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__game_logic__[\"b\" /* gameDataUpdater */])(data);\n\n        var waitTime = data.game.startTime + __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"a\" /* DEFAULTS */].frameLength * data.game.frame - performance.now();\n        if (waitTime < -1000) {\n            data.game.frame = Math.floor((performance.now() - data.game.startTime) / __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"a\" /* DEFAULTS */].frameLength);\n        }\n\n        if (data.game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].stop && getState().game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play) {\n            localStorage.setItem(__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"f\" /* HIGHEST_BEATS */], data.game.highestBeats = Math.max(data.game.beats, data.game.highestBeats));\n        }\n\n        if (data.game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play || getState().game.status === __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play) {\n            dispatch({\n                type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"a\" /* SET_STATE */],\n                data: data\n            });\n        }\n\n        setTimeout(updateFrame(dispatch, getState), Math.max(waitTime, 0));\n    };\n}\n\nfunction clearHighest() {\n    return function (dispatch) {\n        localStorage.removeItem(__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"f\" /* HIGHEST_BEATS */]);\n\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"b\" /* INIT */],\n            data: {\n                highestBeats: 0\n            }\n        });\n    };\n}\n\nfunction init(redSquares) {\n    return function (dispatch, getState) {\n        dispatch({\n            type: __WEBPACK_IMPORTED_MODULE_0__constants_actionTypes__[\"b\" /* INIT */],\n            data: {\n                redSquares: redSquares,\n                inputController: new __WEBPACK_IMPORTED_MODULE_2__utils_InputCatcher__[\"a\" /* default */](),\n                highestBeats: localStorage[__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"f\" /* HIGHEST_BEATS */]] ? parseInt(localStorage[__WEBPACK_IMPORTED_MODULE_1__constants_game__[\"f\" /* HIGHEST_BEATS */]], 10) : 0\n            }\n        });\n\n        updateFrame(dispatch, getState)();\n    };\n}\n\n/***/ }),\n\n/***/ \"hReJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return SCARY_INTERVAL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return VARIANTS_QUANTITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getNearest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getScaryEdges; });\nvar SCARY_INTERVAL = 3;\nvar VARIANTS_QUANTITY = 24;\n\nvar getDistance = function getDistance(A, B) {\n    return Math.sqrt(Math.pow(A.x - B.x, 2) + Math.pow(A.y - B.y, 2));\n};\n\nvar getNearest = function getNearest(hero, threats) {\n    return threats.reduce(function (nearest, threat) {\n        var distance = getDistance(hero, threat);\n        if (!nearest.threat || nearest.distance > distance) {\n            return {\n                threat: threat,\n                distance: distance\n            };\n        }\n\n        return nearest;\n    }, {\n        threat: null,\n        distance: Infinity\n    });\n};\n\nvar getScaryEdges = function getScaryEdges(size, width, height) {\n    var edges = [];\n\n    for (var x = -size; x < width + size; x += size) {\n        edges.push({\n            x: x,\n            y: -size * 1.1\n        });\n        edges.push({\n            x: x,\n            y: height + size * 1.1\n        });\n    }\n\n    for (var y = -size; y < height + size; y += size) {\n        edges.push({\n            x: -size * 1.1,\n            y: y\n        });\n        edges.push({\n            x: width + size * 1.1,\n            y: y\n        });\n    }\n\n    return edges;\n};\n\n/***/ }),\n\n/***/ \"iMa0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_hero__ = __webpack_require__(\"YhS/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = moveHero;\n\n\n\n\n\nvar getHeroStatus = function getHeroStatus(x, y, heroSize, threatSize, threats) {\n    var safeLength = heroSize + threatSize;\n\n    if (threats.some(function (threat) {\n        return Math.abs(threat.x - x) < safeLength && Math.abs(threat.y - y) < safeLength;\n    })) {\n\n        return __WEBPACK_IMPORTED_MODULE_2__constants_hero__[\"a\" /* HERO_STATUSES */].trouble;\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_2__constants_hero__[\"a\" /* HERO_STATUSES */].normal;\n};\n\nfunction getMove(hero, target) {\n    var xDelta = target.x - hero.x;\n    var yDelta = target.y - hero.y;\n\n    if (Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2)) <= hero.maxSpeed) {\n        return {\n            xMove: xDelta,\n            yMove: yDelta\n        };\n    }\n\n    var xMove = hero.maxSpeed / Math.sqrt(1 + Math.pow(yDelta, 2) / Math.pow(xDelta, 2)) * __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__utils_funcs__[\"b\" /* sign */])(xDelta);\n    var yMove = (xDelta ? Math.abs(xMove * yDelta / xDelta) : hero.maxSpeed) * __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__utils_funcs__[\"b\" /* sign */])(yDelta);\n\n    return {\n        xMove: xMove,\n        yMove: yMove\n    };\n}\n\nfunction moveHero(state) {\n    var game = state.game,\n        hero = state.hero,\n        target = state.target;\n    var threats = state.threats.threats;\n\n    var threatSize = state.threats.size;\n\n    var _getMove = getMove(hero, target),\n        xMove = _getMove.xMove,\n        yMove = _getMove.yMove;\n\n    var x = hero.x + xMove;\n    x = Math.max(x, hero.size);\n    x = Math.min(x, game.fieldWidth - hero.size);\n\n    var y = hero.y + yMove;\n    y = Math.max(y, hero.size);\n    y = Math.min(y, game.fieldHeight - hero.size);\n\n    var status = getHeroStatus(x, y, hero.size, threatSize, threats);\n    var shadows = hero.shadows;\n\n    var id = 0;\n    if (!(game.frame % hero.shadowPeriod)) {\n        if (shadows.length === hero.shadowQuantity) {\n            shadows.pop();\n        }\n        if (shadows.length) {\n            id = shadows[0].id + 1;\n        }\n        shadows.unshift({\n            x: hero.x,\n            y: hero.y,\n            id: id\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.merge({}, state, {\n        game: {\n            status: status === __WEBPACK_IMPORTED_MODULE_2__constants_hero__[\"a\" /* HERO_STATUSES */].normal ? __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].play : __WEBPACK_IMPORTED_MODULE_1__constants_game__[\"e\" /* GAME_STATUS */].stop\n        },\n        hero: {\n            x: x,\n            y: y,\n            status: status,\n            shadows: shadows\n        }\n    });\n}\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(\"sMfP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__index_css__);\n\n\n\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"render\"])(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */], null), document.querySelector('#app'));\n\n/***/ }),\n\n/***/ \"liqn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return InputCatcher; });\nvar _class, _temp, _initialiseProps;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar InputCatcher = (_temp = _class = function InputCatcher(keymap) {\n    _classCallCheck(this, InputCatcher);\n\n    _initialiseProps.call(this);\n\n    this.initialKeymap = keymap;\n\n    if (InputCatcher.instance) {\n        return InputCatcher.instance;\n    }\n    InputCatcher.instance = this;\n\n    document.onmousemove = this.saveMousePos;\n    window.document.onkeydown = this.process;\n}, _class.mousePos = {}, _class.keyPressed = [], _initialiseProps = function _initialiseProps() {\n    var _this = this;\n\n    this.initialKeymap = {};\n\n    this.saveMousePos = function (e) {\n        InputCatcher.mousePos = {\n            x: e.pageX,\n            y: e.pageY\n        };\n    };\n\n    this.process = function (e) {\n        if (e.keyCode === 32) {\n            e.preventDefault();\n        }\n        _this.saveKeyPressed(e);\n    };\n\n    this.saveKeyPressed = function (_ref) {\n        var keyCode = _ref.keyCode;\n        return InputCatcher.keyPressed.push(keyCode);\n    };\n\n    this.reactToKeys = function () {\n        var keymap = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.initialKeymap;\n\n        InputCatcher.keyPressed.forEach(function (key) {\n            return keymap[key] && keymap[key]();\n        });\n        InputCatcher.keyPressed = [];\n    };\n}, _temp);\n\n\n/***/ }),\n\n/***/ \"mfQ3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__ = __webpack_require__(\"liqn\");\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (data) {\n    var fieldSize = data.game.redSquares.getFieldSize();\n\n    return {\n        x: __WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__[\"a\" /* default */].mousePos.x - fieldSize.left,\n        y: __WEBPACK_IMPORTED_MODULE_0__utils_InputCatcher__[\"a\" /* default */].mousePos.y - fieldSize.top\n    };\n};\n\n/***/ }),\n\n/***/ \"pyjo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(\"JglD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Radio_less__ = __webpack_require__(\"2tf8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Radio_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__Radio_less__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Radio; });\nvar _class, _temp2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar Radio = (_temp2 = _class = function (_React$Component) {\n    _inherits(Radio, _React$Component);\n\n    function Radio() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Radio);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getPath = function () {\n            return _this.props.path || _this.props.id;\n        }, _this.getValue = function () {\n            return _this.props.value || _this.props.state && _this.props.state[_this.getPath()];\n        }, _this.refHandler = function (control) {\n            _this.control = control;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Radio.prototype.render = function render() {\n        var _this2 = this;\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: __WEBPACK_IMPORTED_MODULE_2__Radio_less___default.a.group, id: this.id },\n            this.props.values.map(function (value) {\n                var id = value.id || value;\n\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: id },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                        id: id,\n                        name: _this2.props.id,\n                        type: 'radio',\n                        ref: _this2.refHandler,\n                        value: id,\n                        checked: _this2.getValue() === id,\n                        readOnly: _this2.props.readOnly,\n                        onChange: _this2.props.onChange(_this2.getPath()),\n                        onClick: _this2.props.onClick(_this2),\n                        onFocus: _this2.props.onFocus(_this2)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { htmlFor: id },\n                        value.label || value\n                    )\n                );\n            })\n        );\n    };\n\n    return Radio;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component), _class.defaultProps = {\n    value: '',\n    onChange: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    onClick: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    onFocus: __WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* noOperation */],\n    multiLine: false\n}, _temp2);\n\n/***/ }),\n\n/***/ \"qaGz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_hero__ = __webpack_require__(\"YhS/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RedSquares_less__ = __webpack_require__(\"tNBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__RedSquares_less__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CanvasField; });\nvar _heroStyle, _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar heroStyle = (_heroStyle = {}, _heroStyle[__WEBPACK_IMPORTED_MODULE_3__constants_hero__[\"a\" /* HERO_STATUSES */].normal] = 'rgb(50, 205, 50)', _heroStyle[__WEBPACK_IMPORTED_MODULE_3__constants_hero__[\"a\" /* HERO_STATUSES */].trouble] = 'rgb(237, 20, 61)', _heroStyle);\n\nvar CanvasField = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(function (state) {\n    return {\n        fieldWidth: state.game.fieldWidth,\n        fieldHeight: state.game.fieldHeight,\n        heroStatus: state.hero.status,\n        heroSize: state.hero.size,\n        heroPos: {\n            x: state.hero.x,\n            y: state.hero.y\n        },\n        threatSize: state.threats.size,\n        threats: state.threats.threats,\n        shadows: state.hero.shadows\n    };\n}), _dec(_class = function (_React$Component) {\n    _inherits(CanvasField, _React$Component);\n\n    function CanvasField() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, CanvasField);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.canvas = null, _this.handleRefCanvas = function (elem) {\n            _this.canvas = elem;\n            _this.props.refHandler(elem);\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    CanvasField.drawSquare = function drawSquare(_ref) {\n        var ctx = _ref.ctx,\n            pos = _ref.pos,\n            size = _ref.size,\n            color = _ref.color;\n\n        ctx.fillStyle = color;\n        ctx.fillRect(Math.round(pos.x - size), Math.round(pos.y - size), size * 2, size * 2);\n    };\n\n    CanvasField.prototype.paint = function paint() {\n        var _this2 = this;\n\n        if (!this.canvas) {\n            return;\n        }\n        var ctx = this.canvas.getContext('2d');\n\n        ctx.clearRect(0, 0, this.props.fieldWidth, this.props.fieldHeight);\n\n        this.props.shadows.forEach(function (shadow, index) {\n            return CanvasField.drawSquare({\n                ctx: ctx,\n                pos: _this2.props.shadows[index],\n                size: _this2.props.heroSize,\n                color: 'rgba(237, 20, 61, ' + (_this2.props.shadows.length - index - 1) / _this2.props.shadows.length * 0.3 + ')'\n            });\n        });\n        CanvasField.drawSquare({\n            ctx: ctx,\n            pos: this.props.heroPos,\n            size: this.props.heroSize,\n            color: heroStyle[this.props.heroStatus]\n        });\n        this.props.threats.forEach(function (threat) {\n            return CanvasField.drawSquare({\n                ctx: ctx,\n                pos: threat,\n                size: _this2.props.threatSize,\n                color: 'rgb(100, 149, 237)'\n            });\n        });\n    };\n\n    CanvasField.prototype.render = function render() {\n        this.paint();\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'canvas',\n            {\n                ref: this.handleRefCanvas,\n                className: __WEBPACK_IMPORTED_MODULE_4__RedSquares_less___default.a.field,\n                width: this.props.fieldWidth,\n                height: this.props.fieldHeight\n            },\n            'You are using an outdated browser.'\n        );\n    };\n\n    return CanvasField;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)) || _class);\n\n\n/***/ }),\n\n/***/ \"rHI1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_funcs__ = __webpack_require__(\"vlrw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common__ = __webpack_require__(\"hReJ\");\n\n\n\n\nfunction getVariants(hero) {\n    var variants = [];\n    for (var angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* VARIANTS_QUANTITY */]) {\n        variants.push({\n            x: hero.x + Math.cos(angle) * hero.maxSpeed,\n            y: hero.y + Math.sin(angle) * hero.maxSpeed\n        });\n    }\n\n    return variants;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (_ref) {\n    var game = _ref.game,\n        hero = _ref.hero,\n        threats = _ref.threats;\n\n    var scaryEdges = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"b\" /* getScaryEdges */])(2 * threats.size, game.fieldWidth, game.fieldHeight);\n    var newThreats = threats.threats.map(function (threat) {\n        return {\n            x: threat.x + threat.speed.x,\n            y: threat.y + threat.speed.y\n        };\n    });\n    var extendedThreats = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(scaryEdges, newThreats);\n\n    var nearestThreat = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"c\" /* getNearest */])(hero, extendedThreats);\n\n    if (!nearestThreat.threat || nearestThreat.distance > __WEBPACK_IMPORTED_MODULE_2__common__[\"d\" /* SCARY_INTERVAL */] * hero.size) {\n        return __WEBPACK_IMPORTED_MODULE_1__utils_funcs__[\"a\" /* defaultHeroPosition */];\n    }\n\n    var variant = getVariants(hero).reduce(function (best, current) {\n        var _getNearest = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common__[\"c\" /* getNearest */])(current, extendedThreats),\n            distance = _getNearest.distance;\n\n        if (distance > best.distance) {\n            return {\n                x: current.x,\n                y: current.y,\n                distance: distance\n            };\n        }\n\n        return best;\n    }, {\n        x: hero.x,\n        y: hero.y,\n        distance: nearestThreat.distance\n    });\n\n    return {\n        x: variant.x,\n        y: variant.y\n    };\n};\n\n/***/ }),\n\n/***/ \"sMfP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux__ = __webpack_require__(\"2KeS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_thunk__ = __webpack_require__(\"4ufr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_thunk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_redux_thunk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(\"RH2O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__reducers__ = __webpack_require__(\"ChGC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_RedSquares__ = __webpack_require__(\"gIL8\");\n\n\n\n\n\n\n\nvar composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ // eslint-disable-line no-underscore-dangle\n|| __WEBPACK_IMPORTED_MODULE_1_redux__[\"a\" /* compose */];\nvar store = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"b\" /* createStore */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"c\" /* combineReducers */])(__WEBPACK_IMPORTED_MODULE_4__reducers__), composeEnhancers(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__[\"d\" /* applyMiddleware */])(__WEBPACK_IMPORTED_MODULE_2_redux_thunk___default.a)));\n\nvar App = function App() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_react_redux__[\"a\" /* Provider */],\n        { store: store },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__components_RedSquares__[\"a\" /* default */], null)\n    );\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = App;\n\n/***/ }),\n\n/***/ \"svHd\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction getRandomCoordinate(range, size) {\n    return Math.random() * (range - size * 2) + size;\n}\n\nvar target = void 0;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (state) {\n    if (!target || state.hero.x === target.x && state.hero.y === target.y) {\n        target = {\n            x: getRandomCoordinate(state.game.fieldWidth, state.hero.size),\n            y: getRandomCoordinate(state.game.fieldHeight, state.hero.size)\n        };\n    }\n\n    return target;\n};\n\n/***/ }),\n\n/***/ \"t9xF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Input__ = __webpack_require__(\"6e+x\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_0__Input__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Radio__ = __webpack_require__(\"pyjo\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_1__Radio__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Connector__ = __webpack_require__(\"WS4u\");\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_2__Connector__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__SettersBlock__ = __webpack_require__(\"tozq\");\n/* unused harmony reexport SettersBlock */\n\n\n\n\n\n/***/ }),\n\n/***/ \"tNBi\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"wrapper\":\"RedSquares__wrapper__n469N\",\"field\":\"RedSquares__field__3S_U-\",\"side\":\"RedSquares__side__1Qama\"};\n\n/***/ }),\n\n/***/ \"tozq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"U7vG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* unused harmony export SettersBlock */\n\n\nvar Setter = function Setter(_ref) {\n    var text = _ref.text,\n        tabIndex = _ref.tabIndex,\n        onClick = _ref.onClick;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        \"div\",\n        { className: \"setter\" },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            \"a\",\n            { onClick: onClick, tabIndex: tabIndex },\n            text\n        )\n    );\n};\n\nvar SettersBlock = function SettersBlock(_ref2) {\n    var setters = _ref2.setters,\n        setState = _ref2.setState,\n        tabIndexOffset = _ref2.tabIndexOffset;\n\n    var index = 0;\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        \"div\",\n        null,\n        setters.map(function (setter) {\n            index += 1;\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Setter, {\n                onClick: function onClick() {\n                    return setState(setter.params);\n                },\n                key: index,\n                tabIndex: index + tabIndexOffset,\n                text: setter.text\n            });\n        })\n    );\n};\n\nSettersBlock.defaultProps = {\n    tabIndexOffset: 1\n};\n\n/***/ }),\n\n/***/ \"vlrw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_game__ = __webpack_require__(\"bHK7\");\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = combineProcessors;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = sign;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return defaultHeroPosition; });\n\n\nfunction combineProcessors() {\n    for (var _len = arguments.length, processors = Array(_len), _key = 0; _key < _len; _key++) {\n        processors[_key] = arguments[_key];\n    }\n\n    return function (state) {\n        return processors.reduce(function (result, processor) {\n            return processor(result);\n        }, state);\n    };\n}\n\nfunction sign(num) {\n    if (num === 0 || isNaN(num)) {\n        return num;\n    }\n\n    return num > 0 ? 1 : -1;\n}\n\nvar defaultHeroPosition = {\n    x: (__WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].fieldWidth - __WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].heroSize) / 2,\n    y: (__WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].fieldHeight - __WEBPACK_IMPORTED_MODULE_0__constants_game__[\"a\" /* DEFAULTS */].heroSize) / 2\n};\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.b652654c.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"group\":\"Radio__group__1C6a0\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StateControl/Radio.less\n// module id = 2tf8\n// module chunks = 1","export const INIT = 'INIT'\r\nexport const SET_STATE = 'SET_STATE'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from './utils'\r\nimport './Input.css'\r\n\r\nexport class Input extends React.Component {\r\n    static propTypes = {\r\n        id: PropTypes.string.isRequired,\r\n        label: PropTypes.string.isRequired,\r\n        state: PropTypes.object,\r\n        path: PropTypes.string,\r\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        readOnly: PropTypes.bool,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        multiLine: PropTypes.bool,\r\n    }\r\n\r\n    static defaultProps = {\r\n        value: '',\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        multiLine: false,\r\n    }\r\n\r\n    inner = this.props.multiLine ? 'textarea' : 'input'\r\n    getId = () => `labeled-control-${this.props.id}`\r\n    getPath = () => this.props.path || this.props.id\r\n    getValue = () => this.props.value || (this.props.state && this.props.state[this.getPath()])\r\n\r\n    refHandler = (control) => {\r\n        this.control = control\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"labeled-input\">\r\n                <label htmlFor={this.getId()}>{this.props.label}</label>\r\n                <this.inner\r\n                    id={this.getId()}\r\n                    ref={this.refHandler}\r\n                    value={this.getValue()}\r\n                    readOnly={this.props.readOnly}\r\n                    onChange={this.props.onChange(this.getPath())}\r\n                    onClick={this.props.onClick(this)}\r\n                    onFocus={this.props.onFocus(this)}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/Input.jsx","import _ from 'lodash'\r\nimport { sign } from '../utils/funcs'\r\nimport { DEFAULTS } from '../constants/game'\r\n\r\nconst processSpeed = (newThreat, size, canFlyAway) => (axis, lean) => {\r\n    newThreat.isGoingOut = sign(lean) === sign(newThreat.speed[axis])\r\n\r\n    if (!newThreat.isOut) {\r\n        if (canFlyAway && newThreat.isGoingOut) {\r\n            newThreat.isOut = true\r\n        } else {\r\n            newThreat.speed[axis] = (newThreat.isGoingOut ? -1 : 1) * (newThreat.speed[axis] || 1)\r\n        }\r\n    }\r\n    if (Math.abs(lean) > size * 3) {\r\n        newThreat.isAroundField = false\r\n    }\r\n\r\n    return newThreat\r\n}\r\n\r\nconst beat = (removeProbability,\r\n              size,\r\n              fieldWidth,\r\n              fieldHeight) =>\r\n    (threat) => {\r\n        let newThreat = { ...threat }\r\n        const canFlyAway = Math.random() < 1 / removeProbability\r\n        const processThreat = processSpeed(newThreat, size, canFlyAway)\r\n\r\n        const leftBorder = size\r\n        if (newThreat.x < leftBorder) {\r\n            newThreat = processThreat('x', newThreat.x - leftBorder)\r\n        }\r\n        const rightBorder = fieldWidth - size\r\n        if (newThreat.x > rightBorder) {\r\n            newThreat = processThreat('x', newThreat.x - rightBorder)\r\n        }\r\n\r\n        const topBorder = size\r\n        if (newThreat.y < topBorder) {\r\n            newThreat = processThreat('y', newThreat.y - topBorder)\r\n        }\r\n        const bottomBorder = fieldHeight - size\r\n        if (newThreat.y > bottomBorder) {\r\n            newThreat = processThreat('y', newThreat.y - bottomBorder)\r\n        }\r\n\r\n        return newThreat\r\n    }\r\n\r\nconst newThreat = (size, index, fieldWidth, fieldHeight, maxSpeed) => {\r\n    const lean = size * 2\r\n    let x = Math.round(Math.random() * (fieldWidth - lean))\r\n    let y = 0 - lean\r\n    let speed = {\r\n        x: Math.round((Math.random() * 2 - 1) * maxSpeed),\r\n        y: Math.ceil(Math.random() * maxSpeed),\r\n    }\r\n\r\n    if (Math.random() < 0.5) {\r\n        x = 0 - lean\r\n        y = Math.round(Math.random() * (fieldHeight - lean))\r\n        speed = {\r\n            x: Math.ceil(Math.random() * maxSpeed),\r\n            y: Math.round((Math.random() * 2 - 1) * maxSpeed),\r\n        }\r\n\r\n        if (Math.random() < 0.5) {\r\n            x = fieldWidth\r\n            speed.x *= -1\r\n        }\r\n    } else if (Math.random() < 0.5) {\r\n        y = fieldHeight\r\n        speed.y *= -1\r\n    }\r\n    return {\r\n        id: index,\r\n        x,\r\n        y,\r\n        speed,\r\n        isOut: false,\r\n        isAroundField: true,\r\n    }\r\n}\r\n\r\nexport function controlThreats (state) {\r\n    const { threats } = state\r\n    const { frame, fieldWidth, fieldHeight } = state.game\r\n    const { frameLength } = DEFAULTS\r\n\r\n    let newThreats = threats.threats\r\n        .map((threat) => (\r\n            {\r\n                ...threat,\r\n                x: threat.x + threat.speed.x,\r\n                y: threat.y + threat.speed.y,\r\n            }\r\n        ))\r\n        .map(beat(\r\n            threats.removeProbability,\r\n            threats.size,\r\n            fieldWidth,\r\n            fieldHeight,\r\n        ))\r\n    const oldThreatsNum = newThreats.length\r\n    newThreats = newThreats.filter((threat) => threat.isAroundField)\r\n    const outs = oldThreatsNum - newThreats.length\r\n\r\n    let beats = 0\r\n\r\n    newThreats = newThreats.map((threat) => {\r\n        if (threat.isGoingOut && !threat.isOut) {\r\n            beats += 1\r\n            delete threat.isGoingOut\r\n        }\r\n        return threat\r\n    }, 0)\r\n\r\n    let added = 0\r\n    if (newThreats.length < threats.limit && frame >= threats.lastTime + (threats.addTimeout / frameLength)) {\r\n        newThreats.push(newThreat(\r\n            threats.size,\r\n            threats.index,\r\n            fieldWidth,\r\n            fieldHeight,\r\n            threats.maxSpeed,\r\n        ))\r\n        added = 1\r\n    }\r\n\r\n    const newState = _.merge({}, state, {\r\n        game: {\r\n            beats: state.game.beats + beats,\r\n            outs: state.game.outs + outs,\r\n        },\r\n        threats: {\r\n            lastTime: added ? frame : threats.lastTime,\r\n            index: threats.index + added,\r\n        },\r\n    })\r\n\r\n    newState.threats.threats = newThreats\r\n\r\n    return newState\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/threats.js","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\nimport * as managers from '../managers'\r\nimport { DEFAULTS, GAME_STATUS } from '../constants/game'\r\n\r\nconst initialState = {\r\n    redSquares: null,\r\n    inputController: null,\r\n    manager: _.findKey(managers, (f) => f === managers.Agile),\r\n    status: GAME_STATUS.stop,\r\n    beats: 0,\r\n    highestBeats: 0,\r\n    outs: 0,\r\n    frame: 0,\r\n    startTime: 0,\r\n    fieldWidth: DEFAULTS.fieldWidth,\r\n    fieldHeight: DEFAULTS.fieldHeight,\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.INIT:\r\n            return _.extend({}, state, action.data)\r\n        case types.SET_STATE:\r\n            return _.extend({}, state, action.data.game)\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/game.js","import _ from 'lodash'\r\nimport { defaultHeroPosition } from '../utils/funcs'\r\nimport { SCARY_INTERVAL, getNearest, getScaryEdges } from './common'\r\n\r\nexport default function ({ game, hero, threats }) {\r\n    const scaryEdges = getScaryEdges(2 * threats.size, game.fieldWidth, game.fieldHeight)\r\n\r\n    const nearestThreat = getNearest(hero, _.extend(scaryEdges, threats.threats))\r\n\r\n    if (!nearestThreat.threat || nearestThreat.distance > SCARY_INTERVAL * hero.size) {\r\n        return defaultHeroPosition\r\n    }\r\n\r\n    const distance = {\r\n        x: hero.x - nearestThreat.threat.x,\r\n        y: hero.y - nearestThreat.threat.y,\r\n    }\r\n\r\n    return {\r\n        x: hero.x + distance.x,\r\n        y: hero.y + distance.y,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/scared.js","import _ from 'lodash'\r\nimport { GAME_STATUS, DEFAULTS } from '../constants/game'\r\nimport { combineProcessors, defaultHeroPosition } from '../utils/funcs'\r\nimport { moveHero } from './hero'\r\nimport { controlThreats } from './threats'\r\n\r\nconst statusUpdate = (state, status) => _.merge({}, state, {\r\n    game: {\r\n        status,\r\n    }\r\n})\r\n\r\nexport function spacePress (state, startTime) {\r\n    switch (state.game.status) {\r\n        case GAME_STATUS.play:\r\n            return statusUpdate(state, GAME_STATUS.pause)\r\n        case GAME_STATUS.pause:\r\n            return statusUpdate(state, GAME_STATUS.play)\r\n        case GAME_STATUS.stop:\r\n        default:\r\n            return { // we use spread because of need to rewrite (not merge) threats\r\n                ...state,\r\n                game: {\r\n                    ...state.game,\r\n                    status: GAME_STATUS.play,\r\n                    beats: 0,\r\n                    outs: 0,\r\n                    frame: 0,\r\n                    startTime,\r\n                },\r\n                hero: {\r\n                    ...state.hero,\r\n                    ...defaultHeroPosition,\r\n                },\r\n                threats: {\r\n                    ...state.threats,\r\n                    threats: [],\r\n                    lastTime: 0 - state.threats.addTimeout / DEFAULTS.frameLength,\r\n                },\r\n            }\r\n    }\r\n}\r\n\r\nconst nextPlayFrame = combineProcessors(controlThreats, moveHero)\r\n\r\nexport function gameDataUpdater (oldData) {\r\n    let data = { ...oldData }\r\n\r\n    if (data.game.status === GAME_STATUS.play) {\r\n        data = nextPlayFrame(data)\r\n    }\r\n\r\n    return data\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/game.js","export const noOperation = () => {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/utils.js","import React, { PropTypes } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport _ from 'lodash'\r\nimport * as actions from '../actions'\r\nimport * as managers from '../managers'\r\nimport { GAME_STATUS, BUTTON_NAMES, IDS, DEFAULTS } from '../constants/game'\r\nimport { Connector, Input, Radio } from './StateControl'\r\nimport style from './RedSquares.less'\r\n\r\n@connect(\r\n    (state) => _.extend(\r\n        {\r\n            status: state.game.status,\r\n            beats: state.game.beats,\r\n            highestBeats: state.game.highestBeats,\r\n            outs: state.game.outs,\r\n            threatsLength: state.threats.threats.length,\r\n            manager: state.game.manager,\r\n        },\r\n        _.mapValues(IDS, (id) => _.get(state, id))\r\n    ),\r\n    (dispatch) => bindActionCreators({\r\n        processSpacePress: actions.game.processSpacePress,\r\n        setState: actions.params.setState,\r\n        clearHighest: actions.game.clearHighest,\r\n    }, dispatch)\r\n)\r\nexport default class Sidebar extends React.Component {\r\n    static propTypes = {\r\n        status: PropTypes.oneOf(_.values(GAME_STATUS)),\r\n        beats: PropTypes.number,\r\n        highestBeats: PropTypes.number,\r\n        outs: PropTypes.number,\r\n        threatsLength: PropTypes.number,\r\n        processSpacePress: PropTypes.func,\r\n        setState: PropTypes.func,\r\n        clearHighest: PropTypes.func,\r\n    }\r\n\r\n    getS = (name, num) => `${num || 'No'} ${name}${num !== 1 ? 's' : ''}`\r\n\r\n    changeHandler = (path) => (event) => {\r\n        let { value } = event.target\r\n\r\n        switch (path) {\r\n            case IDS.manager:\r\n                break\r\n            default:\r\n                value = parseInt(value, 10) || 1\r\n        }\r\n\r\n        this.props.setState(path, value)\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.side} style={{ width: `${DEFAULTS.sideWidth}px` }}>\r\n                <button onClick={this.props.processSpacePress}>{BUTTON_NAMES[this.props.status]}</button>\r\n                {' (Press Space)'}\r\n                <h2>{this.getS('beat', this.props.beats)}</h2>\r\n                <p>Highest beats: {this.props.highestBeats}</p>\r\n                <p>{this.getS('out', this.props.outs)}</p>\r\n                <p>{this.getS('threat', this.props.threatsLength)} on field</p>\r\n\r\n                {'Control'}\r\n                <Radio\r\n                    id={IDS.manager}\r\n                    state={_.mapValues(_.invert(IDS), (id) => this.props[id])}\r\n                    values={_.keys(managers)}\r\n                    onChange={this.changeHandler}\r\n                />\r\n                <Connector\r\n                    state={_.mapValues(_.invert(IDS), (id) => this.props[id])}\r\n                    onChange={this.changeHandler}\r\n                >\r\n                    <Input\r\n                        id={IDS.heroSize}\r\n                        label=\"Hero size (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.heroSpeed}\r\n                        label=\"Hero max speed (px/s)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatSize}\r\n                        label=\"Threat size (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatSpeed}\r\n                        label=\"Threat max speed (px/s)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatLimit}\r\n                        label=\"Threat limit\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatAddTimeout}\r\n                        label=\"Threat add timeout (ms)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatRemoveProbability}\r\n                        label=\"Threat remove probability (1/x)\"\r\n                    />\r\n                </Connector>\r\n                <button onClick={this.props.clearHighest}>Clear highest</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Sidebar.jsx","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\nimport { DEFAULTS } from '../constants/game'\r\n\r\nconst initialState = {\r\n    threats: [],\r\n    size: DEFAULTS.threatSize,\r\n    maxSpeed: DEFAULTS.threatSpeed,\r\n    lastTime: 0,\r\n    addTimeout: DEFAULTS.threatAddTimeout,\r\n    index: 0,\r\n    limit: DEFAULTS.threatLimit,\r\n    removeProbability: DEFAULTS.threatRemoveProbability,\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.SET_STATE:\r\n            return _.extend({}, state, action.data.threats)\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/threats.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from './utils'\r\n\r\nexport const Connector = ({ children, state, onChange, onClick, onFocus }) => (\r\n    <div>\r\n        {React.Children.map(\r\n            children,\r\n            (child) => (\r\n                React.isValidElement(child)\r\n                    ? React.cloneElement(child, {\r\n                        state,\r\n                        onChange,\r\n                        onClick,\r\n                        onFocus,\r\n                    })\r\n                    : child\r\n            )\r\n        )}\r\n    </div>\r\n)\r\n\r\nConnector.propTypes = {\r\n    state: PropTypes.object,\r\n    onChange: PropTypes.func,\r\n    onClick: PropTypes.func,\r\n    onFocus: PropTypes.func,\r\n    children: PropTypes.array,\r\n}\r\n\r\nConnector.defaultProps = {\r\n    state: {},\r\n    onChange: noOperation,\r\n    onClick: noOperation,\r\n    onFocus: noOperation,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/Connector.jsx","export const HERO_STATUSES = {\r\n    normal: 'normal',\r\n    trouble: 'trouble',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/hero.js","export default function (state) {\r\n    return state.hero\r\n        ? {\r\n            x: state.hero.x,\r\n            y: state.hero.y,\r\n        }\r\n        : {\r\n            x: 0,\r\n            y: 0,\r\n        }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/still.js","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\nimport { DEFAULTS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport { defaultHeroPosition } from '../utils/funcs'\r\n\r\nconst initialState = {\r\n    ...defaultHeroPosition,\r\n    maxSpeed: DEFAULTS.heroSpeed,\r\n    status: HERO_STATUSES.normal,\r\n    size: DEFAULTS.heroSize,\r\n    shadowPeriod: DEFAULTS.shadowPeriod,\r\n    shadowQuantity: DEFAULTS.shadowQuantity,\r\n    shadows: [],\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.SET_STATE:\r\n            return _.extend({}, state, action.data.hero)\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/hero.js","import _ from 'lodash'\r\nimport * as types from '../constants/actionTypes'\r\n\r\nexport function setState (name, value) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: types.SET_STATE,\r\n            data: _.set({}, name, value)\r\n        })\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/params.js","export const HIGHEST_BEATS = 'highestBeats'\r\n\r\nexport const DEFAULTS = {\r\n    frameLength: 20,\r\n    heroSize: 25,\r\n    heroSpeed: 10,\r\n    threatSize: 15,\r\n    threatSpeed: 4,\r\n    threatLimit: 20,\r\n    threatAddTimeout: 1000,\r\n    threatRemoveProbability: 5,\r\n    fieldWidth: 800,\r\n    fieldHeight: 600,\r\n    sideWidth: 200,\r\n    shadowPeriod: 1,\r\n    shadowQuantity: 50,\r\n}\r\n\r\nexport const GAME_STATUS = {\r\n    play: 'play',\r\n    pause: 'pause',\r\n    stop: 'stop',\r\n}\r\n\r\nexport const BUTTON_NAMES = {\r\n    [GAME_STATUS.play]: 'Pause',\r\n    [GAME_STATUS.pause]: 'Resume',\r\n    [GAME_STATUS.stop]: 'Start',\r\n}\r\n\r\nexport const IDS = {\r\n    manager: 'game.manager',\r\n    heroSize: 'hero.size',\r\n    heroSpeed: 'hero.maxSpeed',\r\n    threatSize: 'threats.size',\r\n    threatSpeed: 'threats.maxSpeed',\r\n    threatLimit: 'threats.limit',\r\n    threatAddTimeout: 'threats.addTimeout',\r\n    threatRemoveProbability: 'threats.removeProbability',\r\n}\r\n\r\nexport const KEY_CODES = {\r\n    space: 32,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/game.js","import React, { PropTypes } from 'react'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport { DEFAULTS } from '../constants/game'\r\nimport style from './RedSquares.less'\r\nimport CanvasField from './CanvasField'\r\nimport Sidebar from './Sidebar'\r\n\r\n@connect(\r\n    (state) => ({\r\n        fieldWidth: state.game.fieldWidth,\r\n    }),\r\n    (dispatch) => bindActionCreators({\r\n        init: actions.game.init,\r\n    }, dispatch)\r\n)\r\nexport default class RedSquares extends React.Component {\r\n    static propTypes = {\r\n        fieldWidth: PropTypes.number,\r\n        init: PropTypes.func,\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.init(this)\r\n    }\r\n\r\n    getFieldSize = () => {\r\n        const fieldRect = this.field\r\n\r\n        return {\r\n            left: fieldRect.offsetLeft,\r\n            top: fieldRect.offsetTop,\r\n            right: fieldRect.offsetLeft + fieldRect.clientWidth,\r\n            bottom: fieldRect.offsetTop + fieldRect.clientHeight,\r\n        }\r\n    }\r\n\r\n    handleRefField = (elem) => { this.field = elem }\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.wrapper} style={{ width: `${this.props.fieldWidth + DEFAULTS.sideWidth}px` }}>\r\n                <CanvasField refHandler={this.handleRefField} />\r\n                <Sidebar />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/RedSquares.jsx","import * as types from '../constants/actionTypes'\r\nimport { HIGHEST_BEATS, GAME_STATUS, DEFAULTS, KEY_CODES } from '../constants/game'\r\nimport InputCatcher from '../utils/InputCatcher'\r\nimport * as managers from '../managers'\r\nimport { spacePress, gameDataUpdater } from '../game-logic'\r\n\r\nconst spacePressAtStart = (state) => spacePress(state, performance.now())\r\n\r\nexport function processSpacePress () {\r\n    return (dispatch, getState) => {\r\n        dispatch({\r\n            type: types.SET_STATE,\r\n            data: spacePressAtStart(getState()),\r\n        })\r\n    }\r\n}\r\n\r\nfunction updateFrame (dispatch, getState) {\r\n    return () => {\r\n        let data = getState()\r\n\r\n        data.game.inputController.reactToKeys({\r\n            [KEY_CODES.space]: () => {\r\n                data = spacePressAtStart(data)\r\n            },\r\n        })\r\n\r\n        data = {\r\n            ...data,\r\n            target: managers[data.game.manager](data),\r\n        }\r\n\r\n        data.game.frame += 1\r\n        data = gameDataUpdater(data)\r\n\r\n        const waitTime = data.game.startTime + DEFAULTS.frameLength * data.game.frame - performance.now()\r\n        if (waitTime < -1000) {\r\n            data.game.frame = Math.floor((performance.now() - data.game.startTime) / DEFAULTS.frameLength)\r\n        }\r\n\r\n        if (data.game.status === GAME_STATUS.stop && getState().game.status === GAME_STATUS.play) {\r\n            localStorage.setItem(\r\n                HIGHEST_BEATS,\r\n                data.game.highestBeats = Math.max(data.game.beats, data.game.highestBeats)\r\n            )\r\n        }\r\n\r\n        if (data.game.status === GAME_STATUS.play || getState().game.status === GAME_STATUS.play) {\r\n            dispatch({\r\n                type: types.SET_STATE,\r\n                data,\r\n            })\r\n        }\r\n\r\n        setTimeout(\r\n            updateFrame(dispatch, getState),\r\n            Math.max(waitTime, 0)\r\n        )\r\n    }\r\n}\r\n\r\nexport function clearHighest () {\r\n    return (dispatch) => {\r\n        localStorage.removeItem(HIGHEST_BEATS)\r\n\r\n        dispatch({\r\n            type: types.INIT,\r\n            data: {\r\n                highestBeats: 0,\r\n            },\r\n        })\r\n    }\r\n}\r\n\r\nexport function init (redSquares) {\r\n    return (dispatch, getState) => {\r\n        dispatch({\r\n            type: types.INIT,\r\n            data: {\r\n                redSquares,\r\n                inputController: new InputCatcher(),\r\n                highestBeats: localStorage[HIGHEST_BEATS] ? parseInt(localStorage[HIGHEST_BEATS], 10) : 0,\r\n            },\r\n        })\r\n\r\n        updateFrame(dispatch, getState)()\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/game.js","export const SCARY_INTERVAL = 3\r\nexport const VARIANTS_QUANTITY = 24\r\n\r\nconst getDistance = (A, B) => Math.sqrt((A.x - B.x) ** 2 + (A.y - B.y) ** 2)\r\n\r\nexport const getNearest = (hero, threats) => threats.reduce((nearest, threat) => {\r\n    const distance = getDistance(hero, threat)\r\n    if (!nearest.threat || nearest.distance > distance) {\r\n        return {\r\n            threat,\r\n            distance,\r\n        }\r\n    }\r\n\r\n    return nearest\r\n}, {\r\n    threat: null,\r\n    distance: Infinity,\r\n})\r\n\r\nexport const getScaryEdges = (size, width, height) => {\r\n    const edges = []\r\n\r\n    for (\r\n        let x = -size;\r\n        x < width + size;\r\n        x += size\r\n    ) {\r\n        edges.push({\r\n            x,\r\n            y: -size * 1.1,\r\n        })\r\n        edges.push({\r\n            x,\r\n            y: height + size * 1.1,\r\n        })\r\n    }\r\n\r\n    for (\r\n        let y = -size;\r\n        y < height + size;\r\n        y += size\r\n    ) {\r\n        edges.push({\r\n            x: -size * 1.1,\r\n            y,\r\n        })\r\n        edges.push({\r\n            x: width + size * 1.1,\r\n            y,\r\n        })\r\n    }\r\n\r\n    return edges\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/common.js","import _ from 'lodash'\r\nimport { GAME_STATUS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport { sign } from '../utils/funcs'\r\n\r\nconst getHeroStatus = (x, y, heroSize, threatSize, threats) => {\r\n    const safeLength = heroSize + threatSize\r\n\r\n    if (threats.some((threat) =>\r\n            Math.abs(threat.x - x) < safeLength && Math.abs(threat.y - y) < safeLength\r\n        )) {\r\n\r\n        return HERO_STATUSES.trouble\r\n    }\r\n\r\n    return HERO_STATUSES.normal\r\n}\r\n\r\nfunction getMove (hero, target) {\r\n    const xDelta = target.x - hero.x\r\n    const yDelta = target.y - hero.y\r\n\r\n    if (Math.sqrt(xDelta ** 2 + yDelta ** 2) <= hero.maxSpeed) {\r\n        return {\r\n            xMove: xDelta,\r\n            yMove: yDelta,\r\n        }\r\n    }\r\n\r\n    const xMove = hero.maxSpeed / Math.sqrt(1 + (yDelta ** 2 / xDelta ** 2)) * sign(xDelta)\r\n    const yMove = (xDelta\r\n            ? Math.abs(xMove * yDelta / xDelta)\r\n            : hero.maxSpeed\r\n        ) * sign(yDelta)\r\n\r\n    return {\r\n        xMove,\r\n        yMove,\r\n    }\r\n}\r\n\r\nexport function moveHero (state) {\r\n    const { game, hero, target } = state\r\n    const { threats } = state.threats\r\n    const threatSize = state.threats.size\r\n\r\n    const { xMove, yMove } = getMove(hero, target)\r\n\r\n    let x = hero.x + xMove\r\n    x = Math.max(x, hero.size)\r\n    x = Math.min(x, game.fieldWidth - hero.size)\r\n\r\n    let y = hero.y + yMove\r\n    y = Math.max(y, hero.size)\r\n    y = Math.min(y, game.fieldHeight - hero.size)\r\n\r\n    const status = getHeroStatus(x, y, hero.size, threatSize, threats)\r\n    const { shadows } = hero\r\n    let id = 0\r\n    if (!(game.frame % hero.shadowPeriod)) {\r\n        if (shadows.length === hero.shadowQuantity) {\r\n            shadows.pop()\r\n        }\r\n        if (shadows.length) {\r\n            id = shadows[0].id + 1\r\n        }\r\n        shadows.unshift({\r\n            x: hero.x,\r\n            y: hero.y,\r\n            id,\r\n        })\r\n    }\r\n\r\n    return _.merge({}, state, {\r\n        game: {\r\n            status: status === HERO_STATUSES.normal ? GAME_STATUS.play : GAME_STATUS.stop,\r\n        },\r\n        hero: {\r\n            x,\r\n            y,\r\n            status,\r\n            shadows,\r\n        }\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/hero.js","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nrender(<App />, document.querySelector('#app'))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default class InputCatcher {\r\n    static instance\r\n    static mousePos = {}\r\n    static keyPressed = []\r\n    initialKeymap = {}\r\n\r\n    constructor (keymap) {\r\n        this.initialKeymap = keymap\r\n\r\n        if (InputCatcher.instance) {\r\n            return InputCatcher.instance\r\n        }\r\n        InputCatcher.instance = this\r\n\r\n        document.onmousemove = this.saveMousePos\r\n        window.document.onkeydown = this.process\r\n    }\r\n\r\n    saveMousePos = (e) => {\r\n        InputCatcher.mousePos = {\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n        }\r\n    }\r\n\r\n    process = (e) => {\r\n        if (e.keyCode === 32) {\r\n            e.preventDefault()\r\n        }\r\n        this.saveKeyPressed(e)\r\n    }\r\n\r\n    saveKeyPressed = ({ keyCode }) => InputCatcher.keyPressed.push(keyCode)\r\n\r\n    reactToKeys = (keymap = this.initialKeymap) => {\r\n        InputCatcher.keyPressed.forEach((key) => keymap[key] && keymap[key]())\r\n        InputCatcher.keyPressed = []\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/InputCatcher.js","import InputCatcher from '../utils/InputCatcher'\r\n\r\nexport default function (data) {\r\n    const fieldSize = data.game.redSquares.getFieldSize()\r\n\r\n    return {\r\n        x: InputCatcher.mousePos.x - fieldSize.left,\r\n        y: InputCatcher.mousePos.y - fieldSize.top,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/manual.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from './utils'\r\nimport style from './Radio.less'\r\n\r\nexport class Radio extends React.Component {\r\n    static propTypes = {\r\n        id: PropTypes.string.isRequired,\r\n        state: PropTypes.object,\r\n        path: PropTypes.string,\r\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        values: PropTypes.array,\r\n        readOnly: PropTypes.bool,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        value: '',\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        multiLine: false,\r\n    }\r\n\r\n    getPath = () => this.props.path || this.props.id\r\n    getValue = () => this.props.value || (this.props.state && this.props.state[this.getPath()])\r\n\r\n    refHandler = (control) => {\r\n        this.control = control\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.group} id={this.id}>\r\n                {this.props.values.map((value) => {\r\n                    const id = value.id || value\r\n\r\n                    return (\r\n                        <div key={id}>\r\n                            <input\r\n                                id={id}\r\n                                name={this.props.id}\r\n                                type=\"radio\"\r\n                                ref={this.refHandler}\r\n                                value={id}\r\n                                checked={this.getValue() === id}\r\n                                readOnly={this.props.readOnly}\r\n                                onChange={this.props.onChange(this.getPath())}\r\n                                onClick={this.props.onClick(this)}\r\n                                onFocus={this.props.onFocus(this)}\r\n                            />\r\n                            <label htmlFor={id}>{value.label || value}</label>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/Radio.jsx","import React, { PropTypes } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport _ from 'lodash'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport style from './RedSquares.less'\r\n\r\nconst heroStyle = {\r\n    [HERO_STATUSES.normal]: 'rgb(50, 205, 50)',\r\n    [HERO_STATUSES.trouble]: 'rgb(237, 20, 61)',\r\n}\r\n\r\n@connect(\r\n    (state) => ({\r\n        fieldWidth: state.game.fieldWidth,\r\n        fieldHeight: state.game.fieldHeight,\r\n        heroStatus: state.hero.status,\r\n        heroSize: state.hero.size,\r\n        heroPos: {\r\n            x: state.hero.x,\r\n            y: state.hero.y,\r\n        },\r\n        threatSize: state.threats.size,\r\n        threats: state.threats.threats,\r\n        shadows: state.hero.shadows,\r\n    })\r\n)\r\nexport default class CanvasField extends React.Component {\r\n    static propTypes = {\r\n        fieldWidth: PropTypes.number,\r\n        fieldHeight: PropTypes.number,\r\n        heroStatus: PropTypes.oneOf(_.values(HERO_STATUSES)),\r\n        heroSize: PropTypes.number,\r\n        heroPos: PropTypes.shape({\r\n            x: PropTypes.number,\r\n            y: PropTypes.number,\r\n        }),\r\n        threatSize: PropTypes.number,\r\n        threats: PropTypes.array,\r\n        shadows: PropTypes.array,\r\n        refHandler: PropTypes.func,\r\n    }\r\n\r\n    static drawSquare ({ ctx, pos, size, color }) {\r\n        ctx.fillStyle = color\r\n        ctx.fillRect(\r\n            Math.round(pos.x - size),\r\n            Math.round(pos.y - size),\r\n            size * 2,\r\n            size * 2\r\n        )\r\n    }\r\n\r\n    paint () {\r\n        if (!this.canvas) {\r\n            return\r\n        }\r\n        const ctx = this.canvas.getContext('2d')\r\n\r\n        ctx.clearRect(0, 0, this.props.fieldWidth, this.props.fieldHeight)\r\n\r\n        this.props.shadows.forEach((shadow, index) => CanvasField.drawSquare({\r\n            ctx,\r\n            pos: this.props.shadows[index],\r\n            size: this.props.heroSize,\r\n            color: `rgba(237, 20, 61, ${(this.props.shadows.length - index - 1) / this.props.shadows.length * 0.3})`,\r\n        }))\r\n        CanvasField.drawSquare({\r\n            ctx,\r\n            pos: this.props.heroPos,\r\n            size: this.props.heroSize,\r\n            color: heroStyle[this.props.heroStatus],\r\n        })\r\n        this.props.threats.forEach((threat) => (\r\n            CanvasField.drawSquare({\r\n                ctx,\r\n                pos: threat,\r\n                size: this.props.threatSize,\r\n                color: 'rgb(100, 149, 237)',\r\n            })\r\n        ))\r\n    }\r\n\r\n    canvas = null\r\n\r\n    handleRefCanvas = (elem) => {\r\n        this.canvas = elem\r\n        this.props.refHandler(elem)\r\n    }\r\n\r\n    render () {\r\n        this.paint()\r\n\r\n        return (\r\n            <canvas\r\n                ref={this.handleRefCanvas}\r\n                className={style.field}\r\n                width={this.props.fieldWidth}\r\n                height={this.props.fieldHeight}\r\n            >\r\n                {'You are using an outdated browser.'}\r\n            </canvas>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CanvasField.jsx","import _ from 'lodash'\r\nimport { defaultHeroPosition } from '../utils/funcs'\r\nimport { SCARY_INTERVAL, VARIANTS_QUANTITY, getNearest, getScaryEdges } from './common'\r\n\r\nfunction getVariants (hero) {\r\n    const variants = []\r\n    for (let angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / VARIANTS_QUANTITY) {\r\n        variants.push({\r\n            x: hero.x + Math.cos(angle) * hero.maxSpeed,\r\n            y: hero.y + Math.sin(angle) * hero.maxSpeed,\r\n        })\r\n    }\r\n\r\n    return variants\r\n}\r\n\r\nexport default function ({ game, hero, threats }) {\r\n    const scaryEdges = getScaryEdges(2 * threats.size, game.fieldWidth, game.fieldHeight)\r\n    const newThreats = threats.threats.map((threat) => (\r\n        {\r\n            x: threat.x + threat.speed.x,\r\n            y: threat.y + threat.speed.y,\r\n        }\r\n    ))\r\n    const extendedThreats = _.extend(scaryEdges, newThreats)\r\n\r\n    const nearestThreat = getNearest(hero, extendedThreats)\r\n\r\n    if (!nearestThreat.threat || nearestThreat.distance > SCARY_INTERVAL * hero.size) {\r\n        return defaultHeroPosition\r\n    }\r\n\r\n    const variant = getVariants(hero).reduce((best, current) => {\r\n        const { distance } = getNearest(current, extendedThreats)\r\n\r\n        if (distance > best.distance) {\r\n            return {\r\n                x: current.x,\r\n                y: current.y,\r\n                distance,\r\n            }\r\n        }\r\n\r\n        return best\r\n    }, {\r\n        x: hero.x,\r\n        y: hero.y,\r\n        distance: nearestThreat.distance,\r\n    })\r\n\r\n    return {\r\n        x: variant.x,\r\n        y: variant.y,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/agile.js","import React from 'react'\r\nimport { combineReducers, applyMiddleware, createStore, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { Provider } from 'react-redux'\r\nimport * as reducers from './reducers'\r\nimport RedSquares from './components/RedSquares'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ // eslint-disable-line no-underscore-dangle\r\n    || compose\r\nconst store = createStore(combineReducers(reducers), composeEnhancers(applyMiddleware(thunk)))\r\n\r\nconst App = () => (\r\n    <Provider store={store}>\r\n        <RedSquares />\r\n    </Provider>\r\n)\r\n\r\nexport default App\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx","function getRandomCoordinate (range, size) {\r\n    return Math.random() * (range - size * 2) + size\r\n}\r\n\r\nlet target\r\n\r\nexport default function (state) {\r\n    if (!target || (state.hero.x === target.x && state.hero.y === target.y)) {\r\n        target = {\r\n            x: getRandomCoordinate(state.game.fieldWidth, state.hero.size),\r\n            y: getRandomCoordinate(state.game.fieldHeight, state.hero.size),\r\n        }\r\n    }\r\n\r\n    return target\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/managers/random.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"wrapper\":\"RedSquares__wrapper__n469N\",\"field\":\"RedSquares__field__3S_U-\",\"side\":\"RedSquares__side__1Qama\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RedSquares.less\n// module id = tNBi\n// module chunks = 1","import React, { PropTypes } from 'react'\r\n\r\nconst Setter = ({ text, tabIndex, onClick }) => (\r\n    <div className=\"setter\">\r\n        <a onClick={onClick} tabIndex={tabIndex}>{text}</a>\r\n    </div>\r\n)\r\n\r\nSetter.propTypes = {\r\n    text: PropTypes.string,\r\n    tabIndex: PropTypes.number,\r\n    onClick: PropTypes.func,\r\n}\r\n\r\nexport const SettersBlock = ({ setters, setState, tabIndexOffset }) => {\r\n    let index = 0\r\n\r\n    return (<div>\r\n        {setters.map((setter) => {\r\n            index += 1\r\n\r\n            return (<Setter\r\n                onClick={() => setState(setter.params)}\r\n                key={index}\r\n                tabIndex={index + tabIndexOffset}\r\n                text={setter.text}\r\n            />)\r\n        })}\r\n    </div>)\r\n}\r\n\r\nSettersBlock.propTypes = {\r\n    setters: PropTypes.array.isRequired,\r\n    setState: PropTypes.func.isRequired,\r\n    tabIndexOffset: PropTypes.number,\r\n}\r\n\r\nSettersBlock.defaultProps = {\r\n    tabIndexOffset: 1,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/SettersBlock.jsx","import { DEFAULTS } from '../constants/game'\r\n\r\nexport function combineProcessors (...processors) {\r\n    return (state) => processors.reduce((result, processor) => processor(result), state)\r\n}\r\n\r\nexport function sign (num) {\r\n    if (num === 0 || isNaN(num)) {\r\n        return num\r\n    }\r\n\r\n    return num > 0 ? 1 : -1\r\n}\r\n\r\nexport const defaultHeroPosition = {\r\n    x: (DEFAULTS.fieldWidth - DEFAULTS.heroSize) / 2,\r\n    y: (DEFAULTS.fieldHeight - DEFAULTS.heroSize) / 2,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/funcs.js"],"sourceRoot":""}