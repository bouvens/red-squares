{"version":3,"sources":["webpack:///app.0fae8e3a.js","webpack:///./src/index.js","webpack:///./src/App.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/game.js","webpack:///./src/constants/actionTypes.js","webpack:///./src/constants/game.js","webpack:///./src/constants/hero.js","webpack:///./src/reducers/hero.js","webpack:///./src/reducers/threats.js","webpack:///./src/components/RedSquares.jsx","webpack:///./src/actions/index.js","webpack:///./src/actions/game.js","webpack:///./src/utils/InputCatcher.js","webpack:///./src/game-logic/index.js","webpack:///./src/utils/funcs.js","webpack:///./src/game-logic/hero.js","webpack:///./src/game-logic/threats.js","webpack:///./src/components/Hero.less","webpack:///./src/components/RedSquares.less","webpack:///./src/components/Field.jsx","webpack:///./src/components/Square.jsx","webpack:///./src/components/Sidebar.jsx","webpack:///./src/components/StateControl/index.js","webpack:///./src/components/StateControl/Input.jsx","webpack:///./src/components/StateControl/utils.js","webpack:///./src/components/StateControl/Connector.jsx","webpack:///./src/components/StateControl/SettersBlock.jsx","webpack:///./src/game-logic/game.js"],"names":["webpackJsonp","lVK7","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_App","_App2","render","createElement","document","querySelector","0","pnOm","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","call","_redux","_reduxThunk","_reduxThunk2","_reactRedux","_reducers","reducers","_RedSquares","_RedSquares2","reducer","combineReducers","store","createStore","applyMiddleware","App","Provider","ChGC","_game","defineProperty","enumerable","get","_hero","_threats","9jEl","_extends","assign","target","i","arguments","length","source","state","undefined","initialState","action","type","types","INIT","redSquares","inputController","highestBeats","UPDATE_FRAME","status","hero","HERO_STATUSES","normal","GAME_STATUS","play","stop","beats","outs","frame","SET_STATE","data","game","_actionTypes","startTime","frameLength","DEFAULTS","fieldWidth","fieldHeight","sideWidth","4HHy","bHK7","_BUTTON_NAMES","HIGHEST_BEATS","heroSize","threatSize","threatLimit","threatAddTimeout","threatRemoveProbability","pause","BUTTON_NAMES","IDS","YhS/","trouble","ZJmM","x","y","size","WNaE","threats","index","added","lastTime","addTimeout","limit","removeProbability","maxSpeed","gIL8","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","writable","configurable","setPrototypeOf","__proto__","_heroStyleMap","_dec","_class","_lodash","_actions","actions","_Hero","_Hero2","_Field","_Field2","_Square","_Square2","_Sidebar","_Sidebar2","heroStyleMap","heroInTrouble","RedSquares","connect","heroStatus","heroPos","dispatch","bindActionCreators","init","_React$Component","_temp","_this","_ret","this","_len","args","Array","_key","apply","concat","getFieldSize","fieldRect","field","left","offsetLeft","top","offsetTop","right","clientWidth","bottom","clientHeight","refHandler","elem","componentDidMount","props","_this2","className","wrapper","style","width","height","map","threat","id","Component","BCOr","hB/+","processSpacePress","getState","spacePressAtStart","updateFrame","reactToKeys","32","mousePos","_InputCatcher2","_gameLogic","gameDataUpdater","waitTime","performance","now","Math","floor","setTimeout","max","localStorage","parseInt","setState","name","_game2","_InputCatcher","spacePress","liqn","_initialiseProps","InputCatcher","keymap","initialKeymap","onmousemove","saveMousePos","window","onkeydown","process","keyPressed","e","pageX","pageY","keyCode","preventDefault","saveKeyPressed","_ref","push","forEach","J2UN","keys","cilB","vlrw","combineProcessors","processors","reduce","result","processor","sign","num","isNaN","iMa0","moveHero","min","getHeroStatus","safeLength","sizeFix","some","abs","7lKn","controlThreats","_state$game","newThreats","speed","beat","oldThreatsNum","filter","isAroundField","isGoingOut","isOut","newThreat","_funcs","processSpeed","canFlyAway","axis","lean","random","processThreat","rightBorder","bottomBorder","round","ceil","BCEp","tNBi","side","yPl1","_lodash2","Field","children","ref","defaultProps","noop","w0AC","Square","QCNp","_StateControl","Sidebar","threatsLength","getS","changeHandler","event","initialValue","onClick","Connector","onChange","Input","label","t9xF","_Input","_Connector","_SettersBlock","StateControl","SettersBlock","6e+x","_temp2","_utils","inner","multiLine","stateName","control","htmlFor","readOnly","onFocus","JglD","noOperation","WwO4","WS4u","Children","child","isValidElement","cloneElement","tozq","Setter","text","tabIndex","_ref2","setters","tabIndexOffset","setter","params","EBfR","statusHandler","oldData","nextPlayFrame","setItem"],"mappings":"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","file":"app.0fae8e3a.js","sourcesContent":["webpackJsonp([0,2],{\n\n/***/ \"lVK7\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(\"O27J\");\n\t\n\tvar _App = __webpack_require__(\"pnOm\");\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\t__webpack_require__(\"cilB\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(0, _reactDom.render)(_react2.default.createElement(_App2.default, null), document.querySelector('#app'));\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(\"+prg\");\n\tmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ },\n\n/***/ \"pnOm\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _redux = __webpack_require__(\"c9Fv\");\n\t\n\tvar _reduxThunk = __webpack_require__(\"4ufr\");\n\t\n\tvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\t\n\tvar _reactRedux = __webpack_require__(\"4n+p\");\n\t\n\tvar _reducers = __webpack_require__(\"ChGC\");\n\t\n\tvar reducers = _interopRequireWildcard(_reducers);\n\t\n\tvar _RedSquares = __webpack_require__(\"gIL8\");\n\t\n\tvar _RedSquares2 = _interopRequireDefault(_RedSquares);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar reducer = (0, _redux.combineReducers)(reducers);\n\tvar store = (0, _redux.createStore)(reducer, (0, _redux.applyMiddleware)(_reduxThunk2.default));\n\t\n\tvar App = function App() {\n\t    return _react2.default.createElement(\n\t        _reactRedux.Provider,\n\t        { store: store },\n\t        _react2.default.createElement(_RedSquares2.default, null)\n\t    );\n\t};\n\t\n\texports.default = App;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"ChGC\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _game = __webpack_require__(\"9jEl\");\n\t\n\tObject.defineProperty(exports, 'game', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_game).default;\n\t  }\n\t});\n\t\n\tvar _hero = __webpack_require__(\"ZJmM\");\n\t\n\tObject.defineProperty(exports, 'hero', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_hero).default;\n\t  }\n\t});\n\t\n\tvar _threats = __webpack_require__(\"WNaE\");\n\t\n\tObject.defineProperty(exports, 'threats', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_threats).default;\n\t  }\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n\n/***/ \"9jEl\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function () {\n\t    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t    var action = arguments[1];\n\t\n\t    switch (action.type) {\n\t        case types.INIT:\n\t            return _extends({}, state, {\n\t                redSquares: action.redSquares,\n\t                inputController: action.inputController,\n\t                highestBeats: action.highestBeats\n\t            });\n\t        case types.UPDATE_FRAME:\n\t            return _extends({}, state, {\n\t                status: action.hero.status === _hero.HERO_STATUSES.normal ? _game.GAME_STATUS.play : _game.GAME_STATUS.stop,\n\t                beats: state.beats + action.beats,\n\t                outs: state.outs + action.outs,\n\t                frame: state.frame + 1\n\t            });\n\t        case types.SET_STATE:\n\t            return _extends({}, state, action.data.game);\n\t        default:\n\t            return state;\n\t    }\n\t};\n\t\n\tvar _actionTypes = __webpack_require__(\"4HHy\");\n\t\n\tvar types = _interopRequireWildcard(_actionTypes);\n\t\n\tvar _game = __webpack_require__(\"bHK7\");\n\t\n\tvar _hero = __webpack_require__(\"YhS/\");\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar initialState = {\n\t    redSquares: null,\n\t    inputController: null,\n\t    status: _game.GAME_STATUS.stop,\n\t    beats: 0,\n\t    highestBeats: 0,\n\t    outs: 0,\n\t    frame: 0,\n\t    startTime: 0,\n\t    frameLength: _game.DEFAULTS.frameLength, // TODO move to constants when it will defined\n\t    fieldWidth: _game.DEFAULTS.fieldWidth,\n\t    fieldHeight: _game.DEFAULTS.fieldHeight,\n\t    sideWidth: _game.DEFAULTS.sideWidth\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"4HHy\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\tvar INIT = exports.INIT = 'INIT';\n\tvar UPDATE_FRAME = exports.UPDATE_FRAME = 'UPDATE_FRAME';\n\tvar SET_STATE = exports.SET_STATE = 'SET_STATE';\n\n/***/ },\n\n/***/ \"bHK7\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _BUTTON_NAMES;\n\t\n\tvar HIGHEST_BEATS = exports.HIGHEST_BEATS = 'highestBeats';\n\t\n\tvar DEFAULTS = exports.DEFAULTS = {\n\t    frameLength: 20,\n\t    heroSize: 50,\n\t    threatSize: 30,\n\t    threatLimit: 20,\n\t    threatAddTimeout: 1000,\n\t    threatRemoveProbability: 5,\n\t    fieldWidth: 800,\n\t    fieldHeight: 600,\n\t    sideWidth: 200\n\t};\n\t\n\tvar GAME_STATUS = exports.GAME_STATUS = {\n\t    play: 'play',\n\t    pause: 'pause',\n\t    stop: 'stop'\n\t};\n\t\n\tvar BUTTON_NAMES = exports.BUTTON_NAMES = (_BUTTON_NAMES = {}, _BUTTON_NAMES[GAME_STATUS.play] = 'Pause', _BUTTON_NAMES[GAME_STATUS.pause] = 'Resume', _BUTTON_NAMES[GAME_STATUS.stop] = 'Start', _BUTTON_NAMES);\n\t\n\tvar IDS = exports.IDS = {\n\t    heroSize: 'heroSize',\n\t    threatSize: 'threatSize',\n\t    threatLimit: 'threatLimit',\n\t    threatAddTimeout: 'threatAddTimeout',\n\t    threatRemoveProbability: 'threatRemoveProbability',\n\t    fieldWidth: 'fieldWidth',\n\t    fieldHeight: 'fieldHeight'\n\t};\n\n/***/ },\n\n/***/ \"YhS/\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\tvar HERO_STATUSES = exports.HERO_STATUSES = {\n\t    normal: 'normal',\n\t    trouble: 'trouble'\n\t};\n\n/***/ },\n\n/***/ \"ZJmM\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function () {\n\t    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t    var action = arguments[1];\n\t\n\t    switch (action.type) {\n\t        case types.UPDATE_FRAME:\n\t            return _extends({}, state, action.hero);\n\t        case types.SET_STATE:\n\t            return _extends({}, state, action.data.hero);\n\t        default:\n\t            return state;\n\t    }\n\t};\n\t\n\tvar _actionTypes = __webpack_require__(\"4HHy\");\n\t\n\tvar types = _interopRequireWildcard(_actionTypes);\n\t\n\tvar _game = __webpack_require__(\"bHK7\");\n\t\n\tvar _hero = __webpack_require__(\"YhS/\");\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar initialState = {\n\t    x: (_game.DEFAULTS.fieldWidth - _game.DEFAULTS.heroSize) / 2,\n\t    y: (_game.DEFAULTS.fieldHeight - _game.DEFAULTS.heroSize) / 2,\n\t    status: _hero.HERO_STATUSES.normal,\n\t    size: _game.DEFAULTS.heroSize\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"WNaE\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = function () {\n\t    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t    var action = arguments[1];\n\t\n\t    switch (action.type) {\n\t        case types.UPDATE_FRAME:\n\t            return _extends({}, state, {\n\t                threats: action.threats,\n\t                index: state.index + action.added,\n\t                lastTime: action.lastTime\n\t            });\n\t        case types.SET_STATE:\n\t            return _extends({}, state, action.data.threats);\n\t        default:\n\t            return state;\n\t    }\n\t};\n\t\n\tvar _actionTypes = __webpack_require__(\"4HHy\");\n\t\n\tvar types = _interopRequireWildcard(_actionTypes);\n\t\n\tvar _game = __webpack_require__(\"bHK7\");\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar initialState = {\n\t    threats: [],\n\t    size: _game.DEFAULTS.threatSize,\n\t    lastTime: 0,\n\t    addTimeout: _game.DEFAULTS.threatAddTimeout,\n\t    index: 0,\n\t    limit: _game.DEFAULTS.threatLimit,\n\t    removeProbability: _game.DEFAULTS.threatRemoveProbability,\n\t    maxSpeed: 4\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"gIL8\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.default = undefined;\n\t\n\tvar _heroStyleMap, _dec, _class;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _redux = __webpack_require__(\"c9Fv\");\n\t\n\tvar _reactRedux = __webpack_require__(\"4n+p\");\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _actions = __webpack_require__(\"BCOr\");\n\t\n\tvar actions = _interopRequireWildcard(_actions);\n\t\n\tvar _hero = __webpack_require__(\"YhS/\");\n\t\n\tvar _Hero = __webpack_require__(\"BCEp\");\n\t\n\tvar _Hero2 = _interopRequireDefault(_Hero);\n\t\n\tvar _RedSquares = __webpack_require__(\"tNBi\");\n\t\n\tvar _RedSquares2 = _interopRequireDefault(_RedSquares);\n\t\n\tvar _Field = __webpack_require__(\"yPl1\");\n\t\n\tvar _Field2 = _interopRequireDefault(_Field);\n\t\n\tvar _Square = __webpack_require__(\"w0AC\");\n\t\n\tvar _Square2 = _interopRequireDefault(_Square);\n\t\n\tvar _Sidebar = __webpack_require__(\"QCNp\");\n\t\n\tvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar heroStyleMap = (_heroStyleMap = {}, _heroStyleMap[_hero.HERO_STATUSES.normal] = _Hero2.default.hero, _heroStyleMap[_hero.HERO_STATUSES.trouble] = _Hero2.default.heroInTrouble, _heroStyleMap);\n\t\n\tvar RedSquares = (_dec = (0, _reactRedux.connect)(function (state) {\n\t    return {\n\t        fieldWidth: state.game.fieldWidth,\n\t        fieldHeight: state.game.fieldHeight,\n\t        sideWidth: state.game.sideWidth,\n\t        heroStatus: state.hero.status,\n\t        heroSize: state.hero.size,\n\t        heroPos: {\n\t            x: state.hero.x,\n\t            y: state.hero.y\n\t        },\n\t        threatSize: state.threats.size,\n\t        threats: state.threats.threats\n\t    };\n\t}, function (dispatch) {\n\t    return (0, _redux.bindActionCreators)({\n\t        init: actions.game.init\n\t    }, dispatch);\n\t}), _dec(_class = function (_React$Component) {\n\t    _inherits(RedSquares, _React$Component);\n\t\n\t    function RedSquares() {\n\t        var _temp, _this, _ret;\n\t\n\t        _classCallCheck(this, RedSquares);\n\t\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getFieldSize = function () {\n\t            var fieldRect = _this.field;\n\t            // TODO check in browsers and rewrite like https://learn.javascript.ru/coordinates-document\n\t            return {\n\t                left: fieldRect.offsetLeft,\n\t                top: fieldRect.offsetTop,\n\t                right: fieldRect.offsetLeft + fieldRect.clientWidth,\n\t                bottom: fieldRect.offsetTop + fieldRect.clientHeight\n\t            };\n\t        }, _this.refHandler = function (elem) {\n\t            _this.field = elem;\n\t        }, _temp), _possibleConstructorReturn(_this, _ret);\n\t    }\n\t\n\t    RedSquares.prototype.componentDidMount = function componentDidMount() {\n\t        this.props.init(this);\n\t    };\n\t\n\t    RedSquares.prototype.render = function render() {\n\t        var _this2 = this;\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: _RedSquares2.default.wrapper, style: { width: this.props.fieldWidth + this.props.sideWidth + 'px' } },\n\t            _react2.default.createElement(\n\t                _Field2.default,\n\t                {\n\t                    style: _RedSquares2.default.field,\n\t                    refHandler: this.refHandler,\n\t                    width: this.props.fieldWidth,\n\t                    height: this.props.fieldHeight\n\t                },\n\t                _react2.default.createElement(_Square2.default, {\n\t                    style: heroStyleMap[this.props.heroStatus],\n\t                    size: this.props.heroSize,\n\t                    left: this.props.heroPos.x,\n\t                    top: this.props.heroPos.y\n\t                }),\n\t                this.props.threats.map(function (threat) {\n\t                    return _react2.default.createElement(_Square2.default, {\n\t                        key: threat.id,\n\t                        style: _RedSquares2.default.threat,\n\t                        size: _this2.props.threatSize,\n\t                        left: threat.x,\n\t                        top: threat.y\n\t                    });\n\t                })\n\t            ),\n\t            _react2.default.createElement(_Sidebar2.default, null)\n\t        );\n\t    };\n\t\n\t    return RedSquares;\n\t}(_react2.default.Component)) || _class);\n\texports.default = RedSquares;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"BCOr\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.game = undefined;\n\t\n\tvar _game = __webpack_require__(\"hB/+\");\n\t\n\tvar game = _interopRequireWildcard(_game);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.game = game;\n\n/***/ },\n\n/***/ \"hB/+\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.processSpacePress = processSpacePress;\n\texports.init = init;\n\texports.setState = setState;\n\t\n\tvar _actionTypes = __webpack_require__(\"4HHy\");\n\t\n\tvar types = _interopRequireWildcard(_actionTypes);\n\t\n\tvar _game2 = __webpack_require__(\"bHK7\");\n\t\n\tvar _InputCatcher = __webpack_require__(\"liqn\");\n\t\n\tvar _InputCatcher2 = _interopRequireDefault(_InputCatcher);\n\t\n\tvar _gameLogic = __webpack_require__(\"J2UN\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar spacePressAtStart = function spacePressAtStart(state) {\n\t    return (0, _gameLogic.spacePress)(state, performance.now());\n\t};\n\t\n\tfunction processSpacePress() {\n\t    return function (dispatch, getState) {\n\t        dispatch({\n\t            type: types.SET_STATE,\n\t            data: spacePressAtStart(getState())\n\t        });\n\t    };\n\t}\n\t\n\tfunction updateFrame(dispatch, getState) {\n\t    return function () {\n\t        var data = getState();\n\t\n\t        data.game.inputController.reactToKeys({\n\t            32: function _() {\n\t                data = spacePressAtStart(data);\n\t            }\n\t        });\n\t\n\t        data = _extends({}, data, {\n\t            mousePos: _InputCatcher2.default.mousePos,\n\t            field: data.game.redSquares.getFieldSize()\n\t        });\n\t\n\t        data.game.frame += 1;\n\t        data = (0, _gameLogic.gameDataUpdater)(data);\n\t\n\t        var waitTime = data.game.startTime + data.game.frameLength * data.game.frame - performance.now();\n\t        if (waitTime < -1000) {\n\t            data.game.frame = Math.floor((performance.now() - data.game.startTime) / data.game.frameLength);\n\t        }\n\t\n\t        dispatch({\n\t            type: types.SET_STATE,\n\t            data: data\n\t        });\n\t\n\t        setTimeout(updateFrame(dispatch, getState), Math.max(waitTime, 0));\n\t    };\n\t}\n\t\n\tfunction init(redSquares) {\n\t    return function (dispatch, getState) {\n\t        dispatch({\n\t            type: types.INIT,\n\t            redSquares: redSquares,\n\t            inputController: new _InputCatcher2.default(),\n\t            highestBeats: localStorage[_game2.HIGHEST_BEATS] ? parseInt(localStorage[_game2.HIGHEST_BEATS], 10) : 0\n\t        });\n\t\n\t        updateFrame(dispatch, getState)();\n\t    };\n\t}\n\t\n\tfunction setState(name, value) {\n\t    return function (dispatch) {\n\t        var _game;\n\t\n\t        switch (name) {\n\t            case _game2.IDS.frameLength:\n\t            case _game2.IDS.fieldWidth:\n\t            case _game2.IDS.fieldHeight:\n\t                dispatch({\n\t                    type: types.SET_STATE,\n\t                    data: {\n\t                        game: (_game = {}, _game[name] = value, _game)\n\t                    }\n\t                });\n\t                break;\n\t            case _game2.IDS.heroSize:\n\t                dispatch({\n\t                    type: types.SET_STATE,\n\t                    data: {\n\t                        hero: {\n\t                            size: value\n\t                        }\n\t                    }\n\t                });\n\t                break;\n\t            case _game2.IDS.threatSize:\n\t                dispatch({\n\t                    type: types.SET_STATE,\n\t                    data: {\n\t                        threats: {\n\t                            size: value\n\t                        }\n\t                    }\n\t                });\n\t                break;\n\t            case _game2.IDS.threatLimit:\n\t                dispatch({\n\t                    type: types.SET_STATE,\n\t                    data: {\n\t                        threats: {\n\t                            limit: value\n\t                        }\n\t                    }\n\t                });\n\t                break;\n\t            case _game2.IDS.threatAddTimeout:\n\t                dispatch({\n\t                    type: types.SET_STATE,\n\t                    data: {\n\t                        threats: {\n\t                            addTimeout: value\n\t                        }\n\t                    }\n\t                });\n\t                break;\n\t            case _game2.IDS.threatRemoveProbability:\n\t                dispatch({\n\t                    type: types.SET_STATE,\n\t                    data: {\n\t                        threats: {\n\t                            removeProbability: value\n\t                        }\n\t                    }\n\t                });\n\t                break;\n\t            default:\n\t        }\n\t    };\n\t}\n\n/***/ },\n\n/***/ \"liqn\":\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _class, _temp, _initialiseProps;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar InputCatcher = (_temp = _class = function InputCatcher(keymap) {\n\t    _classCallCheck(this, InputCatcher);\n\t\n\t    _initialiseProps.call(this);\n\t\n\t    this.initialKeymap = keymap;\n\t\n\t    if (InputCatcher.instance) {\n\t        return InputCatcher.instance;\n\t    }\n\t    InputCatcher.instance = this;\n\t\n\t    document.onmousemove = this.saveMousePos;\n\t    window.document.onkeydown = this.process;\n\t}, _class.mousePos = {}, _class.keyPressed = [], _initialiseProps = function _initialiseProps() {\n\t    var _this = this;\n\t\n\t    this.initialKeymap = {};\n\t\n\t    this.saveMousePos = function (e) {\n\t        InputCatcher.mousePos = {\n\t            x: e.pageX,\n\t            y: e.pageY\n\t        };\n\t    };\n\t\n\t    this.process = function (e) {\n\t        if (e.keyCode === 32) {\n\t            e.preventDefault();\n\t        }\n\t        _this.saveKeyPressed(e);\n\t    };\n\t\n\t    this.saveKeyPressed = function (_ref) {\n\t        var keyCode = _ref.keyCode;\n\t        return InputCatcher.keyPressed.push(keyCode);\n\t    };\n\t\n\t    this.reactToKeys = function () {\n\t        var keymap = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.initialKeymap;\n\t\n\t        InputCatcher.keyPressed.forEach(function (key) {\n\t            return keymap[key] && keymap[key]();\n\t        });\n\t        InputCatcher.keyPressed = [];\n\t    };\n\t}, _temp);\n\texports.default = InputCatcher;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ \"J2UN\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _game = __webpack_require__(\"EBfR\");\n\t\n\tObject.keys(_game).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _game[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _hero = __webpack_require__(\"iMa0\");\n\t\n\tObject.keys(_hero).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _hero[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _threats = __webpack_require__(\"7lKn\");\n\t\n\tObject.keys(_threats).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _threats[key];\n\t    }\n\t  });\n\t});\n\n/***/ },\n\n/***/ \"cilB\":\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ \"vlrw\":\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\texports.combineProcessors = combineProcessors;\n\texports.sign = sign;\n\tfunction combineProcessors() {\n\t    for (var _len = arguments.length, processors = Array(_len), _key = 0; _key < _len; _key++) {\n\t        processors[_key] = arguments[_key];\n\t    }\n\t\n\t    return function (state) {\n\t        return processors.reduce(function (result, processor) {\n\t            return processor(result);\n\t        }, state);\n\t    };\n\t}\n\t\n\tfunction sign(num) {\n\t    if (num === 0 || isNaN(num)) {\n\t        return num;\n\t    }\n\t\n\t    return num > 0 ? 1 : -1;\n\t}\n\n/***/ },\n\n/***/ \"iMa0\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.moveHero = moveHero;\n\t\n\tvar _game = __webpack_require__(\"bHK7\");\n\t\n\tvar _hero = __webpack_require__(\"YhS/\");\n\t\n\tvar getHeroStatus = function getHeroStatus(x, y, heroSize, threatSize, threats) {\n\t    var safeLength = (heroSize + threatSize) / 2;\n\t    var sizeFix = (threatSize - heroSize) / 2;\n\t\n\t    if (threats.some(function (threat) {\n\t        return Math.abs(threat.x - x + sizeFix) < safeLength && Math.abs(threat.y - y + sizeFix) < safeLength;\n\t    })) {\n\t\n\t        return _hero.HERO_STATUSES.trouble;\n\t    }\n\t\n\t    return _hero.HERO_STATUSES.normal;\n\t};\n\t\n\tfunction moveHero(state) {\n\t    var mousePos = state.mousePos,\n\t        field = state.field,\n\t        hero = state.hero;\n\t    var threats = state.threats.threats;\n\t\n\t    var threatSize = state.threats.size;\n\t\n\t    var x = Math.max(mousePos.x - hero.size / 2, field.left);\n\t    x = Math.min(x, field.right - hero.size);\n\t    x -= field.left;\n\t    var y = Math.max(mousePos.y - hero.size / 2, field.top);\n\t    y = Math.min(y, field.bottom - hero.size);\n\t    y -= field.top;\n\t\n\t    var status = getHeroStatus(x, y, hero.size, threatSize, threats);\n\t\n\t    return _extends({}, state, {\n\t        game: _extends({}, state.game, {\n\t            status: status === _hero.HERO_STATUSES.normal ? _game.GAME_STATUS.play : _game.GAME_STATUS.stop\n\t        }),\n\t        hero: _extends({}, hero, {\n\t            x: x,\n\t            y: y,\n\t            status: status\n\t        })\n\t    });\n\t}\n\n/***/ },\n\n/***/ \"7lKn\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.controlThreats = controlThreats;\n\t\n\tvar _funcs = __webpack_require__(\"vlrw\");\n\t\n\tvar processSpeed = function processSpeed(newThreat, size, canFlyAway) {\n\t    return function (axis, lean) {\n\t        newThreat.isGoingOut = (0, _funcs.sign)(lean) === (0, _funcs.sign)(newThreat.speed[axis]);\n\t\n\t        if (!newThreat.isOut) {\n\t            if (canFlyAway && newThreat.isGoingOut) {\n\t                newThreat.isOut = true;\n\t            } else {\n\t                newThreat.speed[axis] = (newThreat.isGoingOut ? -1 : 1) * (newThreat.speed[axis] || 1);\n\t            }\n\t        }\n\t        if (Math.abs(lean) > size * 3) {\n\t            newThreat.isAroundField = false;\n\t        }\n\t\n\t        return newThreat;\n\t    };\n\t};\n\t\n\tvar beat = function beat(removeProbability, size, fieldWidth, fieldHeight) {\n\t    return function (threat) {\n\t        var newThreat = _extends({}, threat);\n\t        var canFlyAway = Math.random() < 1 / removeProbability;\n\t        var processThreat = processSpeed(newThreat, size, canFlyAway);\n\t\n\t        if (newThreat.x < 0) {\n\t            newThreat = processThreat('x', newThreat.x);\n\t        }\n\t        var rightBorder = fieldWidth - size;\n\t        if (newThreat.x > rightBorder) {\n\t            newThreat = processThreat('x', newThreat.x - rightBorder);\n\t        }\n\t\n\t        if (newThreat.y < 0) {\n\t            newThreat = processThreat('y', newThreat.y);\n\t        }\n\t        var bottomBorder = fieldHeight - size;\n\t        if (newThreat.y > bottomBorder) {\n\t            newThreat = processThreat('y', newThreat.y - bottomBorder);\n\t        }\n\t\n\t        return newThreat;\n\t    };\n\t};\n\t\n\tvar newThreat = function newThreat(size, index, fieldWidth, fieldHeight, maxSpeed) {\n\t    var x = Math.round(Math.random() * (fieldWidth - size));\n\t    var y = 0 - size;\n\t    var speed = {\n\t        x: Math.round((Math.random() * 2 - 1) * maxSpeed),\n\t        y: Math.ceil(Math.random() * maxSpeed)\n\t    };\n\t\n\t    if (Math.random() < 0.5) {\n\t        x = 0 - size;\n\t        y = Math.round(Math.random() * (fieldHeight - size));\n\t        speed = {\n\t            x: Math.ceil(Math.random() * maxSpeed),\n\t            y: Math.round((Math.random() * 2 - 1) * maxSpeed)\n\t        };\n\t\n\t        if (Math.random() < 0.5) {\n\t            x = fieldWidth;\n\t            speed.x *= -1;\n\t        }\n\t    } else if (Math.random() < 0.5) {\n\t        y = fieldHeight;\n\t        speed.y *= -1;\n\t    }\n\t    return {\n\t        id: index,\n\t        x: x,\n\t        y: y,\n\t        speed: speed,\n\t        isOut: false,\n\t        isAroundField: true\n\t    };\n\t};\n\t\n\tfunction controlThreats(state) {\n\t    var threats = state.threats;\n\t    var _state$game = state.game,\n\t        frame = _state$game.frame,\n\t        frameLength = _state$game.frameLength,\n\t        fieldWidth = _state$game.fieldWidth,\n\t        fieldHeight = _state$game.fieldHeight;\n\t\n\t\n\t    var newThreats = threats.threats.map(function (threat) {\n\t        return _extends({}, threat, {\n\t            x: threat.x + threat.speed.x,\n\t            y: threat.y + threat.speed.y\n\t        });\n\t    }).map(beat(threats.removeProbability, threats.size, fieldWidth, fieldHeight));\n\t    var oldThreatsNum = newThreats.length;\n\t    newThreats = newThreats.filter(function (threat) {\n\t        return threat.isAroundField;\n\t    });\n\t    var outs = oldThreatsNum - newThreats.length;\n\t\n\t    var beats = 0;\n\t\n\t    newThreats = newThreats.map(function (threat) {\n\t        if (threat.isGoingOut && !threat.isOut) {\n\t            beats += 1;\n\t            delete threat.isGoingOut;\n\t        }\n\t        return threat;\n\t    }, 0);\n\t\n\t    var added = 0;\n\t    if (newThreats.length < threats.limit && frame >= threats.lastTime + threats.addTimeout / frameLength) {\n\t        newThreats.push(newThreat(threats.size, threats.index, fieldWidth, fieldHeight, threats.maxSpeed));\n\t        added = 1;\n\t    }\n\t\n\t    return _extends({}, state, {\n\t        game: _extends({}, state.game, {\n\t            beats: state.game.beats + beats,\n\t            outs: state.game.outs + outs\n\t        }),\n\t        threats: _extends({}, threats, {\n\t            threats: newThreats,\n\t            lastTime: added ? frame : threats.lastTime,\n\t            index: threats.index + added\n\t        })\n\t    });\n\t}\n\n/***/ },\n\n/***/ \"BCEp\":\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"hero\":\"Hero__hero__2Sa-c\",\"heroInTrouble\":\"Hero__heroInTrouble__3oF4r\"};\n\n/***/ },\n\n/***/ \"tNBi\":\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"wrapper\":\"RedSquares__wrapper__n469N\",\"field\":\"RedSquares__field__3S_U-\",\"threat\":\"RedSquares__threat__3sdY0\",\"side\":\"RedSquares__side__1Qama\"};\n\n/***/ },\n\n/***/ \"yPl1\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Field = function Field(_ref) {\n\t    var style = _ref.style,\n\t        children = _ref.children,\n\t        refHandler = _ref.refHandler,\n\t        width = _ref.width,\n\t        height = _ref.height;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        {\n\t            ref: refHandler,\n\t            className: style,\n\t            style: {\n\t                width: width + 'px',\n\t                height: height + 'px'\n\t            }\n\t        },\n\t        children\n\t    );\n\t};\n\t\n\tField.defaultProps = {\n\t    children: null,\n\t    refHandler: _lodash2.default.noop,\n\t    width: 640,\n\t    height: 480\n\t};\n\t\n\texports.default = Field;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"w0AC\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Square = function Square(_ref) {\n\t    var top = _ref.top,\n\t        left = _ref.left,\n\t        size = _ref.size,\n\t        style = _ref.style,\n\t        refHandler = _ref.refHandler;\n\t    return _react2.default.createElement('div', {\n\t        ref: refHandler,\n\t        className: style,\n\t        style: {\n\t            width: size + 'px',\n\t            height: size + 'px',\n\t            top: top + 'px',\n\t            left: left + 'px'\n\t        }\n\t    });\n\t};\n\t\n\tSquare.defaultProps = {\n\t    refHandler: _lodash2.default.noop\n\t};\n\t\n\texports.default = Square;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"QCNp\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.default = undefined;\n\t\n\tvar _dec, _class;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(\"4n+p\");\n\t\n\tvar _redux = __webpack_require__(\"c9Fv\");\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _actions = __webpack_require__(\"BCOr\");\n\t\n\tvar actions = _interopRequireWildcard(_actions);\n\t\n\tvar _game = __webpack_require__(\"bHK7\");\n\t\n\tvar _StateControl = __webpack_require__(\"t9xF\");\n\t\n\tvar _RedSquares = __webpack_require__(\"tNBi\");\n\t\n\tvar _RedSquares2 = _interopRequireDefault(_RedSquares);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Sidebar = (_dec = (0, _reactRedux.connect)(function (state) {\n\t    return {\n\t        sideWidth: state.game.sideWidth,\n\t        status: state.game.status,\n\t        beats: state.game.beats,\n\t        highestBeats: state.game.highestBeats,\n\t        outs: state.game.outs,\n\t        threatsLength: state.threats.threats.length,\n\t        heroSize: state.hero.size,\n\t        threatSize: state.threats.size,\n\t        threatLimit: state.threats.limit,\n\t        threatAddTimeout: state.threats.addTimeout,\n\t        threatRemoveProbability: state.threats.removeProbability,\n\t        fieldWidth: state.game.fieldWidth,\n\t        fieldHeight: state.game.fieldHeight\n\t    };\n\t}, function (dispatch) {\n\t    return (0, _redux.bindActionCreators)({\n\t        processSpacePress: actions.game.processSpacePress,\n\t        setState: actions.game.setState\n\t    }, dispatch);\n\t}), _dec(_class = function (_React$Component) {\n\t    _inherits(Sidebar, _React$Component);\n\t\n\t    function Sidebar() {\n\t        var _temp, _this, _ret;\n\t\n\t        _classCallCheck(this, Sidebar);\n\t\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getS = function (name, num) {\n\t            return (num || 'No') + ' ' + name + (num !== 1 ? 's' : '');\n\t        }, _this.changeHandler = function (state) {\n\t            return function (event) {\n\t                var initialValue = event.target.value;\n\t                var value = void 0;\n\t\n\t                switch (state) {\n\t                    default:\n\t                        value = parseInt(initialValue, 10) || 1;\n\t                }\n\t                _this.props.setState(state, value);\n\t            };\n\t        }, _temp), _possibleConstructorReturn(_this, _ret);\n\t    }\n\t\n\t    Sidebar.prototype.render = function render() {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: _RedSquares2.default.side, style: { width: this.props.sideWidth + 'px' } },\n\t            _react2.default.createElement(\n\t                'button',\n\t                { onClick: this.props.processSpacePress },\n\t                _game.BUTTON_NAMES[this.props.status]\n\t            ),\n\t            ' (Press Space)',\n\t            _react2.default.createElement(\n\t                'h2',\n\t                null,\n\t                this.getS('beat', this.props.beats)\n\t            ),\n\t            _react2.default.createElement(\n\t                'p',\n\t                null,\n\t                'Highest beats: ',\n\t                this.props.highestBeats\n\t            ),\n\t            _react2.default.createElement(\n\t                'p',\n\t                null,\n\t                this.getS('out', this.props.outs)\n\t            ),\n\t            _react2.default.createElement(\n\t                'p',\n\t                null,\n\t                this.getS('threat', this.props.threatsLength),\n\t                ' on field'\n\t            ),\n\t            _react2.default.createElement(\n\t                _StateControl.Connector,\n\t                {\n\t                    state: this.props,\n\t                    onChange: this.changeHandler\n\t                },\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.heroSize,\n\t                    label: 'Hero size (px)'\n\t                }),\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.threatSize,\n\t                    label: 'Threat size (px)'\n\t                }),\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.threatLimit,\n\t                    label: 'Threat limit'\n\t                }),\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.threatAddTimeout,\n\t                    label: 'Threat add timeout (ms)'\n\t                }),\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.threatRemoveProbability,\n\t                    label: 'Threat remove probability (1/x)'\n\t                }),\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.fieldWidth,\n\t                    label: 'Field width (px)'\n\t                }),\n\t                _react2.default.createElement(_StateControl.Input, {\n\t                    id: _game.IDS.fieldHeight,\n\t                    label: 'Field height (px)'\n\t                })\n\t            )\n\t        );\n\t    };\n\t\n\t    return Sidebar;\n\t}(_react2.default.Component)) || _class);\n\texports.default = Sidebar;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"t9xF\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Input = __webpack_require__(\"6e+x\");\n\t\n\tvar _Connector = __webpack_require__(\"WS4u\");\n\t\n\tvar _SettersBlock = __webpack_require__(\"tozq\");\n\t\n\tvar StateControl = {\n\t    Input: _Input.Input,\n\t    Connector: _Connector.Connector,\n\t    SettersBlock: _SettersBlock.SettersBlock\n\t};\n\t\n\texports.default = StateControl;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"6e+x\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.Input = undefined;\n\t\n\tvar _class, _temp2;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _utils = __webpack_require__(\"JglD\");\n\t\n\t__webpack_require__(\"WwO4\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Input = exports.Input = (_temp2 = _class = function (_React$Component) {\n\t    _inherits(Input, _React$Component);\n\t\n\t    function Input() {\n\t        var _temp, _this, _ret;\n\t\n\t        _classCallCheck(this, Input);\n\t\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.inner = _this.props.multiLine ? 'textarea' : 'input', _this.id = 'labeled-control-' + _this.props.id, _this.stateName = _this.props.stateName || _this.props.id, _this.refHandler = function (control) {\n\t            _this.control = control;\n\t        }, _temp), _possibleConstructorReturn(_this, _ret);\n\t    }\n\t\n\t    Input.prototype.render = function render() {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'labeled-input' },\n\t            _react2.default.createElement(\n\t                'label',\n\t                { htmlFor: this.id },\n\t                this.props.label\n\t            ),\n\t            _react2.default.createElement(this.inner, {\n\t                id: this.id,\n\t                label: this.props.label,\n\t                ref: this.refHandler,\n\t                value: this.props.state[this.stateName] || this.props.value,\n\t                readOnly: this.props.readOnly,\n\t                onChange: this.props.onChange(this.stateName),\n\t                onClick: this.props.onClick(this),\n\t                onFocus: this.props.onFocus(this)\n\t            })\n\t        );\n\t    };\n\t\n\t    return Input;\n\t}(_react2.default.Component), _class.defaultProps = {\n\t    value: '',\n\t    onChange: _utils.noOperation,\n\t    onClick: _utils.noOperation,\n\t    onFocus: _utils.noOperation,\n\t    multiLine: false\n\t}, _temp2);\n\n/***/ },\n\n/***/ \"JglD\":\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\tvar noOperation = exports.noOperation = function noOperation() {};\n\n/***/ },\n\n/***/ \"WwO4\":\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ \"WS4u\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.Connector = undefined;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _utils = __webpack_require__(\"JglD\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Connector = exports.Connector = function Connector(_ref) {\n\t    var children = _ref.children,\n\t        state = _ref.state,\n\t        onChange = _ref.onChange,\n\t        onClick = _ref.onClick,\n\t        onFocus = _ref.onFocus;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.Children.map(children, function (child) {\n\t            return _react2.default.isValidElement(child) ? _react2.default.cloneElement(child, {\n\t                state: state,\n\t                onChange: onChange,\n\t                onClick: onClick,\n\t                onFocus: onFocus\n\t            }) : child;\n\t        })\n\t    );\n\t};\n\t\n\tConnector.defaultProps = {\n\t    state: {},\n\t    onChange: _utils.noOperation,\n\t    onClick: _utils.noOperation,\n\t    onFocus: _utils.noOperation\n\t};\n\n/***/ },\n\n/***/ \"tozq\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\texports.SettersBlock = undefined;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Setter = function Setter(_ref) {\n\t    var text = _ref.text,\n\t        tabIndex = _ref.tabIndex,\n\t        onClick = _ref.onClick;\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        { className: \"setter\" },\n\t        _react2.default.createElement(\n\t            \"a\",\n\t            { onClick: onClick, tabIndex: tabIndex },\n\t            text\n\t        )\n\t    );\n\t};\n\t\n\tvar SettersBlock = exports.SettersBlock = function SettersBlock(_ref2) {\n\t    var setters = _ref2.setters,\n\t        setState = _ref2.setState,\n\t        tabIndexOffset = _ref2.tabIndexOffset;\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        null,\n\t        setters.map(function (setter, index) {\n\t            return _react2.default.createElement(Setter, {\n\t                onClick: function onClick() {\n\t                    return setState(setter.params);\n\t                },\n\t                key: index,\n\t                tabIndex: index + tabIndexOffset,\n\t                text: setter.text\n\t            });\n\t        })\n\t    );\n\t};\n\t\n\tSettersBlock.defaultProps = {\n\t    tabIndexOffset: 1\n\t};\n\n/***/ },\n\n/***/ \"EBfR\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.spacePress = spacePress;\n\texports.gameDataUpdater = gameDataUpdater;\n\t\n\tvar _game = __webpack_require__(\"bHK7\");\n\t\n\tvar _funcs = __webpack_require__(\"vlrw\");\n\t\n\tvar _InputCatcher = __webpack_require__(\"liqn\");\n\t\n\tvar _InputCatcher2 = _interopRequireDefault(_InputCatcher);\n\t\n\tvar _hero = __webpack_require__(\"iMa0\");\n\t\n\tvar _threats = __webpack_require__(\"7lKn\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar statusHandler = function statusHandler(state, status) {\n\t    return _extends({}, state, {\n\t        game: _extends({}, state.game, {\n\t            status: status\n\t        })\n\t    });\n\t};\n\t\n\tfunction spacePress(state, startTime) {\n\t    switch (state.game.status) {\n\t        case _game.GAME_STATUS.play:\n\t            return statusHandler(state, _game.GAME_STATUS.pause);\n\t        case _game.GAME_STATUS.pause:\n\t            return statusHandler(state, _game.GAME_STATUS.play);\n\t        case _game.GAME_STATUS.stop:\n\t        default:\n\t            return _extends({}, state, {\n\t                game: _extends({}, state.game, {\n\t                    status: _game.GAME_STATUS.play,\n\t                    beats: 0,\n\t                    outs: 0,\n\t                    frame: 0,\n\t                    startTime: startTime\n\t                }),\n\t                threats: _extends({}, state.threats, {\n\t                    threats: [],\n\t                    lastTime: 0 - state.threats.addTimeout / state.game.frameLength\n\t                })\n\t            });\n\t    }\n\t}\n\t\n\tvar nextPlayFrame = (0, _funcs.combineProcessors)(_threats.controlThreats, _hero.moveHero);\n\t\n\tfunction gameDataUpdater(oldData) {\n\t    var data = oldData;\n\t\n\t    if (data.game.status === _game.GAME_STATUS.play) {\n\t        data = nextPlayFrame(data);\n\t\n\t        if (data.game.status === _game.GAME_STATUS.stop) {\n\t            localStorage.setItem(_game.HIGHEST_BEATS, data.game.highestBeats = Math.max(data.game.beats, data.game.highestBeats));\n\t        }\n\t    }\n\t\n\t    return data;\n\t}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// app.0fae8e3a.js","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nrender(<App />, document.querySelector('#app'))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react'\r\nimport { combineReducers, applyMiddleware, createStore } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { Provider } from 'react-redux'\r\nimport * as reducers from './reducers'\r\nimport RedSquares from './components/RedSquares'\r\n\r\nconst reducer = combineReducers(reducers)\r\nconst store = createStore(reducer, applyMiddleware(thunk))\r\n\r\nconst App = () => (\r\n    <Provider store={store}>\r\n        <RedSquares />\r\n    </Provider>\r\n)\r\n\r\nexport default App\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","export { default as game } from './game'\r\nexport { default as hero } from './hero'\r\nexport { default as threats } from './threats'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.js","import * as types from '../constants/actionTypes'\r\nimport { DEFAULTS, GAME_STATUS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\n\r\nconst initialState = {\r\n    redSquares: null,\r\n    inputController: null,\r\n    status: GAME_STATUS.stop,\r\n    beats: 0,\r\n    highestBeats: 0,\r\n    outs: 0,\r\n    frame: 0,\r\n    startTime: 0,\r\n    frameLength: DEFAULTS.frameLength, // TODO move to constants when it will defined\r\n    fieldWidth: DEFAULTS.fieldWidth,\r\n    fieldHeight: DEFAULTS.fieldHeight,\r\n    sideWidth: DEFAULTS.sideWidth,\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.INIT:\r\n            return {\r\n                ...state,\r\n                redSquares: action.redSquares,\r\n                inputController: action.inputController,\r\n                highestBeats: action.highestBeats,\r\n            }\r\n        case types.UPDATE_FRAME:\r\n            return {\r\n                ...state,\r\n                status: action.hero.status === HERO_STATUSES.normal ? GAME_STATUS.play : GAME_STATUS.stop,\r\n                beats: state.beats + action.beats,\r\n                outs: state.outs + action.outs,\r\n                frame: state.frame + 1,\r\n            }\r\n        case types.SET_STATE:\r\n            return {\r\n                ...state,\r\n                ...action.data.game,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/game.js","export const INIT = 'INIT'\r\nexport const UPDATE_FRAME = 'UPDATE_FRAME'\r\nexport const SET_STATE = 'SET_STATE'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.js","export const HIGHEST_BEATS = 'highestBeats'\r\n\r\nexport const DEFAULTS = {\r\n    frameLength: 20,\r\n    heroSize: 50,\r\n    threatSize: 30,\r\n    threatLimit: 20,\r\n    threatAddTimeout: 1000,\r\n    threatRemoveProbability: 5,\r\n    fieldWidth: 800,\r\n    fieldHeight: 600,\r\n    sideWidth: 200,\r\n}\r\n\r\nexport const GAME_STATUS = {\r\n    play: 'play',\r\n    pause: 'pause',\r\n    stop: 'stop',\r\n}\r\n\r\nexport const BUTTON_NAMES = {\r\n    [GAME_STATUS.play]: 'Pause',\r\n    [GAME_STATUS.pause]: 'Resume',\r\n    [GAME_STATUS.stop]: 'Start',\r\n}\r\n\r\nexport const IDS = {\r\n    heroSize: 'heroSize',\r\n    threatSize: 'threatSize',\r\n    threatLimit: 'threatLimit',\r\n    threatAddTimeout: 'threatAddTimeout',\r\n    threatRemoveProbability: 'threatRemoveProbability',\r\n    fieldWidth: 'fieldWidth',\r\n    fieldHeight: 'fieldHeight',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/game.js","export const HERO_STATUSES = {\r\n    normal: 'normal',\r\n    trouble: 'trouble',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/hero.js","import * as types from '../constants/actionTypes'\r\nimport { DEFAULTS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\n\r\nconst initialState = {\r\n    x: (DEFAULTS.fieldWidth - DEFAULTS.heroSize) / 2,\r\n    y: (DEFAULTS.fieldHeight - DEFAULTS.heroSize) / 2,\r\n    status: HERO_STATUSES.normal,\r\n    size: DEFAULTS.heroSize,\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.UPDATE_FRAME:\r\n            return {\r\n                ...state,\r\n                ...action.hero,\r\n            }\r\n        case types.SET_STATE:\r\n            return {\r\n                ...state,\r\n                ...action.data.hero,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/hero.js","import * as types from '../constants/actionTypes'\r\nimport { DEFAULTS } from '../constants/game'\r\n\r\nconst initialState = {\r\n    threats: [],\r\n    size: DEFAULTS.threatSize,\r\n    lastTime: 0,\r\n    addTimeout: DEFAULTS.threatAddTimeout,\r\n    index: 0,\r\n    limit: DEFAULTS.threatLimit,\r\n    removeProbability: DEFAULTS.threatRemoveProbability,\r\n    maxSpeed: 4,\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case types.UPDATE_FRAME:\r\n            return {\r\n                ...state,\r\n                threats: action.threats,\r\n                index: state.index + action.added,\r\n                lastTime: action.lastTime,\r\n            }\r\n        case types.SET_STATE:\r\n            return {\r\n                ...state,\r\n                ...action.data.threats,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/threats.js","import React, { PropTypes } from 'react'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport _ from 'lodash'\r\nimport * as actions from '../actions'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\nimport heroStyle from '../components/Hero.less'\r\nimport style from './RedSquares.less'\r\nimport Field from './Field'\r\nimport Square from './Square'\r\nimport Sidebar from './Sidebar'\r\n\r\nconst heroStyleMap = {\r\n    [HERO_STATUSES.normal]: heroStyle.hero,\r\n    [HERO_STATUSES.trouble]: heroStyle.heroInTrouble,\r\n}\r\n\r\n@connect(\r\n    (state) => ({\r\n        fieldWidth: state.game.fieldWidth,\r\n        fieldHeight: state.game.fieldHeight,\r\n        sideWidth: state.game.sideWidth,\r\n        heroStatus: state.hero.status,\r\n        heroSize: state.hero.size,\r\n        heroPos: {\r\n            x: state.hero.x,\r\n            y: state.hero.y,\r\n        },\r\n        threatSize: state.threats.size,\r\n        threats: state.threats.threats,\r\n    }),\r\n    (dispatch) => bindActionCreators({\r\n        init: actions.game.init,\r\n    }, dispatch)\r\n)\r\nexport default class RedSquares extends React.Component {\r\n    static propTypes = {\r\n        fieldWidth: PropTypes.number,\r\n        fieldHeight: PropTypes.number,\r\n        sideWidth: PropTypes.number,\r\n        heroStatus: PropTypes.oneOf(_.values(HERO_STATUSES)),\r\n        heroSize: PropTypes.number,\r\n        heroPos: PropTypes.shape({\r\n            x: PropTypes.number,\r\n            y: PropTypes.number,\r\n        }),\r\n        threatSize: PropTypes.number,\r\n        threats: PropTypes.array,\r\n        init: PropTypes.func,\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.init(this)\r\n    }\r\n\r\n    getFieldSize = () => {\r\n        const fieldRect = this.field\r\n        // TODO check in browsers and rewrite like https://learn.javascript.ru/coordinates-document\r\n        return {\r\n            left: fieldRect.offsetLeft,\r\n            top: fieldRect.offsetTop,\r\n            right: fieldRect.offsetLeft + fieldRect.clientWidth,\r\n            bottom: fieldRect.offsetTop + fieldRect.clientHeight,\r\n        }\r\n    }\r\n\r\n    refHandler = (elem) => { this.field = elem }\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.wrapper} style={{ width: `${this.props.fieldWidth + this.props.sideWidth}px` }}>\r\n                <Field\r\n                    style={style.field}\r\n                    refHandler={this.refHandler}\r\n                    width={this.props.fieldWidth}\r\n                    height={this.props.fieldHeight}\r\n                >\r\n                    <Square\r\n                        style={heroStyleMap[this.props.heroStatus]}\r\n                        size={this.props.heroSize}\r\n                        left={this.props.heroPos.x}\r\n                        top={this.props.heroPos.y}\r\n                    />\r\n                    {this.props.threats.map((threat) => (\r\n                        <Square\r\n                            key={threat.id}\r\n                            style={style.threat}\r\n                            size={this.props.threatSize}\r\n                            left={threat.x}\r\n                            top={threat.y}\r\n                        />\r\n                    ))}\r\n                </Field>\r\n                <Sidebar />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/RedSquares.jsx","import * as game from './game'\r\n\r\nexport {\r\n    game,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/index.js","import * as types from '../constants/actionTypes'\r\nimport { IDS, HIGHEST_BEATS } from '../constants/game'\r\nimport InputCatcher from '../utils/InputCatcher'\r\nimport { spacePress, gameDataUpdater } from '../game-logic'\r\n\r\nconst spacePressAtStart = (state) => spacePress(state, performance.now())\r\n\r\nexport function processSpacePress () {\r\n    return (dispatch, getState) => {\r\n        dispatch({\r\n            type: types.SET_STATE,\r\n            data: spacePressAtStart(getState()),\r\n        })\r\n    }\r\n}\r\n\r\nfunction updateFrame (dispatch, getState) {\r\n    return () => {\r\n        let data = getState()\r\n\r\n        data.game.inputController.reactToKeys({\r\n            32: () => {\r\n                data = spacePressAtStart(data)\r\n            },\r\n        })\r\n\r\n        data = {\r\n            ...data,\r\n            mousePos: InputCatcher.mousePos,\r\n            field: data.game.redSquares.getFieldSize(),\r\n        }\r\n\r\n        data.game.frame += 1\r\n        data = gameDataUpdater(data)\r\n\r\n        const waitTime = data.game.startTime + data.game.frameLength * data.game.frame - performance.now()\r\n        if (waitTime < -1000) {\r\n            data.game.frame = Math.floor((performance.now() - data.game.startTime) / data.game.frameLength)\r\n        }\r\n\r\n        dispatch({\r\n            type: types.SET_STATE,\r\n            data,\r\n        })\r\n\r\n        setTimeout(\r\n            updateFrame(dispatch, getState),\r\n            Math.max(waitTime, 0)\r\n        )\r\n    }\r\n}\r\n\r\nexport function init (redSquares) {\r\n    return (dispatch, getState) => {\r\n        dispatch({\r\n            type: types.INIT,\r\n            redSquares,\r\n            inputController: new InputCatcher(),\r\n            highestBeats: localStorage[HIGHEST_BEATS] ? parseInt(localStorage[HIGHEST_BEATS], 10) : 0,\r\n        })\r\n\r\n        updateFrame(dispatch, getState)()\r\n    }\r\n}\r\n\r\nexport function setState (name, value) {\r\n    return (dispatch) => {\r\n        switch (name) {\r\n            case IDS.frameLength:\r\n            case IDS.fieldWidth:\r\n            case IDS.fieldHeight:\r\n                dispatch({\r\n                    type: types.SET_STATE,\r\n                    data: {\r\n                        game: {\r\n                            [name]: value\r\n                        },\r\n                    },\r\n                })\r\n                break\r\n            case IDS.heroSize:\r\n                dispatch({\r\n                    type: types.SET_STATE,\r\n                    data: {\r\n                        hero: {\r\n                            size: value\r\n                        },\r\n                    },\r\n                })\r\n                break\r\n            case IDS.threatSize:\r\n                dispatch({\r\n                    type: types.SET_STATE,\r\n                    data: {\r\n                        threats: {\r\n                            size: value\r\n                        },\r\n                    },\r\n                })\r\n                break\r\n            case IDS.threatLimit:\r\n                dispatch({\r\n                    type: types.SET_STATE,\r\n                    data: {\r\n                        threats: {\r\n                            limit: value\r\n                        },\r\n                    },\r\n                })\r\n                break\r\n            case IDS.threatAddTimeout:\r\n                dispatch({\r\n                    type: types.SET_STATE,\r\n                    data: {\r\n                        threats: {\r\n                            addTimeout: value\r\n                        },\r\n                    },\r\n                })\r\n                break\r\n            case IDS.threatRemoveProbability:\r\n                dispatch({\r\n                    type: types.SET_STATE,\r\n                    data: {\r\n                        threats: {\r\n                            removeProbability: value\r\n                        },\r\n                    },\r\n                })\r\n                break\r\n            default:\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/game.js","export default class InputCatcher {\r\n    static instance\r\n    static mousePos = {}\r\n    static keyPressed = []\r\n    initialKeymap = {}\r\n\r\n    constructor (keymap) {\r\n        this.initialKeymap = keymap\r\n\r\n        if (InputCatcher.instance) {\r\n            return InputCatcher.instance\r\n        }\r\n        InputCatcher.instance = this\r\n\r\n        document.onmousemove = this.saveMousePos\r\n        window.document.onkeydown = this.process\r\n    }\r\n\r\n    saveMousePos = (e) => {\r\n        InputCatcher.mousePos = {\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n        }\r\n    }\r\n\r\n    process = (e) => {\r\n        if (e.keyCode === 32) {\r\n            e.preventDefault()\r\n        }\r\n        this.saveKeyPressed(e)\r\n    }\r\n\r\n    saveKeyPressed = ({ keyCode }) => InputCatcher.keyPressed.push(keyCode)\r\n\r\n    reactToKeys = (keymap = this.initialKeymap) => {\r\n        InputCatcher.keyPressed.forEach((key) => keymap[key] && keymap[key]())\r\n        InputCatcher.keyPressed = []\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/InputCatcher.js","export * from './game'\r\nexport * from './hero'\r\nexport * from './threats'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/index.js","export function combineProcessors (...processors) {\r\n    return (state) => processors.reduce((result, processor) => processor(result), state)\r\n}\r\n\r\nexport function sign (num) {\r\n    if (num === 0 || isNaN(num)) {\r\n        return num\r\n    }\r\n\r\n    return num > 0 ? 1 : -1\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/funcs.js","import { GAME_STATUS } from '../constants/game'\r\nimport { HERO_STATUSES } from '../constants/hero'\r\n\r\nconst getHeroStatus = (x, y, heroSize, threatSize, threats) => {\r\n    const safeLength = (heroSize + threatSize) / 2\r\n    const sizeFix = (threatSize - heroSize) / 2\r\n\r\n    if (threats.some((threat) =>\r\n            Math.abs(threat.x - x + sizeFix) < safeLength && Math.abs(threat.y - y + sizeFix) < safeLength\r\n        )) {\r\n\r\n        return HERO_STATUSES.trouble\r\n    }\r\n\r\n    return HERO_STATUSES.normal\r\n}\r\n\r\nexport function moveHero (state) {\r\n    const { mousePos, field, hero } = state\r\n    const { threats } = state.threats\r\n    const threatSize = state.threats.size\r\n\r\n    let x = Math.max(mousePos.x - hero.size / 2, field.left)\r\n    x = Math.min(x, field.right - hero.size)\r\n    x -= field.left\r\n    let y = Math.max(mousePos.y - hero.size / 2, field.top)\r\n    y = Math.min(y, field.bottom - hero.size)\r\n    y -= field.top\r\n\r\n    const status = getHeroStatus(x, y, hero.size, threatSize, threats)\r\n\r\n    return {\r\n        ...state,\r\n        game: {\r\n            ...state.game,\r\n            status: status === HERO_STATUSES.normal ? GAME_STATUS.play : GAME_STATUS.stop,\r\n        },\r\n        hero: {\r\n            ...hero,\r\n            x,\r\n            y,\r\n            status,\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/hero.js","import { sign } from '../utils/funcs'\r\n\r\nconst processSpeed = (newThreat, size, canFlyAway) => (axis, lean) => {\r\n    newThreat.isGoingOut = sign(lean) === sign(newThreat.speed[axis])\r\n\r\n    if (!newThreat.isOut) {\r\n        if (canFlyAway && newThreat.isGoingOut) {\r\n            newThreat.isOut = true\r\n        } else {\r\n            newThreat.speed[axis] = (newThreat.isGoingOut ? -1 : 1) * (newThreat.speed[axis] || 1)\r\n        }\r\n    }\r\n    if (Math.abs(lean) > size * 3) {\r\n        newThreat.isAroundField = false\r\n    }\r\n\r\n    return newThreat\r\n}\r\n\r\nconst beat = (removeProbability,\r\n              size,\r\n              fieldWidth,\r\n              fieldHeight) =>\r\n    (threat) => {\r\n        let newThreat = { ...threat }\r\n        const canFlyAway = Math.random() < 1 / removeProbability\r\n        const processThreat = processSpeed(newThreat, size, canFlyAway)\r\n\r\n        if (newThreat.x < 0) {\r\n            newThreat = processThreat('x', newThreat.x)\r\n        }\r\n        const rightBorder = fieldWidth - size\r\n        if (newThreat.x > rightBorder) {\r\n            newThreat = processThreat('x', newThreat.x - rightBorder)\r\n        }\r\n\r\n        if (newThreat.y < 0) {\r\n            newThreat = processThreat('y', newThreat.y)\r\n        }\r\n        const bottomBorder = fieldHeight - size\r\n        if (newThreat.y > bottomBorder) {\r\n            newThreat = processThreat('y', newThreat.y - bottomBorder)\r\n        }\r\n\r\n        return newThreat\r\n    }\r\n\r\nconst newThreat = (size, index, fieldWidth, fieldHeight, maxSpeed) => {\r\n    let x = Math.round(Math.random() * (fieldWidth - size))\r\n    let y = 0 - size\r\n    let speed = {\r\n        x: Math.round((Math.random() * 2 - 1) * maxSpeed),\r\n        y: Math.ceil(Math.random() * maxSpeed),\r\n    }\r\n\r\n    if (Math.random() < 0.5) {\r\n        x = 0 - size\r\n        y = Math.round(Math.random() * (fieldHeight - size))\r\n        speed = {\r\n            x: Math.ceil(Math.random() * maxSpeed),\r\n            y: Math.round((Math.random() * 2 - 1) * maxSpeed),\r\n        }\r\n\r\n        if (Math.random() < 0.5) {\r\n            x = fieldWidth\r\n            speed.x *= -1\r\n        }\r\n    } else if (Math.random() < 0.5) {\r\n        y = fieldHeight\r\n        speed.y *= -1\r\n    }\r\n    return {\r\n        id: index,\r\n        x,\r\n        y,\r\n        speed,\r\n        isOut: false,\r\n        isAroundField: true,\r\n    }\r\n}\r\n\r\nexport function controlThreats (state) {\r\n    const { threats } = state\r\n    const { frame, frameLength, fieldWidth, fieldHeight } = state.game\r\n\r\n    let newThreats = threats.threats\r\n        .map((threat) => (\r\n            {\r\n                ...threat,\r\n                x: threat.x + threat.speed.x,\r\n                y: threat.y + threat.speed.y,\r\n            }\r\n        ))\r\n        .map(beat(\r\n            threats.removeProbability,\r\n            threats.size,\r\n            fieldWidth,\r\n            fieldHeight,\r\n        ))\r\n    const oldThreatsNum = newThreats.length\r\n    newThreats = newThreats.filter((threat) => threat.isAroundField)\r\n    const outs = oldThreatsNum - newThreats.length\r\n\r\n    let beats = 0\r\n\r\n    newThreats = newThreats.map((threat) => {\r\n        if (threat.isGoingOut && !threat.isOut) {\r\n            beats += 1\r\n            delete threat.isGoingOut\r\n        }\r\n        return threat\r\n    }, 0)\r\n\r\n    let added = 0\r\n    if (newThreats.length < threats.limit && frame >= threats.lastTime + (threats.addTimeout / frameLength)) {\r\n        newThreats.push(newThreat(\r\n            threats.size,\r\n            threats.index,\r\n            fieldWidth,\r\n            fieldHeight,\r\n            threats.maxSpeed,\r\n        ))\r\n        added = 1\r\n    }\r\n\r\n    return {\r\n        ...state,\r\n        game: {\r\n            ...state.game,\r\n            beats: state.game.beats + beats,\r\n            outs: state.game.outs + outs,\r\n        },\r\n        threats: {\r\n            ...threats,\r\n            threats: newThreats,\r\n            lastTime: added ? frame : threats.lastTime,\r\n            index: threats.index + added,\r\n        },\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/threats.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hero\":\"Hero__hero__2Sa-c\",\"heroInTrouble\":\"Hero__heroInTrouble__3oF4r\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Hero.less\n// module id = BCEp\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"wrapper\":\"RedSquares__wrapper__n469N\",\"field\":\"RedSquares__field__3S_U-\",\"threat\":\"RedSquares__threat__3sdY0\",\"side\":\"RedSquares__side__1Qama\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RedSquares.less\n// module id = tNBi\n// module chunks = 0","import React, { PropTypes } from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst Field = ({ style, children, refHandler, width, height }) => (\r\n    <div\r\n        ref={refHandler}\r\n        className={style}\r\n        style={{\r\n            width: `${width}px`,\r\n            height: `${height}px`,\r\n        }}\r\n    >\r\n        {children}\r\n    </div>\r\n)\r\n\r\nField.propTypes = {\r\n    style: PropTypes.string.isRequired,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.array,\r\n    ]),\r\n    refHandler: PropTypes.func,\r\n    width: PropTypes.number,\r\n    height: PropTypes.number,\r\n}\r\n\r\nField.defaultProps = {\r\n    children: null,\r\n    refHandler: _.noop,\r\n    width: 640,\r\n    height: 480,\r\n}\r\n\r\nexport default Field\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Field.jsx","import React, { PropTypes } from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst Square = ({ top, left, size, style, refHandler }) => (\r\n    <div\r\n        ref={refHandler}\r\n        className={style}\r\n        style={{\r\n            width: `${size}px`,\r\n            height: `${size}px`,\r\n            top: `${top}px`,\r\n            left: `${left}px`,\r\n        }}\r\n    />\r\n)\r\n\r\nSquare.propTypes = {\r\n    top: PropTypes.number.isRequired,\r\n    left: PropTypes.number.isRequired,\r\n    size: PropTypes.number.isRequired,\r\n    style: PropTypes.string.isRequired,\r\n    refHandler: PropTypes.func,\r\n}\r\n\r\nSquare.defaultProps = {\r\n    refHandler: _.noop,\r\n}\r\n\r\nexport default Square\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Square.jsx","import React, { PropTypes } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport _ from 'lodash'\r\nimport * as actions from '../actions'\r\nimport { GAME_STATUS, BUTTON_NAMES, IDS } from '../constants/game'\r\nimport { Connector, Input } from './StateControl'\r\nimport style from './RedSquares.less'\r\n\r\n@connect(\r\n    (state) => ({\r\n        sideWidth: state.game.sideWidth,\r\n        status: state.game.status,\r\n        beats: state.game.beats,\r\n        highestBeats: state.game.highestBeats,\r\n        outs: state.game.outs,\r\n        threatsLength: state.threats.threats.length,\r\n        heroSize: state.hero.size,\r\n        threatSize: state.threats.size,\r\n        threatLimit: state.threats.limit,\r\n        threatAddTimeout: state.threats.addTimeout,\r\n        threatRemoveProbability: state.threats.removeProbability,\r\n        fieldWidth: state.game.fieldWidth,\r\n        fieldHeight: state.game.fieldHeight,\r\n    }),\r\n    (dispatch) => bindActionCreators({\r\n        processSpacePress: actions.game.processSpacePress,\r\n        setState: actions.game.setState,\r\n    }, dispatch)\r\n)\r\nexport default class Sidebar extends React.Component {\r\n    static propTypes = {\r\n        sideWidth: PropTypes.number,\r\n        status: PropTypes.oneOf(_.values(GAME_STATUS)),\r\n        beats: PropTypes.number,\r\n        highestBeats: PropTypes.number,\r\n        outs: PropTypes.number,\r\n        threatsLength: PropTypes.number,\r\n        heroSize: PropTypes.number,\r\n        threatSize: PropTypes.number,\r\n        threatLimit: PropTypes.number,\r\n        threatAddTimeout: PropTypes.number,\r\n        threatRemoveProbability: PropTypes.number,\r\n        fieldWidth: PropTypes.number,\r\n        fieldHeight: PropTypes.number,\r\n        processSpacePress: PropTypes.func,\r\n        setState: PropTypes.func,\r\n    }\r\n\r\n    getS = (name, num) => `${num || 'No'} ${name}${num !== 1 ? 's' : ''}`\r\n\r\n    changeHandler = (state) => (event) => {\r\n        const initialValue = event.target.value\r\n        let value\r\n\r\n        switch (state) {\r\n            default:\r\n                value = parseInt(initialValue, 10) || 1\r\n        }\r\n        this.props.setState(state, value)\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className={style.side} style={{ width: `${this.props.sideWidth}px` }}>\r\n                <button onClick={this.props.processSpacePress}>{BUTTON_NAMES[this.props.status]}</button>\r\n                {' (Press Space)'}\r\n                <h2>{this.getS('beat', this.props.beats)}</h2>\r\n                <p>Highest beats: {this.props.highestBeats}</p>\r\n                <p>{this.getS('out', this.props.outs)}</p>\r\n                <p>{this.getS('threat', this.props.threatsLength)} on field</p>\r\n\r\n                <Connector\r\n                    state={this.props}\r\n                    onChange={this.changeHandler}\r\n                >\r\n                    <Input\r\n                        id={IDS.heroSize}\r\n                        label=\"Hero size (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatSize}\r\n                        label=\"Threat size (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatLimit}\r\n                        label=\"Threat limit\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatAddTimeout}\r\n                        label=\"Threat add timeout (ms)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.threatRemoveProbability}\r\n                        label=\"Threat remove probability (1/x)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.fieldWidth}\r\n                        label=\"Field width (px)\"\r\n                    />\r\n                    <Input\r\n                        id={IDS.fieldHeight}\r\n                        label=\"Field height (px)\"\r\n                    />\r\n                </Connector>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Sidebar.jsx","import { Input } from './Input'\r\nimport { Connector } from './Connector'\r\nimport { SettersBlock } from './SettersBlock'\r\n\r\nconst StateControl = {\r\n    Input,\r\n    Connector,\r\n    SettersBlock,\r\n}\r\n\r\nexport default StateControl\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/index.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from './utils'\r\nimport './Input.css'\r\n\r\nexport class Input extends React.Component {\r\n    static propTypes = {\r\n        id: PropTypes.string.isRequired,\r\n        label: PropTypes.string.isRequired,\r\n        state: PropTypes.object,\r\n        stateName: PropTypes.string,\r\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n        readOnly: PropTypes.bool,\r\n        onChange: PropTypes.func,\r\n        onClick: PropTypes.func,\r\n        onFocus: PropTypes.func,\r\n        multiLine: PropTypes.bool,\r\n    }\r\n\r\n    static defaultProps = {\r\n        value: '',\r\n        onChange: noOperation,\r\n        onClick: noOperation,\r\n        onFocus: noOperation,\r\n        multiLine: false,\r\n    }\r\n\r\n    inner = this.props.multiLine ? 'textarea' : 'input'\r\n    id = `labeled-control-${this.props.id}`\r\n    stateName = this.props.stateName || this.props.id\r\n\r\n    refHandler = (control) => {\r\n        this.control = control\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"labeled-input\">\r\n                <label htmlFor={this.id}>{this.props.label}</label>\r\n                <this.inner\r\n                    id={this.id}\r\n                    label={this.props.label}\r\n                    ref={this.refHandler}\r\n                    value={this.props.state[this.stateName] || this.props.value}\r\n                    readOnly={this.props.readOnly}\r\n                    onChange={this.props.onChange(this.stateName)}\r\n                    onClick={this.props.onClick(this)}\r\n                    onFocus={this.props.onFocus(this)}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/Input.jsx","export const noOperation = () => {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/utils.js","import React, { PropTypes } from 'react'\r\nimport { noOperation } from './utils'\r\n\r\nexport const Connector = ({ children, state, onChange, onClick, onFocus }) => (\r\n    <div>\r\n        {React.Children.map(\r\n            children,\r\n            (child) => (\r\n                React.isValidElement(child)\r\n                    ? React.cloneElement(child, {\r\n                        state,\r\n                        onChange,\r\n                        onClick,\r\n                        onFocus,\r\n                    })\r\n                    : child\r\n            )\r\n        )}\r\n    </div>\r\n)\r\n\r\nConnector.propTypes = {\r\n    state: PropTypes.object,\r\n    onChange: PropTypes.func,\r\n    onClick: PropTypes.func,\r\n    onFocus: PropTypes.func,\r\n    children: PropTypes.array,\r\n}\r\n\r\nConnector.defaultProps = {\r\n    state: {},\r\n    onChange: noOperation,\r\n    onClick: noOperation,\r\n    onFocus: noOperation,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/Connector.jsx","import React, { PropTypes } from 'react'\r\n\r\nconst Setter = ({ text, tabIndex, onClick }) => (\r\n    <div className=\"setter\">\r\n        <a onClick={onClick} tabIndex={tabIndex}>{text}</a>\r\n    </div>\r\n)\r\n\r\nSetter.propTypes = {\r\n    text: PropTypes.string,\r\n    tabIndex: PropTypes.number,\r\n    onClick: PropTypes.func,\r\n}\r\n\r\nexport const SettersBlock = ({ setters, setState, tabIndexOffset }) => (\r\n    <div>\r\n        {setters.map((setter, index) => (\r\n            <Setter\r\n                onClick={() => setState(setter.params)}\r\n                key={index}\r\n                tabIndex={index + tabIndexOffset}\r\n                text={setter.text}\r\n            />\r\n        ))}\r\n    </div>\r\n)\r\n\r\nSettersBlock.propTypes = {\r\n    setters: PropTypes.array.isRequired,\r\n    setState: PropTypes.func.isRequired,\r\n    tabIndexOffset: PropTypes.number,\r\n}\r\n\r\nSettersBlock.defaultProps = {\r\n    tabIndexOffset: 1,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StateControl/SettersBlock.jsx","import { GAME_STATUS, HIGHEST_BEATS } from '../constants/game'\r\nimport { combineProcessors } from '../utils/funcs'\r\nimport InputCatcher from '../utils/InputCatcher'\r\nimport { moveHero } from './hero'\r\nimport { controlThreats } from './threats'\r\n\r\nconst statusHandler = (state, status) => ({\r\n    ...state,\r\n    game: {\r\n        ...state.game,\r\n        status\r\n    }\r\n})\r\n\r\nexport function spacePress (state, startTime) {\r\n    switch (state.game.status) {\r\n        case GAME_STATUS.play:\r\n            return statusHandler(state, GAME_STATUS.pause)\r\n        case GAME_STATUS.pause:\r\n            return statusHandler(state, GAME_STATUS.play)\r\n        case GAME_STATUS.stop:\r\n        default:\r\n            return {\r\n                ...state,\r\n                game: {\r\n                    ...state.game,\r\n                    status: GAME_STATUS.play,\r\n                    beats: 0,\r\n                    outs: 0,\r\n                    frame: 0,\r\n                    startTime,\r\n                },\r\n                threats: {\r\n                    ...state.threats,\r\n                    threats: [],\r\n                    lastTime: 0 - state.threats.addTimeout / state.game.frameLength,\r\n                },\r\n            }\r\n    }\r\n}\r\n\r\nconst nextPlayFrame = combineProcessors(controlThreats, moveHero)\r\n\r\nexport function gameDataUpdater (oldData) {\r\n    let data = oldData\r\n\r\n    if (data.game.status === GAME_STATUS.play) {\r\n        data = nextPlayFrame(data)\r\n\r\n        if (data.game.status === GAME_STATUS.stop) {\r\n            localStorage.setItem(\r\n                HIGHEST_BEATS,\r\n                data.game.highestBeats = Math.max(data.game.beats, data.game.highestBeats)\r\n            )\r\n        }\r\n    }\r\n\r\n    return data\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-logic/game.js"],"sourceRoot":""}