webpackJsonp([1],{0:function(e,t,r){r("+prg"),e.exports=r("lVK7")},"0HjV":function(e,t,r){"use strict";var a=r("M4fF"),n=r.n(a),i=r("vlrw"),o=r("eSZQ");t.a=function(e){var t=e.game,r=e.hero,a=e.threats,s=Object(o.c)(r,2*a.size,t.fieldWidth,t.fieldHeight),u=Object(o.a)(r,n.a.extend(s,a.threats));if(!u.threat||u.distance>2*Object(o.b)(r,a))return Object(i.b)(t,r.size);var c={x:r.x-u.threat.x,y:r.y-u.threat.y};return{x:r.x+c.x,y:r.y+c.y}}},"4HHy":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return n});var a="INIT",n="SET_STATE"},"7lKn":function(e,t,r){"use strict";function a(e){var t=e.threats,r=e.game,a=r.frame,n=r.fieldWidth,o=r.fieldHeight,c=s.b.frameLength,f=t.threats.map(function(e){return u({},e,{x:e.x+e.speed.x,y:e.y+e.speed.y})}).map(h(t.removeProbability,t.size,n,o)),l=f.length;f=f.filter(function(e){return e.isAroundField});var p=l-f.length,m=0;f=f.map(function(e){var t=i.a.clone(e);return t.isGoingOut&&!t.isOut&&(m+=1,delete t.isGoingOut),t},0);var y=!1;f.length<t.limit&&a>=t.lastTime+t.addTimeout/c&&(f.push(d(t.size,t.index,n,o,t.maxSpeed)),y=!0);var b=i.a.merge({},e,{game:{beats:e.game.beats+m,outs:e.game.outs+p},threats:y?{lastTime:a,index:t.index+1}:t});return b.threats.threats=f,b}t.a=a;var n=r("M4fF"),i=r.n(n),o=r("vlrw"),s=r("bHK7"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e,t,r){return function(a,n){var s=i.a.clone(e);return s.isGoingOut=Object(o.c)(n)===Object(o.c)(s.speed[a]),s.isOut||(r&&s.isGoingOut?s.isOut=!0:s.speed[a]=(s.isGoingOut?-1:1)*(s.speed[a]||1)),Math.abs(n)>3*t&&(s.isAroundField=!1),s}},h=function(e,t,r,a){return function(n){var i=u({},n),o=Math.random()<1/e,s=c(i,t,o),h=t;i.x<h&&(i=s("x",i.x-h));var d=r-t;i.x>d&&(i=s("x",i.x-d));var f=t;i.y<f&&(i=s("y",i.y-f));var l=a-t;return i.y>l&&(i=s("y",i.y-l)),i}},d=function(e,t,r,a,n){var i=2*e,o=Math.round(Math.random()*(r-i)),s=0-i,u={x:Math.round((2*Math.random()-1)*n),y:Math.ceil(Math.random()*n)};return Math.random()<.5?(o=0-i,s=Math.round(Math.random()*(a-i)),u={x:Math.ceil(Math.random()*n),y:Math.round((2*Math.random()-1)*n)},Math.random()<.5&&(o=r,u.x*=-1)):Math.random()<.5&&(s=a,u.y*=-1),{id:t,x:o,y:s,speed:u,isOut:!1,isAroundField:!0}}},"9jEl":function(e,t,r){"use strict";var a=r("M4fF"),n=r.n(a),i=r("4HHy"),o=r("bHK7"),s={redSquares:null,inputController:null,manager:o.b.manager,status:o.c.stop,autoRestart:!0,beats:0,highestBeats:0,outs:0,frame:0,speed:o.b.speed,fieldWidth:o.b.fieldWidth,fieldHeight:o.b.fieldHeight,error:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.a:return n.a.extend({},e,t.data);case i.b:return n.a.extend({},e,t.data.game);default:return e}}},BCOr:function(e,t,r){"use strict";var a=r("hB/+"),n=r("ZvXP");r.d(t,"a",function(){return a}),r.d(t,"b",function(){return n})},BKuW:function(e,t,r){"use strict";function a(e,t){return Math.random()*(e-2*t)+t}var n=void 0;t.a=function(e){return(!n||e.hero.x===n.x&&e.hero.y===n.y)&&(n={x:a(e.game.fieldWidth,e.hero.size),y:a(e.game.fieldHeight,e.hero.size)}),n}},ChGC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("9jEl");r.d(t,"game",function(){return a.a});var n=r("ZJmM");r.d(t,"hero",function(){return n.a});var i=r("WNaE");r.d(t,"threats",function(){return i.a})},EBfR:function(e,t,r){"use strict";function a(e){switch(e.game.status){case h.c.play:return m(e,h.c.pause);case h.c.pause:return m(e,h.c.play);case h.c.stop:default:return p({},e,{game:p({},e.game,{status:h.c.play,beats:0,outs:0,frame:0,error:""}),hero:p({},e.hero,Object(d.b)(e.game,e.hero.size)),threats:p({},e.threats,{threats:[],lastTime:-e.threats.addTimeout/h.b.frameLength})})}}function n(e){var t=u.a.merge({},e,{hero:{target:c[e.game.manager](e)}});return(isNaN(t.hero.target.x)||isNaN(t.hero.target.y))&&(t.game.error="Bad target",t.hero.target=p({},t.hero.target,{x:t.hero.x,y:t.hero.y})),t}function i(e){var t=p({},e);if(t.game.status===h.c.stop&&t.game.autoRestart)t=n(t),t=a(t);else{var r;t.game.inputController.reactToKeys((r={},r[h.f.space]=function(){t=a(t)},r))}return t}function o(e){var t=i(e);return t.game.status===h.c.play&&(t=y(t),t.game.frame+=1),t}t.b=a,t.a=o;var s=r("M4fF"),u=r.n(s),c=r("evxK"),h=r("bHK7"),d=r("vlrw"),f=r("iMa0"),l=r("7lKn"),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m=function(e,t){return u.a.merge({},e,{game:{status:t}})},y=Object(d.a)(l.a,n,f.a)},J2UN:function(e,t,r){"use strict";var a=r("EBfR");r.d(t,"a",function(){return a.a}),r.d(t,"b",function(){return a.b});r("iMa0"),r("7lKn")},N9n6:function(e,t,r){"use strict";t.a=function(e){return e.hero?{x:e.hero.x,y:e.hero.y}:{x:0,y:0}}},OXFD:function(e,t,r){"use strict";var a=r("M4fF"),n=r.n(a),i=r("vlrw"),o=r("eSZQ");t.a=function(e){var t=e.game,r=e.hero,a=e.threats,s=Object(o.c)(r,2*a.size,t.fieldWidth,t.fieldHeight),u=a.threats.map(function(e){return{x:e.x+e.speed.x,y:e.y+e.speed.y}}),c=n.a.extend(s,u),h=Object(o.a)(r,c);if(!h.threat||h.distance>Object(o.b)(r,a))return Object(i.b)(t,r.size);var d=Object(o.d)(r).reduce(function(e,t){var r=Object(o.a)(t,c),a=r.distance;return a>e.distance?{x:t.x,y:t.y,distance:a}:e},{x:r.x,y:r.y,distance:h.distance});return{x:d.x,y:d.y}}},QCNp:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return S});var o,s,u=r("GiK3"),c=r.n(u),h=r("KSGD"),d=(r.n(h),r("RH2O")),f=r("2KeS"),l=r("M4fF"),p=r.n(l),m=r("RjKN"),y=r("BCOr"),b=r("evxK"),v=r("bHK7"),g=r("tNBi"),x=r.n(g),S=(o=Object(d.b)(Object(m.e)(function(e){return{status:e.game.status,beats:e.game.beats,highestBeats:e.game.highestBeats,outs:e.game.outs,threatsLength:e.threats.threats.length,manager:e.game.manager}},v.e),function(e){return Object(f.b)({processSpacePress:y.a.processSpacePress,setState:y.b.setState,clearHighest:y.a.clearHighest},e)}))(s=function(e){function t(){var r,i,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return r=i=n(this,e.call.apply(e,[this].concat(u))),i.getS=function(e,t){return(t||"No")+" "+e+(1!==t?"s":"")},i.changeHandler=i.props.setState,o=r,n(i,o)}return i(t,e),t.prototype.render=function(){return c.a.createElement("div",{className:x.a.side,style:{width:v.b.sideWidth+"px"}},c.a.createElement("button",{onClick:this.props.processSpacePress},v.a[this.props.status])," (Press Space)",c.a.createElement("h2",null,this.getS("beat",this.props.beats)),c.a.createElement("p",null,"Highest beats: ",this.props.highestBeats),c.a.createElement("p",null,this.getS("out",this.props.outs)),c.a.createElement("p",null,this.getS("threat",this.props.threatsLength)," on field"),c.a.createElement(m.b,{state:Object(m.f)(this.props,v.e),onChange:this.changeHandler,defaultNum:1},c.a.createElement(m.a,{id:v.e.autoRestart,label:"Auto restart"}),c.a.createElement(m.d,{id:v.e.speed,label:"Speed",values:p.a.keys(v.g)}),c.a.createElement(m.d,{id:v.e.manager,label:"Control",values:p.a.keys(b)}),c.a.createElement(m.c,{id:v.e.heroSize,label:"Hero size (px)"}),c.a.createElement(m.c,{id:v.e.heroSpeed,label:"Hero max speed (px/s)"}),c.a.createElement(m.c,{id:v.e.threatSize,label:"Threat size (px)"}),c.a.createElement(m.c,{id:v.e.threatSpeed,label:"Threat max speed (px/s)"}),c.a.createElement(m.c,{id:v.e.threatLimit,label:"Threat limit"}),c.a.createElement(m.c,{id:v.e.threatAddTimeout,label:"Threat add timeout (ms)"}),c.a.createElement(m.c,{id:v.e.threatRemoveProbability,label:"Threat remove probability (1/x)"})),c.a.createElement("button",{onClick:this.props.clearHighest},"Clear highest"))},t}(c.a.Component))||s},WNaE:function(e,t,r){"use strict";var a=r("M4fF"),n=r.n(a),i=r("4HHy"),o=r("bHK7"),s={threats:[],size:o.b.threatSize,maxSpeed:o.b.threatSpeed,lastTime:0,addTimeout:o.b.threatAddTimeout,index:0,limit:o.b.threatLimit,removeProbability:o.b.threatRemoveProbability};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.b:return n.a.extend({},e,t.data.threats);default:return e}}},"YhS/":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a={normal:"normal",trouble:"trouble"}},ZJmM:function(e,t,r){"use strict";var a=r("M4fF"),n=r.n(a),i=r("4HHy"),o=r("bHK7"),s=r("YhS/"),u=r("vlrw"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h=c({},Object(u.b)(o.b,o.b.heroSize),{maxSpeed:o.b.heroSpeed,status:s.a.normal,size:o.b.heroSize,shadowPeriod:o.b.shadowPeriod,shadowQuantity:o.b.shadowQuantity,shadows:[],target:c({},Object(u.b)(o.b,o.b.heroSize),{save:""})});t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case i.b:return n.a.extend({},e,t.data.hero);default:return e}}},ZvXP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"setState",function(){return o});var a=r("M4fF"),n=r.n(a),i=r("4HHy"),o=function(e,t){return{type:i.b,data:n.a.set({},e,t)}}},bHK7:function(e,t,r){"use strict";r.d(t,"g",function(){return s}),r.d(t,"b",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"d",function(){return h}),r.d(t,"c",function(){return d}),r.d(t,"a",function(){return f}),r.d(t,"f",function(){return l});var a,n=r("M4fF"),i=r.n(n),o=r("evxK"),s={Normal:"Normal",Fast:"Fast",Faster:"Faster"},u={frameLength:30,fieldWidth:800,fieldHeight:600,sideWidth:200,shadowPeriod:1,shadowQuantity:50,speed:s.Fast,manager:i.a.findKey(o,function(e){return e===o.Traveller}),heroSize:25,heroSpeed:10,threatSize:15,threatSpeed:4,threatLimit:20,threatAddTimeout:1e3,threatRemoveProbability:5},c={autoRestart:"game.autoRestart",speed:"game.speed",manager:"game.manager",heroSize:"hero.size",heroSpeed:"hero.maxSpeed",threatSize:"threats.size",threatSpeed:"threats.maxSpeed",threatLimit:"threats.limit",threatAddTimeout:"threats.addTimeout",threatRemoveProbability:"threats.removeProbability"},h="highestBeats",d={play:"play",pause:"pause",stop:"stop"},f=(a={},a[d.play]="Pause",a[d.pause]="Resume",a[d.stop]="Start",a),l={space:32}},cilB:function(e,t){},eSZQ:function(e,t,r){"use strict";function a(e,t,r,a){var n=[],i=e.x,o=e.y;return n.push({x:i,y:1.1*-t}),n.push({x:i,y:a+1.1*t}),n.push({x:1.1*-t,y:o}),n.push({x:r+1.1*t,y:o}),n}function n(e){for(var t=[],r=0;r<2*Math.PI;r+=2*Math.PI/i)t.push({x:e.x+Math.cos(r)*e.maxSpeed,y:e.y+Math.sin(r)*e.maxSpeed});return t}r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u}),t.c=a,t.d=n;var i=24,o=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},s=function(e,t){var r=e.x,a=e.y;return t.reduce(function(e,t){var n=o({x:r,y:a},t);return!e.threat||e.distance>n?{threat:t,distance:n}:e},{threat:null,distance:1/0})},u=function(e,t){return(e.size+t.size+e.maxSpeed+t.maxSpeed)*(4/3)}},evxK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("smes");r.d(t,"Mouse",function(){return a.a});var n=r("N9n6");r.d(t,"Still",function(){return n.a});var i=r("BKuW");r.d(t,"Random",function(){return i.a});var o=r("0HjV");r.d(t,"Scared",function(){return o.a});var s=r("OXFD");r.d(t,"Stable",function(){return s.a});var u=r("mObc");r.d(t,"Traveller",function(){return u.a})},gIL8:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return M});var o,s,u,c,h=r("GiK3"),d=r.n(h),f=r("KSGD"),l=(r.n(f),r("2KeS")),p=r("RH2O"),m=r("M4fF"),y=r.n(m),b=r("BCOr"),v=r("bHK7"),g=r("tNBi"),x=r.n(g),S=r("qaGz"),O=r("QCNp"),w=d.a.createElement(O.a,null),M=(o=Object(p.b)(function(e){return{fieldWidth:e.game.fieldWidth}},function(e){return Object(l.b)({init:b.a.init},e)}))((c=u=function(e){function t(){var r,i,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return r=i=n(this,e.call.apply(e,[this].concat(u))),i.getFieldSize=function(){var e=i.field;return{left:e.offsetLeft,top:e.offsetTop,right:e.offsetLeft+e.clientWidth,bottom:e.offsetTop+e.clientHeight}},i.handleRefField=function(e){i.field=e},o=r,n(i,o)}return i(t,e),t.prototype.componentDidMount=function(){this.props.init(this)},t.prototype.render=function(){return d.a.createElement("div",{className:x.a.wrapper,style:{width:this.props.fieldWidth+v.b.sideWidth+"px"}},d.a.createElement(S.a,{refHandler:this.handleRefField}),w)},t}(d.a.Component),u.defaultProps={fieldWidth:800,init:y.a.noop},s=c))||s},"hB/+":function(e,t,r){"use strict";function a(){return function(e,t){e({type:s.b,data:Object(h.b)(t())})}}function n(e,t,r){return function(){var a=t(),i=f(a);if(i.game.speed===u.g.Faster)for(var o=1;o<=100;o+=1)i=f(i);i.game.status!==u.c.play&&a.game.status!==u.c.play||e({type:s.b,data:i}),setTimeout(n(e,t,performance.now()),i.game.speed===u.g.Normal?d(i,r):0)}}function i(){return function(e){localStorage.removeItem(u.d),e({type:s.a,data:{highestBeats:0}})}}function o(e){return function(t,r){t({type:s.a,data:{redSquares:e,inputController:new c.a,highestBeats:localStorage[u.d]?parseInt(localStorage[u.d],10):0}}),n(t,r)()}}Object.defineProperty(t,"__esModule",{value:!0}),t.processSpacePress=a,t.clearHighest=i,t.init=o;var s=r("4HHy"),u=r("bHK7"),c=r("liqn"),h=r("J2UN"),d=function(e,t){return Math.max(t+u.b.frameLength-performance.now(),0)},f=function(e){var t=Object(h.a)(e);return t.game.status===u.c.stop&&e.game.status===u.c.play&&localStorage.setItem(u.d,t.game.highestBeats=Math.max(t.game.beats,t.game.highestBeats)),t}},iMa0:function(e,t,r){"use strict";function a(e,t){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));if(n<=e.maxSpeed)return{xMove:r,yMove:a};var i=n/e.maxSpeed;return{xMove:r/i,yMove:a/i}}function n(e){var t=e.game,r=e.hero,a=r.shadows,n=0;return t.frame%r.shadowPeriod||(a.length===r.shadowQuantity&&a.pop(),a.length&&(n=a[0].id+1),a.unshift({x:r.x,y:r.y,id:n})),a}function i(e){var t=e.game,r=e.hero,i=r.target,h=e.threats.threats,d=e.threats.size,f=a(r,i),l=f.xMove,p=f.yMove,m=r.x+l;m=Math.max(m,r.size),m=Math.min(m,t.fieldWidth-r.size);var y=r.y+p;y=Math.max(y,r.size),y=Math.min(y,t.fieldHeight-r.size);var b=c(m,y,r.size,d,h);return u({},e,{game:u({},e.game,{status:b===s.a.normal?o.c.play:o.c.stop}),hero:u({},e.hero,{x:m,y:y,status:b,shadows:n(e)})})}t.a=i;var o=r("bHK7"),s=r("YhS/"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(e,t,r,a,n){var i=r+a;return n.some(function(r){return Math.abs(r.x-e)<i&&Math.abs(r.y-t)<i})?s.a.trouble:s.a.normal}},lVK7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("GiK3"),n=r.n(a),i=r("O27J"),o=(r.n(i),r("sMfP")),s=r("cilB");r.n(s);Object(i.render)(n.a.createElement(o.a,null),document.querySelector("#app"))},liqn:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return s});var n,i,o,s=(i=n=function e(t){if(a(this,e),o.call(this),this.initialKeymap=t,e.instance)return e.instance;e.instance=this,document.onmousemove=this.saveMousePos,window.document.addEventListener("keydown",this.process)},n.mousePos={},n.keyPressed=[],o=function(){var e=this;this.initialKeymap={},this.saveMousePos=function(e){s.mousePos={x:e.pageX,y:e.pageY}},this.process=function(t){32===t.keyCode&&t.preventDefault(),e.saveKeyPressed(t)},this.saveKeyPressed=function(e){var t=e.keyCode;return s.keyPressed.push(t)},this.reactToKeys=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.initialKeymap;s.keyPressed.forEach(function(e){return t[e]&&t[e]()}),s.keyPressed=[]}},i)},mObc:function(e,t,r){"use strict";function a(e,t,r,a){for(var n=0,o=void 0,s=void 0,u=i(t,r,e),c=e;c<t-e;c+=e)for(var h=e;h<r-e;h+=e){var d=u({x:c,y:h},a);d>n&&(n=d,o=c,s=h)}return{x:o,y:s}}var n=r("eSZQ"),i=function(e,t,r){return function(a,i){var o=a.x,s=a.y;return Math.min(Object(n.a)({x:o,y:s},i).distance,o+r,e+r-o,s+r,t+r-s)}};t.a=function(e){var t=e.game,r=e.hero,o=e.threats,s=o.threats.map(function(e){return{x:e.x+e.speed.x,y:e.y+e.speed.y}}),u=r.size+o.size,c=i(t.fieldWidth,t.fieldHeight,u),h=c(r,s);if(h>Object(n.b)(r,o))return a(u,t.fieldWidth,t.fieldHeight,s);var d=Object(n.d)(r).reduce(function(e,t){var r=c(t,s);return r>e.distance?{x:t.x,y:t.y,distance:r}:e},{x:r.x,y:r.y,distance:h});return{x:d.x,y:d.y}}},qaGz:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return v});var o,s,u,c=r("GiK3"),h=r.n(c),d=r("KSGD"),f=(r.n(d),r("RH2O")),l=r("M4fF"),p=(r.n(l),r("YhS/")),m=r("tNBi"),y=r.n(m),b=(o={},o[p.a.normal]="rgb(50, 205, 50)",o[p.a.trouble]="rgb(237, 20, 61)",o),v=(s=Object(f.b)(function(e){return{fieldWidth:e.game.fieldWidth,fieldHeight:e.game.fieldHeight,heroStatus:e.hero.status,heroSize:e.hero.size,heroPos:{x:e.hero.x,y:e.hero.y},threatSize:e.threats.size,threats:e.threats.threats,shadows:e.hero.shadows,error:e.game.error}}))(u=function(e){function t(){var r,i,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return r=i=n(this,e.call.apply(e,[this].concat(u))),i.canvas=null,i.clear=function(){i.canvas.clearRect(0,0,i.props.fieldWidth,i.props.fieldHeight)},i.drawSquare=function(e){var t=e.pos,r=e.size,a=e.color;i.canvas.fillStyle=a,i.canvas.fillRect(Math.round(t.x-r),Math.round(t.y-r),2*r,2*r)},i.paint=function(){i.clear(),i.props.shadows.forEach(function(e,t){return i.drawSquare({pos:i.props.shadows[t],size:i.props.heroSize,color:"rgba(237, 20, 61, "+(i.props.shadows.length-t-1)/i.props.shadows.length*.2+")"})}),i.drawSquare({pos:i.props.heroPos,size:i.props.heroSize,color:b[i.props.heroStatus]}),i.props.threats.forEach(function(e){return i.drawSquare({pos:e,size:i.props.threatSize,color:"rgb(100, 149, 237)"})})},i.handleRefCanvas=function(e){i.canvas=e.getContext("2d"),i.props.refHandler(e)},o=r,n(i,o)}return i(t,e),t.prototype.componentDidMount=function(){this.paint()},t.prototype.componentDidUpdate=function(){this.paint()},t.prototype.render=function(){return h.a.createElement("div",{className:y.a.fieldWrapper},h.a.createElement("canvas",{className:y.a.field,ref:this.handleRefCanvas,width:this.props.fieldWidth,height:this.props.fieldHeight},"You are using an outdated browser."),h.a.createElement("div",{className:y.a.error},this.props.error))},t}(h.a.PureComponent))||u},sMfP:function(e,t,r){"use strict";var a=r("GiK3"),n=r.n(a),i=r("2KeS"),o=r("4ufr"),s=r.n(o),u=r("RH2O"),c=r("ChGC"),h=r("gIL8"),d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,f=Object(i.e)(Object(i.c)(c),d(Object(i.a)(s.a))),l=n.a.createElement(u.a,{store:f},n.a.createElement(h.a,null)),p=function(){return l};t.a=p},smes:function(e,t,r){"use strict";var a=r("liqn");t.a=function(e){var t=e.game.redSquares.getFieldSize();return{x:a.a.mousePos.x-t.left,y:a.a.mousePos.y-t.top}}},tNBi:function(e,t){e.exports={wrapper:"RedSquares__wrapper__n469N",fieldWrapper:"RedSquares__fieldWrapper__3xRFe",field:"RedSquares__field__3S_U-",error:"RedSquares__error__32Ynw",side:"RedSquares__side__1Qama"}},vlrw:function(e,t,r){"use strict";function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce(function(e,t){return t(e)},e)}}function n(e){return 0===e||isNaN(e)?e:e>0?1:-1}t.a=a,t.c=n,r.d(t,"b",function(){return i});var i=function(e,t){return{x:(e.fieldWidth-t)/2,y:(e.fieldHeight-t)/2}}}},[0]);
//# sourceMappingURL=app.d2547664.js.map